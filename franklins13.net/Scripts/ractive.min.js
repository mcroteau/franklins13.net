!function () {
    var t, e, n, i, r, o, s, a, u, c, h, l, d, f, p, v, m, g, y, b; t = function (t, e) { var n, i; return "object" != typeof e && (e = { delay: e }), e.delay || (e.delay = 250), function () { var r, o, s, a; r = arguments, o = Date.now(), a = e.context || this, s = function () { t.apply(a, r), n = Date.now() + e.delay, i = !1 }, n > o ? i || (setTimeout(s, n - o), i = !0) : s() } }, function (t) {
        var n = t.Ractive, i = function () { var t = { el: void 0, append: !1, template: { v: 1, t: [] }, "yield": null, preserveWhitespace: !1, sanitize: !1, stripComments: !0, data: {}, computed: {}, magic: !1, modifyArrays: !0, adapt: [], isolated: !1, twoway: !0, lazy: !1, noIntro: !1, transitionsEnabled: !0, complete: void 0, noCssTransform: !1, debug: !1 }; return t }(), r = { linear: function (t) { return t }, easeIn: function (t) { return Math.pow(t, 3) }, easeOut: function (t) { return Math.pow(t - 1, 3) + 1 }, easeInOut: function (t) { return (t /= .5) < 1 ? .5 * Math.pow(t, 3) : .5 * (Math.pow(t - 2, 3) + 2) } }, o = [], s = Object.prototype.hasOwnProperty, a = function () { var t = Object.prototype.toString; return function (e) { return "[object Array]" === t.call(e) } }(), u = function () { var t = Object.prototype.toString; return function (e) { return e && "[object Object]" === t.call(e) } }(), c = function (t) { return !isNaN(parseFloat(t)) && isFinite(t) }, h = function (t, e, n, i, r) { var o, s, a; return t.push(function () { s = t.interpolate }), a = /^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/, o = { number: function (t, e) { var n; return r(t) && r(e) ? (t = +t, e = +e, n = e - t, n ? function (e) { return t + e * n } : function () { return t }) : null }, array: function (t, e) { var i, r, o, a; if (!n(t) || !n(e)) return null; for (i = [], r = [], a = o = Math.min(t.length, e.length) ; a--;) r[a] = s(t[a], e[a]); for (a = o; a < t.length; a += 1) i[a] = t[a]; for (a = o; a < e.length; a += 1) i[a] = e[a]; return function (t) { for (var e = o; e--;) i[e] = r[e](t); return i } }, object: function (t, n) { var r, o, a, u, c; if (!i(t) || !i(n)) return null; r = [], u = {}, a = {}; for (c in t) e.call(t, c) && (e.call(n, c) ? (r.push(c), a[c] = s(t[c], n[c])) : u[c] = t[c]); for (c in n) e.call(n, c) && !e.call(t, c) && (u[c] = n[c]); return o = r.length, function (t) { for (var e, n = o; n--;) e = r[n], u[e] = a[e](t); return u } } } }(o, s, a, u, c), l = function () { var t; return t = "undefined" == typeof document ? !1 : document && document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") }(), d = function () { function t(t) { var e, i, r, o, s, a = ""; if (!n[t]) { for (r = []; a.length < t;) a += 1; for (e = parseInt(a, 2), o = function (t) { return "1" === t }, s = 0; e >= s; s += 1) { for (i = s.toString(2) ; i.length < t;) i = "0" + i; r[s] = Array.prototype.map.call(i, o) } n[t] = r } return n[t] } var e, n = {}; return e = function (e) { var i, r, o, s, a, u; for (i = e.split("."), (r = n[i.length]) || (r = t(i.length)), a = [], o = function (t, e) { return t ? "*" : i[e] }, s = r.length; s--;) u = r[s].map(o).join("."), a.hasOwnProperty(u) || (a.push(u), a[u] = !0); return a } }(), f = function (t) { function e(i, r, o, s) { var a = arguments[4]; void 0 === a && (a = !1); var u, c, h = !0; for (c = r.length; c >= 0; c--) u = i._subs[r[c]], u && (h = n(i, u, o, s) && h); if (i._parent && h) { if (a && i.component) { var l = i.component.name + "." + r[r.length - 1]; r = t(l), o && (o.component = i) } e(i._parent, r, o, s) } } function n(t, e, n, i) { var r = null, o = !1; n && (i = [n].concat(i)); for (var s = 0, a = e.length; a > s; s += 1) e[s].apply(t, i) === !1 && (o = !0); return n && o && (r = n.original) && (r.preventDefault && r.preventDefault(), r.stopPropagation && r.stopPropagation()), !o } var i; return i = function (n, i) { var r = arguments[2]; if (void 0 === r && (r = {}), i) { var o = t(i); e(n, o, r.event, r.args, !0) } } }(d), p = function (t, e) { var n = t.indexOf(e); -1 !== n && t.splice(n, 1) }, v = function () { function t(t) { setTimeout(t, 0) } function e(t, e) { return function () { for (var n; n = t.shift() ;) n(e) } } function n(t, e, i, o) { var s; if (e === t) throw new TypeError("A promise's fulfillment handler cannot return the same promise"); if (e instanceof r) e.then(i, o); else if (!e || "object" != typeof e && "function" != typeof e) i(e); else { try { s = e.then } catch (a) { return void o(a) } if ("function" == typeof s) { var u, c, h; c = function (e) { u || (u = !0, n(t, e, i, o)) }, h = function (t) { u || (u = !0, o(t)) }; try { s.call(e, c, h) } catch (a) { if (!u) return o(a), void (u = !0) } } else i(e) } } var i, r, o = {}, s = {}, a = {}; return "function" == typeof v ? r = v : (r = function (i) { var u, c, h, l, d, f, p = [], v = [], m = o; h = function (n) { return function (i) { m === o && (u = i, m = n, c = e(m === s ? p : v, u), t(c)) } }, l = h(s), d = h(a); try { i(l, d) } catch (g) { d(g) } return f = { then: function (e, i) { var s = new r(function (r, a) { var u = function (t, e, i) { e.push("function" == typeof t ? function (e) { var i; try { i = t(e), n(s, i, r, a) } catch (o) { a(o) } } : i) }; u(e, p, r), u(i, v, a), m !== o && t(c) }); return s } }, f["catch"] = function (t) { return this.then(null, t) }, f }, r.all = function (t) { return new r(function (e, n) { var i, r, o, s = []; if (!t.length) return void e(s); for (o = function (r) { t[r].then(function (t) { s[r] = t, --i || e(s) }, n) }, i = r = t.length; r--;) o(r) }) }, r.resolve = function (t) { return new r(function (e) { e(t) }) }, r.reject = function (t) { return new r(function (e, n) { n(t) }) }), i = r }(), m = function () { var t = /\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g; return function (e) { return (e || "").replace(t, ".$1") } }(), g = function (t) { do if (void 0 !== t.context) return t.context; while (t = t.parent); return "" }, y = function (t, e) { return null === t && null === e ? !0 : "object" == typeof t || "object" == typeof e ? !1 : t === e }, b = function (t, e, n) { var i; t.push(function () { return i = t.runloop }); var r = function (t, e, n, i, r) { this.root = t, this.keypath = e, this.priority = r, this.otherInstance = n, this.otherKeypath = i, this.bind(), this.value = this.root.viewmodel.get(this.keypath) }; return r.prototype = { setValue: function (t) { var r = this; return this.updating || this.counterpart && this.counterpart.updating ? void (this.value = t) : void (e(t) && t._ractive && t._ractive.setting || n(t, this.value) || (this.updating = !0, i.addViewmodel(this.otherInstance.viewmodel), this.otherInstance.viewmodel.set(this.otherKeypath, t), this.value = t, i.scheduleTask(function () { return r.updating = !1 }))) }, bind: function () { this.root.viewmodel.register(this.keypath, this) }, rebind: function (t) { this.unbind(), this.keypath = t, this.counterpart.otherKeypath = t, this.bind() }, unbind: function () { this.root.viewmodel.unregister(this.keypath, this) } }, function (t, e, n, i) { var o, s, a, u, c, h; o = n + "=" + i, a = t.bindings, a[o] || (s = t.instance, u = t.parentFragment.priority, c = new r(e, n, s, i, u), a.push(c), s.twoway && (h = new r(s, i, e, n, 1), a.push(h), c.counterpart = h, h.counterpart = c), a[o] = c) } }(o, a, y), w = function (t, e, n) { function i(t, e) { var n; if ("." === e) return t; if (n = t ? t.split(".") : [], "../" === e.substr(0, 3)) { for (; "../" === e.substr(0, 3) ;) { if (!n.length) throw new Error(o); n.pop(), e = e.substring(3) } return n.push(e), n.join(".") } return t ? t + e.replace(/^\.\//, ".") : e.replace(/^\.\/?/, "") } var r, o, s; return o = 'Could not resolve reference - too many "../" prefixes', s = { evaluateWrapped: !0 }, r = function a(r, o, u) { var c, h, l, d, f, p, v, m, g, y; if (o = t(o), "~/" === o.substr(0, 2)) return o.substring(2); if ("." === o.charAt(0)) return i(e(u), o); h = o.split(".")[0]; do if (c = u.context, c && (p = !0, f = r.viewmodel.get(c, s), f && ("object" == typeof f || "function" == typeof f) && h in f)) return c + "." + o; while (u = u.parent); if (h in r.data || h in r.viewmodel.computations) return o; if (r._parent && !r.isolated) { if (u = r.component.parentFragment, u.indexRefs && void 0 !== (l = u.indexRefs[o])) return r.component.indexRefBindings[o] = o, void r.viewmodel.set(o, l, !0); if (d = a(r._parent, o, u)) { for (v = d.split("."), m = o.split(".") ; v.length > 1 && m.length > 1 && v[v.length - 1] === m[m.length - 1];) v.pop(), m.pop(); return g = v.join("."), y = m.join("."), r.viewmodel.set(y, r._parent.viewmodel.get(g), !0), n(r.component, r._parent, g, y), o } } return p ? void 0 !== r.viewmodel.get(o) ? o : void 0 : o } }(m, g, b), E = function (t) { function e(t) { t.detach() } function n(t) { t.detachNodes() } function i(t) { !t.ready || t.outros.length || t.outroChildren || (t.outrosComplete || (t.parent ? t.parent.decrementOutros(t) : t.detachNodes(), t.outrosComplete = !0), t.intros.length || t.totalChildren || ("function" == typeof t.callback && t.callback(), t.parent && t.parent.decrementTotal())) } var r = function (t, e) { this.callback = t, this.parent = e, this.intros = [], this.outros = [], this.children = [], this.totalChildren = this.outroChildren = 0, this.detachQueue = [], this.outrosComplete = !1, e && e.addChild(this) }; return r.prototype = { addChild: function (t) { this.children.push(t), this.totalChildren += 1, this.outroChildren += 1 }, decrementOutros: function () { this.outroChildren -= 1, i(this) }, decrementTotal: function () { this.totalChildren -= 1, i(this) }, add: function (t) { var e = t.isIntro ? this.intros : this.outros; e.push(t) }, remove: function (e) { var n = e.isIntro ? this.intros : this.outros; t(n, e), i(this) }, init: function () { this.ready = !0, i(this) }, detachNodes: function () { this.detachQueue.forEach(e), this.children.forEach(n) } }, r }(p), x = function (t, e, n, i, r, o) { function s() { var t, n, i; for (t = 0; t < h.viewmodels.length; t += 1) n = h.viewmodels[t], i = n.applyChanges(), i && e(n.ractive, "change", { args: [i] }); for (h.viewmodels.length = 0, a(), t = 0; t < h.views.length; t += 1) h.views[t].update(); for (h.views.length = 0, t = 0; t < h.tasks.length; t += 1) h.tasks[t](); return h.tasks.length = 0, h.viewmodels.length ? s() : void 0 } function a() { var t, e, n, i; for (t = d.length; t--;) e = d[t], e.keypath && d.splice(t, 1), (n = r(e.root, e.ref, e.parentFragment)) && ((i || (i = [])).push({ item: e, keypath: n }), d.splice(t, 1)); i && i.forEach(u) } function u(t) { t.item.resolve(t.keypath) } var c, h, l, d = []; return l = { start: function (t, e) { var n, r; return e && (n = new i(function (t) { return r = t })), h = { previousBatch: h, transitionManager: new o(r, h && h.transitionManager), views: [], tasks: [], viewmodels: [] }, t && h.viewmodels.push(t.viewmodel), n }, end: function () { s(), h.transitionManager.init(), h = h.previousBatch }, addViewmodel: function (t) { h ? -1 === h.viewmodels.indexOf(t) && h.viewmodels.push(t) : t.applyChanges() }, registerTransition: function (t) { t._manager = h.transitionManager, h.transitionManager.add(t) }, addView: function (t) { h.views.push(t) }, addUnresolved: function (t) { d.push(t) }, removeUnresolved: function (t) { n(d, t) }, detachWhenReady: function (t) { h.transitionManager.detachQueue.push(t) }, scheduleTask: function (t) { h ? h.tasks.push(t) : t() } }, t.runloop = l, c = l }(o, f, p, v, w, E), k = function () { var t = /^\s*[0-9]+\s*$/; return function (e) { return t.test(e) ? [] : {} } }(), _ = function (t, e, n) { function i(e, n, i) { function r(e) { var i, r; e.value = n, e.updating || (r = e.ractive, i = e.keypath, e.updating = !0, t.start(r), r.viewmodel.mark(i), t.end(), e.updating = !1) } var o, s, a, u, c, h; if (o = e.obj, s = e.prop, i && !i.configurable) { if ("length" === s) return; throw new Error('Cannot use magic mode with property "' + s + '" - object is not configurable') } i && (a = i.get, u = i.set), c = a || function () { return n }, h = function (t) { u && u(t), n = a ? a() : t, h._ractiveWrappers.forEach(r) }, h._ractiveWrappers = [e], Object.defineProperty(o, s, { get: c, set: h, enumerable: !0, configurable: !0 }) } var r, o, s; try { Object.defineProperty({}, "test", { value: 0 }), o = { filter: function (t, e, i) { var r, o, s, a, u; return e ? (r = e.split("."), o = r.pop(), s = r.join("."), (a = i.viewmodel.wrapped[s]) && !a.magic ? !1 : (u = i.get(s), n(u) && /^[0-9]+$/.test(o) ? !1 : u && ("object" == typeof u || "function" == typeof u))) : !1 }, wrap: function (t, e, n) { return new s(t, e, n) } }, s = function (t, e, n) { var r, o, s, a; return this.magic = !0, this.ractive = t, this.keypath = n, this.value = e, r = n.split("."), this.prop = r.pop(), o = r.join("."), this.obj = o ? t.get(o) : t.data, s = this.originalDescriptor = Object.getOwnPropertyDescriptor(this.obj, this.prop), s && s.set && (a = s.set._ractiveWrappers) ? void (-1 === a.indexOf(this) && a.push(this)) : void i(this, e, s) }, s.prototype = { get: function () { return this.value }, reset: function (e) { this.updating || (this.updating = !0, this.obj[this.prop] = e, t.addViewmodel(this.ractive.viewmodel), this.ractive.viewmodel.mark(this.keypath), this.updating = !1) }, set: function (t, n) { this.updating || (this.obj[this.prop] || (this.updating = !0, this.obj[this.prop] = e(t), this.updating = !1), this.obj[this.prop][t] = n) }, teardown: function () { var t, e, n, i, r; return this.updating ? !1 : (t = Object.getOwnPropertyDescriptor(this.obj, this.prop), e = t && t.set, void (e && (i = e._ractiveWrappers, r = i.indexOf(this), -1 !== r && i.splice(r, 1), i.length || (n = this.obj[this.prop], Object.defineProperty(this.obj, this.prop, this.originalDescriptor || { writable: !0, enumerable: !0, configurable: !0 }), this.obj[this.prop] = n)))) } } } catch (a) { o = !1 } return r = o }(x, k, a), T = function (t) { return !!t }(_), S = { html: "http://www.w3.org/1999/xhtml", mathml: "http://www.w3.org/1998/Math/MathML", svg: "http://www.w3.org/2000/svg", xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }, A = function (t, e) { var n; return n = t ? function (t, n) { return n && n !== e.html ? document.createElementNS(n, t) : document.createElement(t) } : function (t, n) { if (n && n !== e.html) throw "This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information"; return document.createElement(t) } }(l, S), O = function () { var t = "object" == typeof document; return t }(), C = function (t) { var e; try { Object.defineProperty({}, "test", { value: 0 }), t && Object.defineProperty(document.createElement("div"), "test", { value: 0 }), e = Object.defineProperty } catch (n) { e = function (t, e, n) { t[e] = n.value } } return e }(O), L = function (t, e, n) { var i; try { try { Object.defineProperties({}, { test: { value: 0 } }) } catch (r) { throw r } n && Object.defineProperties(t("div"), { test: { value: 0 } }), i = Object.defineProperties } catch (r) { i = function (t, n) { var i; for (i in n) n.hasOwnProperty(i) && e(t, i, n[i]) } } return i }(A, C, O), N = function (t) { return function (e, n, i) { var r; if ("string" != typeof n || !t(i)) throw new Error("Bad arguments"); if (r = +e.get(n) || 0, !t(r)) throw new Error("Cannot add to a non-numeric value"); return e.set(n, r + i) } }(c), R = function (t) { return function (e, n) { return t(this, e, void 0 === n ? 1 : +n) } }(N), P = function (t) { var e = /^\.+/; return function (n) { return t(n).replace(e, "") } }(m), I = ["o", "ms", "moz", "webkit"], z = function (t) { var e; return "undefined" == typeof window ? e = null : (!function (t, e, n) { var i, r; if (!n.requestAnimationFrame) { for (i = 0; i < t.length && !n.requestAnimationFrame; ++i) n.requestAnimationFrame = n[t[i] + "RequestAnimationFrame"]; n.requestAnimationFrame || (r = n.setTimeout, n.requestAnimationFrame = function (t) { var n, i, o; return n = Date.now(), i = Math.max(0, 16 - (n - e)), o = r(function () { t(n + i) }, i), e = n + i, o }) } }(t, 0, window), e = window.requestAnimationFrame), e }(I), F = function () { var t; return t = "undefined" != typeof window && window.performance && "function" == typeof window.performance.now ? function () { return window.performance.now() } : function () { return Date.now() } }(), M = function (t, e, n) { var i = [], r = { tick: function () { var o, s, a; for (a = e(), n.start(), o = 0; o < i.length; o += 1) s = i[o], s.tick(a) || i.splice(o--, 1); n.end(), i.length ? t(r.tick) : r.running = !1 }, add: function (e) { i.push(e), r.running || (r.running = !0, t(r.tick)) }, abort: function (t, e) { for (var n, r = i.length; r--;) n = i[r], n.root === e && n.keypath === t && n.stop() } }; return r }(z, F, x), j = function () { var t, e = {}; return t = "undefined" != typeof console && "function" == typeof console.warn && "function" == typeof console.warn.apply ? function (t, n) { if (!n) { if (e[t]) return; e[t] = !0 } console.warn(t) } : function () { } }(), D = function () { function t(t) { return t.trim ? t.trim() : t.replace(/^\s+/, "").replace(/\s+$/, "") } function e(t) { return t.str } var n, i = /(?:^|\})?\s*([^\{\}]+)\s*\{/g, r = /\/\*.*?\*\//g, o = /((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g, s = /^@media/, a = /\[data-rvcguid="[a-z0-9-]+"]/g; return n = function (n, u) { var c, h; return h = function (t) { var n, i, r, s, a, c, h, l, d = []; for (n = []; i = o.exec(t) ;) n.push({ str: i[0], base: i[1], modifiers: i[2] }); for (s = '[data-rvcguid="' + u + '"]', a = n.map(e), l = n.length; l--;) h = a.slice(), r = n[l], h[l] = r.base + s + r.modifiers || "", c = a.slice(), c[l] = s + " " + c[l], d.push(h.join(" "), c.join(" ")); return d.join(", ") }, c = a.test(n) ? n.replace(a, '[data-rvcguid="' + u + '"]') : n.replace(r, "").replace(i, function (e, n) { var i, r; return s.test(n) ? e : (i = n.split(",").map(t), r = i.map(h).join(", ") + " ", e.replace(n, r)) }) } }(), V = function (t) { function e(t, e, i) { var r, o = e.constructor._guid; (r = n(i.css, i, o) || n(t.css, t, o)) && (e.constructor.css = r) } function n(e, n, i) { return e ? n.noCssTransform ? e : t(e, i) : void 0 } var i = { name: "css", extend: e, init: function () { } }; return i }(D), U = function () { function t(t, e) { return "function" == typeof e && /_super/.test(t) } var e; return e = function (e, n, i) { return i || t(e, n) ? function () { var t, i = "_super" in this, r = this._super; return this._super = n, t = e.apply(this, arguments), i && (this._super = r), t } : e } }(), B = function (t) { function e(t, e, n) { var i = n.data || {}, r = o(t.prototype.data); return s(r, i) } function n(t, n, i) { n.data = e(t, n, i) } function i(t, n, i) { var r = i.data, o = e(t, n, i); return "function" == typeof o && (o = o.call(n, r) || r), n.data = o || {} } function r(t) { var e = this.init(t.constructor, t, t); return e ? (t.data = e, !0) : void 0 } function o(t) { if ("function" != typeof t || !Object.keys(t).length) return t; var e = {}; return a(t, e), s(t, e) } function s(t, e) { return "function" == typeof e ? h(e, t) : "function" == typeof t ? c(e, t) : u(e, t) } function a(t, e, n) { for (var i in t) n && i in e || (e[i] = t[i]) } function u(t, e) { return t = t || {}, e ? (a(e, t, !0), t) : t } function c(t, e) { return function (n) { var i; if (t) { i = []; for (var r in t) n && r in n || i.push(r) } return n = e.call(this, n) || n, i && i.length && (n = n || {}, i.forEach(function (e) { n[e] = t[e] })), n } } function h(e, n) { var i; return i = "function" != typeof n ? function (t) { u(t, n) } : function (e) { return n = t(n, function () { }, !0), n.call(this, e) || e }, t(e, i) } var l, d = { name: "data", extend: n, init: i, reset: r }; return l = d }(U), W = { missingParser: "Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser", mergeComparisonFail: "Merge operation: comparison failed. Falling back to identity checking", noComponentEventArguments: "Components currently only support simple events - you cannot include arguments. Sorry!", noTemplateForPartial: 'Could not find template for partial "{name}"', noNestedPartials: "Partials ({{>{name}}}) cannot contain nested inline partials", evaluationError: 'Error evaluating "{uniqueString}": {err}', badArguments: "Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.", failedComputation: 'Failed to compute "{key}": {err}', missingPlugin: 'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s', badRadioInputBinding: "A radio input can have two-way binding on its name attribute, or its checked attribute - not both", noRegistryFunctionReturn: 'A function was specified for "{name}" {registry}, but no {registry} was returned', defaultElSpecified: "The <{name}/> component has a default `el` property; it has been disregarded", noElementProxyEventWildcards: 'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.' }, $ = { TEXT: 1, INTERPOLATOR: 2, TRIPLE: 3, SECTION: 4, INVERTED: 5, CLOSING: 6, ELEMENT: 7, PARTIAL: 8, COMMENT: 9, DELIMCHANGE: 10, MUSTACHE: 11, TAG: 12, ATTRIBUTE: 13, CLOSING_TAG: 14, COMPONENT: 15, NUMBER_LITERAL: 20, STRING_LITERAL: 21, ARRAY_LITERAL: 22, OBJECT_LITERAL: 23, BOOLEAN_LITERAL: 24, GLOBAL: 26, KEY_VALUE_PAIR: 27, REFERENCE: 30, REFINEMENT: 31, MEMBER: 32, PREFIX_OPERATOR: 33, BRACKETED: 34, CONDITIONAL: 35, INFIX_OPERATOR: 36, INVOCATION: 40, SECTION_IF: 50, SECTION_UNLESS: 51, SECTION_EACH: 52, SECTION_WITH: 53 }, q = function () { var t; try { Object.create(null), t = Object.create } catch (e) { t = function () { var t = function () { }; return function (e, n) { var i; return null === e ? {} : (t.prototype = e, i = new t, n && Object.defineProperties(i, n), i) } }() } return t }(), H = { expectedExpression: "Expected a JavaScript expression", expectedParen: "Expected closing paren" }, G = function (t) { var e = /^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/; return function (n) { var i; return (i = n.matchPattern(e)) ? { t: t.NUMBER_LITERAL, v: i } : null } }($), K = function (t) { return function (e) { var n = e.remaining(); return "true" === n.substr(0, 4) ? (e.pos += 4, { t: t.BOOLEAN_LITERAL, v: "true" }) : "false" === n.substr(0, 5) ? (e.pos += 5, { t: t.BOOLEAN_LITERAL, v: "false" }) : null } }($), Z = function () { var t, e, n; return t = /^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/, e = /^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/, n = /^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/, function (i) { return function (r) { var o, s, a, u; for (o = r.pos, s = '"', a = !1; !a;) u = r.matchPattern(t) || r.matchPattern(e) || r.matchString(i), u ? s += '"' === u ? '\\"' : "\\'" === u ? "'" : u : (u = r.matchPattern(n), u ? s += "\\u" + ("000" + u.charCodeAt(1).toString(16)).slice(-4) : a = !0); return s += '"', JSON.parse(s) } } }(), Q = function (t) { return t('"') }(Z), Y = function (t) { return t("'") }(Z), X = function (t, e, n) { return function (i) { var r, o; return r = i.pos, i.matchString('"') ? (o = n(i), i.matchString('"') ? { t: t.STRING_LITERAL, v: o } : (i.pos = r, null)) : i.matchString("'") ? (o = e(i), i.matchString("'") ? { t: t.STRING_LITERAL, v: o } : (i.pos = r, null)) : null } }($, Q, Y), J = { name: /^[a-zA-Z_$][a-zA-Z_$0-9]*/ }, te = function (t, e, n) { var i = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/; return function (r) { var o; return (o = t(r)) ? i.test(o.v) ? o.v : '"' + o.v.replace(/"/g, '\\"') + '"' : (o = e(r)) ? o.v : (o = r.matchPattern(n.name)) ? o : void 0 } }(X, G, J), ee = function (t, e) { return function (n) { var i, r, o; return i = n.pos, n.allowWhitespace(), r = e(n), null === r ? (n.pos = i, null) : (n.allowWhitespace(), n.matchString(":") ? (n.allowWhitespace(), o = n.readExpression(), null === o ? (n.pos = i, null) : { t: t.KEY_VALUE_PAIR, k: r, v: o }) : (n.pos = i, null)) } }($, te), ne = function (t) { return function e(n) { var i, r, o, s; return i = n.pos, o = t(n), null === o ? null : (r = [o], n.matchString(",") ? (s = e(n), s ? r.concat(s) : (n.pos = i, null)) : r) } }(ee), ie = function (t, e) { return function (n) { var i, r; return i = n.pos, n.allowWhitespace(), n.matchString("{") ? (r = e(n), n.allowWhitespace(), n.matchString("}") ? { t: t.OBJECT_LITERAL, m: r } : (n.pos = i, null)) : (n.pos = i, null) } }($, ne), re = function (t) { return function e(n) { function i(t) { o.push(t) } var r, o, s, a; return r = n.pos, n.allowWhitespace(), s = n.readExpression(), null === s ? null : (o = [s], n.allowWhitespace(), n.matchString(",") && (a = e(n), null === a && n.error(t.expectedExpression), a.forEach(i)), o) } }(H), oe = function (t, e) { return function (n) { var i, r; return i = n.pos, n.allowWhitespace(), n.matchString("[") ? (r = e(n), n.matchString("]") ? { t: t.ARRAY_LITERAL, m: r } : (n.pos = i, null)) : (n.pos = i, null) } }($, re), se = function (t, e, n, i, r) { return function (o) { var s = t(o) || e(o) || n(o) || i(o) || r(o); return s } }(G, K, X, ie, oe), ae = function (t, e) { var n, i, r, o, s; return n = /^\.[a-zA-Z_$0-9]+/, r = function (t) { var e = t.matchPattern(i); return e ? "." + e : null }, i = /^\[(0|[1-9][0-9]*)\]/, o = /^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/, s = /^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/, function (i) { var a, u, c, h, l, d, f; if (a = i.pos, i.matchString("~/")) u = "~/"; else for (u = ""; i.matchString("../") ;) u += "../"; if (u || (h = i.matchString(".") || ""), c = i.matchPattern(/^@(?:index|key)/) || i.matchPattern(e.name) || "", s.test(c)) return i.pos = a, null; if (!u && !h && o.test(c)) return { t: t.GLOBAL, v: c }; if (l = (u || h) + c, !l) return null; for (; d = i.matchPattern(n) || r(i) ;) l += d; return i.matchString("(") && (f = l.lastIndexOf("."), -1 !== f ? (l = l.substr(0, f), i.pos = a + l.length) : i.pos -= 1), { t: t.REFERENCE, n: l.replace(/^this\./, "./").replace(/^this$/, ".") } } }($, J), ue = function (t, e) { return function (n) { var i, r; return i = n.pos, n.matchString("(") ? (n.allowWhitespace(), r = n.readExpression(), r || n.error(e.expectedExpression), n.allowWhitespace(), n.matchString(")") || n.error(e.expectedParen), { t: t.BRACKETED, x: r }) : null } }($, H), ce = function (t, e, n) { return function (i) { return t(i) || e(i) || n(i) } }(se, ae, ue), he = function (t, e, n) { return function (i) { var r, o, s; if (r = i.pos, i.allowWhitespace(), i.matchString(".")) { if (i.allowWhitespace(), o = i.matchPattern(n.name)) return { t: t.REFINEMENT, n: o }; i.error("Expected a property name") } return i.matchString("[") ? (i.allowWhitespace(), s = i.readExpression(), s || i.error(e.expectedExpression), i.allowWhitespace(), i.matchString("]") || i.error("Expected ']'"), { t: t.REFINEMENT, x: s }) : null } }($, H, J), le = function (t, e, n, i, r) { return function (o) { var s, a, u, c; if (a = e(o), !a) return null; for (; a;) if (s = o.pos, u = i(o)) a = { t: t.MEMBER, x: a, r: u }; else { if (!o.matchString("(")) break; o.allowWhitespace(), c = n(o), o.allowWhitespace(), o.matchString(")") || o.error(r.expectedParen), a = { t: t.INVOCATION, x: a }, c && (a.o = c) } return a } }($, ce, re, he, H), de = function (t, e, n) { var i, r; return r = function (n, i) { return function (r) { var o; return (o = i(r)) ? o : r.matchString(n) ? (r.allowWhitespace(), o = r.readExpression(), o || r.error(e.expectedExpression), { s: n, o: o, t: t.PREFIX_OPERATOR }) : null } }, function () { var t, e, o, s, a; for (s = "! ~ + - typeof".split(" "), a = n, t = 0, e = s.length; e > t; t += 1) o = r(s[t], a), a = o; i = a }(), i }($, H, le), fe = function (t, e) { var n, i; return i = function (e, n) { return function (i) { var r, o, s; if (o = n(i), !o) return null; for (; ;) { if (r = i.pos, i.allowWhitespace(), !i.matchString(e)) return i.pos = r, o; if ("in" === e && /[a-zA-Z_$0-9]/.test(i.remaining().charAt(0))) return i.pos = r, o; if (i.allowWhitespace(), s = n(i), !s) return i.pos = r, o; o = { t: t.INFIX_OPERATOR, s: e, o: [o, s] } } } }, function () { var t, r, o, s, a; for (s = "* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "), a = e, t = 0, r = s.length; r > t; t += 1) o = i(s[t], a), a = o; n = a }(), n }($, de), pe = function (t, e, n) { return function (i) { var r, o, s, a; return (o = e(i)) ? (r = i.pos, i.allowWhitespace(), i.matchString("?") ? (i.allowWhitespace(), s = i.readExpression(), s || i.error(n.expectedExpression), i.allowWhitespace(), i.matchString(":") || i.error('Expected ":"'), i.allowWhitespace(), a = i.readExpression(), a || i.error(n.expectedExpression), { t: t.CONDITIONAL, o: [o, s, a] }) : (i.pos = r, o)) : null } }($, fe, H), ve = function (t, e) { function n(t) { return JSON.stringify(String(t)) } function i(n, r) { var o, s; if (n.t === t.REFERENCE && -1 === r.indexOf(n.n) && r.unshift(n.n), s = n.o || n.m) if (e(s)) i(s, r); else for (o = s.length; o--;) i(s[o], r); n.x && i(n.x, r), n.r && i(n.r, r), n.v && i(n.v, r) } function r(e, i, o) { var s = function (t) { return r(e, t, o) }; switch (i.t) { case t.BOOLEAN_LITERAL: case t.GLOBAL: case t.NUMBER_LITERAL: return i.v; case t.STRING_LITERAL: return n(i.v); case t.ARRAY_LITERAL: return "[" + (i.m ? i.m.map(s).join(",") : "") + "]"; case t.OBJECT_LITERAL: return "{" + (i.m ? i.m.map(s).join(",") : "") + "}"; case t.KEY_VALUE_PAIR: return i.k + ":" + r(e, i.v, o); case t.PREFIX_OPERATOR: return ("typeof" === i.s ? "typeof " : i.s) + r(e, i.o, o); case t.INFIX_OPERATOR: return r(e, i.o[0], o) + ("in" === i.s.substr(0, 2) ? " " + i.s + " " : i.s) + r(e, i.o[1], o); case t.INVOCATION: return r(e, i.x, o) + "(" + (i.o ? i.o.map(s).join(",") : "") + ")"; case t.BRACKETED: return "(" + r(e, i.x, o) + ")"; case t.MEMBER: return r(e, i.x, o) + r(e, i.r, o); case t.REFINEMENT: return i.n ? "." + i.n : "[" + r(e, i.x, o) + "]"; case t.CONDITIONAL: return r(e, i.o[0], o) + "?" + r(e, i.o[1], o) + ":" + r(e, i.o[2], o); case t.REFERENCE: return "_" + o.indexOf(i.n); default: e.error("Expected legal JavaScript") } } var o; return o = function (t) { var e, n = []; return i(t, n), e = { r: n, s: r(this, t, n) } } }($, u), me = function (t, e, n, i, r) { var o, s, a = /^\s+/; return s = function (t) { this.name = "ParseError", this.message = t; try { throw new Error(t) } catch (e) { this.stack = e.stack } }, s.prototype = Error.prototype, o = function (t, e) { var n, i, r = 0; for (this.str = t, this.options = e || {}, this.pos = 0, this.lines = this.str.split("\n"), this.lineEnds = this.lines.map(function (t) { var e = r + t.length + 1; return r = e, e }, 0), this.init && this.init(t, e), n = []; this.pos < this.str.length && (i = this.read()) ;) n.push(i); this.leftover = this.remaining(), this.result = this.postProcess ? this.postProcess(n, e) : n }, o.prototype = { read: function (t) { var e, n, i, r; for (t || (t = this.converters), e = this.pos, i = t.length, n = 0; i > n; n += 1) if (this.pos = e, r = t[n](this)) return r; return null }, readExpression: function () { return i(this) }, flattenExpression: r, getLinePos: function (t) { for (var e, n = 0, i = 0; t >= this.lineEnds[n];) i = this.lineEnds[n], n += 1; return e = t - i, [n + 1, e + 1] }, error: function (t) { var e, n, i, r, o, a; throw e = this.getLinePos(this.pos), n = e[0], i = e[1], r = this.lines[e[0] - 1], o = r + "\n" + new Array(e[1]).join(" ") + "^----", a = new s(t + " at line " + n + " character " + i + ":\n" + o), a.line = e[0], a.character = e[1], a.shortMessage = t, a }, matchString: function (t) { return this.str.substr(this.pos, t.length) === t ? (this.pos += t.length, t) : void 0 }, matchPattern: function (t) { var e; return (e = t.exec(this.remaining())) ? (this.pos += e[0].length, e[1] || e[0]) : void 0 }, allowWhitespace: function () { this.matchPattern(a) }, remaining: function () { return this.str.substring(this.pos) }, nextChar: function () { return this.str.charAt(this.pos) } }, o.extend = function (t) { var i, r, s = this; i = function (t, e) { o.call(this, t, e) }, i.prototype = e(s.prototype); for (r in t) n.call(t, r) && (i.prototype[r] = t[r]); return i.extend = o.extend, i }, t.Parser = o, o }(o, q, s, pe, ve), ge = function () { var t = /^[^\s=]+/, e = /^\s+/; return function (n) { var i, r, o; return n.matchString("=") ? (i = n.pos, n.allowWhitespace(), (r = n.matchPattern(t)) ? n.matchPattern(e) ? (o = n.matchPattern(t)) ? (n.allowWhitespace(), n.matchString("=") ? [r, o] : (n.pos = i, null)) : (n.pos = i, null) : null : (n.pos = i, null)) : null } }(), ye = [{ delimiters: "delimiters", isTriple: !1, isStatic: !1 }, { delimiters: "tripleDelimiters", isTriple: !0, isStatic: !1 }, { delimiters: "staticDelimiters", isTriple: !1, isStatic: !0 }, { delimiters: "staticTripleDelimiters", isTriple: !0, isStatic: !0 }], be = function (t) { var e = { "#": t.SECTION, "^": t.INVERTED, "/": t.CLOSING, ">": t.PARTIAL, "!": t.COMMENT, "&": t.TRIPLE }; return function (t) { var n = e[t.str.charAt(t.pos)]; return n ? (t.pos += 1, n) : null } }($), we = function (t) { return { "if": t.SECTION_IF, unless: t.SECTION_UNLESS, "with": t.SECTION_WITH, each: t.SECTION_EACH } }($), Ee = function () {
            var t, e, n; return "undefined" == typeof window ? n = null : (t = window, e = t.document, n = {}, e || (n = null), Date.now || (Date.now = function () { return +new Date }), String.prototype.trim || (String.prototype.trim = function () { return this.replace(/^\s+/, "").replace(/\s+$/, "") }), Object.keys || (Object.keys = function () { var t = Object.prototype.hasOwnProperty, e = !{ toString: null }.propertyIsEnumerable("toString"), n = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], i = n.length; return function (r) { if ("object" != typeof r && "function" != typeof r || null === r) throw new TypeError("Object.keys called on non-object"); var o = []; for (var s in r) t.call(r, s) && o.push(s); if (e) for (var a = 0; i > a; a++) t.call(r, n[a]) && o.push(n[a]); return o } }()), Array.prototype.indexOf || (Array.prototype.indexOf = function (t, e) { var n; for (void 0 === e && (e = 0), 0 > e && (e += this.length), 0 > e && (e = 0), n = this.length; n > e; e++) if (this.hasOwnProperty(e) && this[e] === t) return e; return -1 }), Array.prototype.forEach || (Array.prototype.forEach = function (t, e) { var n, i; for (n = 0, i = this.length; i > n; n += 1) this.hasOwnProperty(n) && t.call(e, this[n], n, this) }), Array.prototype.map || (Array.prototype.map = function (t, e) { var n, i, r, o = this, s = []; for (o instanceof String && (o = o.toString(), r = !0), n = 0, i = o.length; i > n; n += 1) (o.hasOwnProperty(n) || r) && (s[n] = t.call(e, o[n], n, o)); return s }), "function" != typeof Array.prototype.reduce && (Array.prototype.reduce = function (t, e) { var n, i, r, o; if ("function" != typeof t) throw new TypeError(t + " is not a function"); for (r = this.length, o = !1, arguments.length > 1 && (i = e, o = !0), n = 0; r > n; n += 1) this.hasOwnProperty(n) ? o && (i = t(i, this[n], n, this)) : (i = this[n], o = !0); if (!o) throw new TypeError("Reduce of empty array with no initial value"); return i }), Array.prototype.filter || (Array.prototype.filter = function (t, e) { var n, i, r = []; for (n = 0, i = this.length; i > n; n += 1) this.hasOwnProperty(n) && t.call(e, this[n], n, this) && (r[r.length] = this[n]); return r }), Array.prototype.every || (Array.prototype.every = function (t, e) { var n, i, r; if (null == this) throw new TypeError; if (n = Object(this), i = n.length >>> 0, "function" != typeof t) throw new TypeError; for (r = 0; i > r; r += 1) if (r in n && !t.call(e, n[r], r, n)) return !1; return !0 }), "function" != typeof Function.prototype.bind && (Function.prototype.bind = function (t) { var e, n, i, r, o = [].slice; if ("function" != typeof this) throw new TypeError("Function.prototype.bind called on non-function"); return e = o.call(arguments, 1), n = this, i = function () { }, r = function () { var r = this instanceof i && t ? this : t; return n.apply(r, e.concat(o.call(arguments))) }, i.prototype = this.prototype, r.prototype = new i, r }), t.addEventListener || !function (t, e) { var n, i, r, o, s, a; n = function (t, e) { var n, i = this; for (n in t) i[n] = t[n]; i.currentTarget = e, i.target = t.srcElement || e, i.timeStamp = +new Date, i.preventDefault = function () { t.returnValue = !1 }, i.stopPropagation = function () { t.cancelBubble = !0 } }, i = function (t, e) { var i, r, o = this; i = o.listeners || (o.listeners = []), r = i.length, i[r] = [e, function (t) { e.call(o, new n(t, o)) }], o.attachEvent("on" + t, i[r][1]) }, r = function (t, e) { var n, i, r = this; if (r.listeners) for (n = r.listeners, i = n.length; i--;) n[i][0] === e && r.detachEvent("on" + t, n[i][1]) }, t.addEventListener = e.addEventListener = i, t.removeEventListener = e.removeEventListener = r, "Element" in t ? (t.Element.prototype.addEventListener = i, t.Element.prototype.removeEventListener = r) : (a = e.createElement, e.createElement = function (t) { var e = a(t); return e.addEventListener = i, e.removeEventListener = r, e }, o = e.getElementsByTagName("head")[0], s = e.createElement("style"), o.insertBefore(s, o.firstChild)) }(t, e), t.getComputedStyle || (n.getComputedStyle = function () {
                function t(n, i, r, o) {
                    var s, a = i[r], u = parseFloat(a), c = a.split(/\d/)[0]; return isNaN(u) && /^thin|medium|thick$/.test(a) && (u = e(a), c = ""), o = null != o ? o : /%|em/.test(c) && n.parentElement ? t(n.parentElement, n.parentElement.currentStyle, "fontSize", null) : 16, s = "fontSize" == r ? o : /width/i.test(r) ? n.clientWidth : n.clientHeight, "em" == c ? u * o : "in" == c ? 96 * u : "pt" == c ? 96 * u / 72 : "%" == c ? u / 100 * s : u
                } function e(t) { var e, n; return o[t] || (e = document.createElement("div"), e.style.display = "block", e.style.position = "fixed", e.style.width = e.style.height = "0", e.style.borderRight = t + " solid black", document.getElementsByTagName("body")[0].appendChild(e), n = e.getBoundingClientRect(), o[t] = n.right - n.left), o[t] } function n(t, e) { var n = "border" == e ? "Width" : "", i = e + "Top" + n, r = e + "Right" + n, o = e + "Bottom" + n, s = e + "Left" + n; t[e] = (t[i] == t[r] == t[o] == t[s] ? [t[i]] : t[i] == t[o] && t[s] == t[r] ? [t[i], t[r]] : t[s] == t[r] ? [t[i], t[r], t[o]] : [t[i], t[r], t[o], t[s]]).join(" ") } function i(e) { var i, r, o, s; i = e.currentStyle, r = this, o = t(e, i, "fontSize", null); for (s in i) /width|height|margin.|padding.|border.+W/.test(s) ? "auto" === i[s] ? /^width|height/.test(s) ? r[s] = ("width" === s ? e.clientWidth : e.clientHeight) + "px" : /(?:padding)?Top|Bottom$/.test(s) && (r[s] = "0px") : r[s] = t(e, i, s, o) + "px" : "styleFloat" === s ? r.float = i[s] : r[s] = i[s]; return n(r, "margin"), n(r, "padding"), n(r, "border"), r.fontSize = o + "px", r } function r(t) { return new i(t) } var o = {}; return i.prototype = { constructor: i, getPropertyPriority: function () { }, getPropertyValue: function (t) { return this[t] || "" }, item: function () { }, removeProperty: function () { }, setProperty: function () { }, getPropertyCSSValue: function () { } }, r
            }())), n
        }(), xe = function (t, e, n) { function i(e, n, i) { var o; if (n) { for (; n.t === t.BRACKETED && n.x;) n = n.x; return n.t === t.REFERENCE ? i.r = n.n : n.t === t.NUMBER_LITERAL && u.test(n.v) ? i.r = n.v : (o = r(e, n)) ? i.rx = o : i.x = e.flattenExpression(n), i } } function r(e, n) { for (var i, r = []; n.t === t.MEMBER && n.r.t === t.REFINEMENT;) i = n.r, r.unshift(i.x ? i.x.t === t.REFERENCE ? i.x : e.flattenExpression(i.x) : i.n), n = n.x; return n.t !== t.REFERENCE ? null : { r: n.n, m: r } } var o, s, a = /^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/, u = /^[0-9][1-9]*$/, c = new RegExp("^(" + Object.keys(n).join("|") + ")\\b"); return s = /^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/, o = function (n, r) { var o, u, h, l, d, f, p, v, m, g; if (o = n.pos, h = {}, g = n[r.delimiters], r.isStatic && (h.s = !0), r.isTriple) h.t = t.TRIPLE; else { if ("!" === n.remaining()[0]) { try { f = n.readExpression(), n.allowWhitespace(), n.remaining().indexOf(g[1]) ? f = null : h.t = t.INTERPOLATOR } catch (y) { } if (!f) return m = n.remaining().indexOf(g[1]), ~m ? n.pos += m : n.error("Expected closing delimiter ('" + g[1] + "')"), { t: t.COMMENT } } if (!f) if (l = e(n), h.t = l || t.INTERPOLATOR, l === t.SECTION) (d = n.matchPattern(c)) && (h.n = d), n.allowWhitespace(); else if ((l === t.COMMENT || l === t.CLOSING) && (v = n.remaining(), m = v.indexOf(g[1]), -1 !== m)) return h.r = v.substr(0, m).split(" ")[0], n.pos += m, h } if (!f) { n.allowWhitespace(), f = n.readExpression(); var b; if (h.t === t.PARTIAL && f && (b = n.readExpression()) && (h = { contextPartialExpression: f }, f = b), v = n.remaining(), v.substr(0, g[1].length) !== g[1] && ":" !== v.charAt(0)) { if (u = n.pos, n.pos = o, v = n.remaining(), m = v.indexOf(g[1]), -1 !== m) return h.r = v.substr(0, m).trim(), s.test(h.r) || n.error("Expected a legal Mustache reference"), n.pos += m, h; n.pos = u } } return i(n, f, h), h.contextPartialExpression && (h.contextPartialExpression = [i(n, h.contextPartialExpression, { t: t.PARTIAL })]), (p = n.matchPattern(a)) && (h.i = p), h } }($, be, we, Ee), ke = function (t, e, n, i, r) { function o(t) { var e; return t.interpolate[t.inside] === !1 ? null : (e = n.slice().sort(function (e, n) { return t[n.delimiters][0].length - t[e.delimiters][0].length }), function i(n) { return n ? s(t, n) || i(e.shift()) : null }(e.shift())) } function s(n, o) { var s, u, c, l, f, p, v, m, g; if (s = n.pos, c = n[o.delimiters], !n.matchString(c[0])) return null; if (u = e(n)) return n.matchString(c[1]) ? (n[o.delimiters] = u, d) : null; if (n.allowWhitespace(), u = i(n, o), null === u) return n.pos = s, null; if (n.allowWhitespace(), n.matchString(c[1]) || n.error("Expected closing delimiter '" + c[1] + "' after reference"), u.t === t.COMMENT && (u.exclude = !0), u.t === t.CLOSING && (n.sectionDepth -= 1, n.sectionDepth < 0 && (n.pos = s, n.error("Attempted to close a section that wasn't open"))), u.contextPartialExpression) u.f = u.contextPartialExpression, u.t = t.SECTION, u.n = "with", delete u.contextPartialExpression; else if (h(u)) { for (n.sectionDepth += 1, l = [], v = l, f = u.n; m = n.read() ;) { if (m.t === t.CLOSING) { f && m.r !== f && n.error("Expected {{/" + f + "}}"); break } if (m.t === t.INTERPOLATOR && "else" === m.r) switch (u.n) { case "unless": n.error("{{else}} not allowed in {{#unless}}"); break; case "with": n.error("{{else}} not allowed in {{#with}}"); break; default: v = p = []; continue } v.push(m) } l.length && (u.f = l, !u.i && "each" === u.n && (g = a(u.f)) && (u.i = g)), p && p.length && (u.l = p) } return n.includeLinePositions && (u.p = n.getLinePos(s)), u.n ? u.n = r[u.n] : u.t === t.INVERTED && (u.t = t.SECTION, u.n = t.SECTION_UNLESS), u } function a(e) { var n, i, r, o; if (e) for (n = e.length; n--;) { if (i = e[n], i.t === t.ELEMENT) { if (r = a(i.o && i.o.d) || a(i.t0 && i.t0.d) || a(i.t1 && i.t1.d) || a(i.t2 && i.t2.d) || a(i.f)) return r; for (o in i.v) if (i.v.hasOwnProperty(o) && i.v[o].d && (r = a(i.v[o].d))) return r; for (o in i.a) if (i.a.hasOwnProperty(o) && (r = a(i.a[o]))) return r } if (i.t === t.INTERPOLATOR || i.t === t.TRIPLE || i.t === t.SECTION) { if (i.r && f.test(i.r)) return i.r; if (i.x && (r = u(i.x))) return r; if (i.rx && (r = c(i.rx))) return r } } } function u(t) { var e; for (e = t.r.length; e--;) if (f.test(t.r[e])) return t.r[e] } function c(e) { var n, i, r; for (n = e.m.length; n--;) { if (r = e.m[n], r.r && (i = u(r))) return i; if (r.t === t.REFERENCE && f.test(r.n)) return r.n } } function h(e) { return e.t === t.SECTION || e.t === t.INVERTED } var l, d = { t: t.DELIMCHANGE, exclude: !0 }, f = /^@(?:index|key)$/; return l = o }($, ge, ye, xe, we), _e = function (t) { var e = "<!--", n = "-->"; return function (i) { var r, o, s, a, u; return r = i.pos, i.matchString(e) ? (s = i.remaining(), a = s.indexOf(n), -1 === a && i.error("Illegal HTML - expected closing comment sequence ('-->')"), o = s.substr(0, a), i.pos += a + 3, u = { t: t.COMMENT, c: o }, i.includeLinePositions && (u.p = i.getLinePos(r)), u) : null } }($), Te = function () { var t = /^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i; return t }(), Se = function (t, e) { var n, i, r; for (n = e.length; n--;) { if (i = t.indexOf(e[n]), !i) return 0; -1 !== i && (!r || r > i) && (r = i) } return r || -1 }, Ae = function (t) { return function (e) { var n, i, r, o; return i = e.remaining(), o = e.inside ? "</" + e.inside : "<", e.inside && !e.interpolate[e.inside] ? n = i.indexOf(o) : (r = [o, e.delimiters[0], e.tripleDelimiters[0], e.staticDelimiters[0], e.staticTripleDelimiters[0]], e.inAttribute === !0 ? r.push('"', "'", "=", ">", "`") : e.inAttribute && r.push(e.inAttribute), n = t(i, r)), n ? (-1 === n && (n = i.length), e.pos += n, i.substr(0, n)) : null } }(Se), Oe = function (t) { var e = /^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/; return function (n) { var i; return n.matchString("</") ? (i = n.matchPattern(e)) ? { t: t.CLOSING_TAG, e: i } : (n.pos -= 2, void n.error("Illegal closing tag")) : null } }($), Ce = function () { function t(t) { return t ? 10 === t ? 32 : 128 > t ? t : 159 >= t ? i[t - 128] : 55296 > t ? t : 57343 >= t ? 65533 : 65535 >= t ? t : 65533 : 65533 } var e, n, i, r; return n = { quot: 34, amp: 38, apos: 39, lt: 60, gt: 62, nbsp: 160, iexcl: 161, cent: 162, pound: 163, curren: 164, yen: 165, brvbar: 166, sect: 167, uml: 168, copy: 169, ordf: 170, laquo: 171, not: 172, shy: 173, reg: 174, macr: 175, deg: 176, plusmn: 177, sup2: 178, sup3: 179, acute: 180, micro: 181, para: 182, middot: 183, cedil: 184, sup1: 185, ordm: 186, raquo: 187, frac14: 188, frac12: 189, frac34: 190, iquest: 191, Agrave: 192, Aacute: 193, Acirc: 194, Atilde: 195, Auml: 196, Aring: 197, AElig: 198, Ccedil: 199, Egrave: 200, Eacute: 201, Ecirc: 202, Euml: 203, Igrave: 204, Iacute: 205, Icirc: 206, Iuml: 207, ETH: 208, Ntilde: 209, Ograve: 210, Oacute: 211, Ocirc: 212, Otilde: 213, Ouml: 214, times: 215, Oslash: 216, Ugrave: 217, Uacute: 218, Ucirc: 219, Uuml: 220, Yacute: 221, THORN: 222, szlig: 223, agrave: 224, aacute: 225, acirc: 226, atilde: 227, auml: 228, aring: 229, aelig: 230, ccedil: 231, egrave: 232, eacute: 233, ecirc: 234, euml: 235, igrave: 236, iacute: 237, icirc: 238, iuml: 239, eth: 240, ntilde: 241, ograve: 242, oacute: 243, ocirc: 244, otilde: 245, ouml: 246, divide: 247, oslash: 248, ugrave: 249, uacute: 250, ucirc: 251, uuml: 252, yacute: 253, thorn: 254, yuml: 255, OElig: 338, oelig: 339, Scaron: 352, scaron: 353, Yuml: 376, fnof: 402, circ: 710, tilde: 732, Alpha: 913, Beta: 914, Gamma: 915, Delta: 916, Epsilon: 917, Zeta: 918, Eta: 919, Theta: 920, Iota: 921, Kappa: 922, Lambda: 923, Mu: 924, Nu: 925, Xi: 926, Omicron: 927, Pi: 928, Rho: 929, Sigma: 931, Tau: 932, Upsilon: 933, Phi: 934, Chi: 935, Psi: 936, Omega: 937, alpha: 945, beta: 946, gamma: 947, delta: 948, epsilon: 949, zeta: 950, eta: 951, theta: 952, iota: 953, kappa: 954, lambda: 955, mu: 956, nu: 957, xi: 958, omicron: 959, pi: 960, rho: 961, sigmaf: 962, sigma: 963, tau: 964, upsilon: 965, phi: 966, chi: 967, psi: 968, omega: 969, thetasym: 977, upsih: 978, piv: 982, ensp: 8194, emsp: 8195, thinsp: 8201, zwnj: 8204, zwj: 8205, lrm: 8206, rlm: 8207, ndash: 8211, mdash: 8212, lsquo: 8216, rsquo: 8217, sbquo: 8218, ldquo: 8220, rdquo: 8221, bdquo: 8222, dagger: 8224, Dagger: 8225, bull: 8226, hellip: 8230, permil: 8240, prime: 8242, Prime: 8243, lsaquo: 8249, rsaquo: 8250, oline: 8254, frasl: 8260, euro: 8364, image: 8465, weierp: 8472, real: 8476, trade: 8482, alefsym: 8501, larr: 8592, uarr: 8593, rarr: 8594, darr: 8595, harr: 8596, crarr: 8629, lArr: 8656, uArr: 8657, rArr: 8658, dArr: 8659, hArr: 8660, forall: 8704, part: 8706, exist: 8707, empty: 8709, nabla: 8711, isin: 8712, notin: 8713, ni: 8715, prod: 8719, sum: 8721, minus: 8722, lowast: 8727, radic: 8730, prop: 8733, infin: 8734, ang: 8736, and: 8743, or: 8744, cap: 8745, cup: 8746, "int": 8747, there4: 8756, sim: 8764, cong: 8773, asymp: 8776, ne: 8800, equiv: 8801, le: 8804, ge: 8805, sub: 8834, sup: 8835, nsub: 8836, sube: 8838, supe: 8839, oplus: 8853, otimes: 8855, perp: 8869, sdot: 8901, lceil: 8968, rceil: 8969, lfloor: 8970, rfloor: 8971, lang: 9001, rang: 9002, loz: 9674, spades: 9824, clubs: 9827, hearts: 9829, diams: 9830 }, i = [8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352, 8249, 338, 141, 381, 143, 144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732, 8482, 353, 8250, 339, 157, 382, 376], r = new RegExp("&(#?(?:x[\\w\\d]+|\\d+|" + Object.keys(n).join("|") + "));?", "g"), e = function (e) { return e.replace(r, function (e, i) { var r; return r = "#" !== i[0] ? n[i] : "x" === i[1] ? parseInt(i.substring(2), 16) : parseInt(i.substring(1), 10), r ? String.fromCharCode(t(r)) : e }) } }(Ee), Le = function (t, e, n) { function i(t) { var e, n, i; return t.allowWhitespace(), (n = t.matchPattern(h)) ? (e = { name: n }, i = r(t), i && (e.value = i), e) : null } function r(t) { var e, i, r, o; return e = t.pos, t.allowWhitespace(), t.matchString("=") ? (t.allowWhitespace(), i = t.pos, r = t.sectionDepth, o = a(t, "'") || a(t, '"') || s(t), t.sectionDepth !== r && (t.pos = i, t.error("An attribute value must contain as many opening section tags as closing section tags")), null === o ? (t.pos = e, null) : o.length ? 1 === o.length && "string" == typeof o[0] ? n(o[0]) : o : null) : (t.pos = e, null) } function o(e) { var n, i, r, o, s; return n = e.pos, (i = e.matchPattern(l)) ? (r = i, o = [e.delimiters[0], e.tripleDelimiters[0], e.staticDelimiters[0], e.staticTripleDelimiters[0]], -1 !== (s = t(r, o)) && (i = i.substr(0, s), e.pos = n + i.length), i) : null } function s(t) { var n, i; for (t.inAttribute = !0, n = [], i = e(t) || o(t) ; null !== i;) n.push(i), i = e(t) || o(t); return n.length ? (t.inAttribute = !1, n) : null } function a(t, n) { var i, r, o; if (i = t.pos, !t.matchString(n)) return null; for (t.inAttribute = n, r = [], o = e(t) || u(t, n) ; null !== o;) r.push(o), o = e(t) || u(t, n); return t.matchString(n) ? (t.inAttribute = !1, r) : (t.pos = i, null) } function u(e, n) { var i, r, o, s; return i = e.pos, o = e.remaining(), s = [n, e.delimiters[0], e.tripleDelimiters[0], e.staticDelimiters[0], e.staticTripleDelimiters[0]], r = t(o, s), -1 === r && e.error("Quoted attribute value must have a closing quote"), r ? (e.pos += r, o.substr(0, r)) : null } var c, h = /^[^\s"'>\/=]+/, l = /^[^\s"'=<>`]+/; return c = i }(Se, ke, Ce), Ne = function (t, e, n) { function i(t) { var e, i, r; return t.allowWhitespace(), (e = n(t)) ? (r = { key: e }, t.allowWhitespace(), t.matchString(":") ? (t.allowWhitespace(), (i = t.read()) ? (r.value = i.v, r) : null) : null) : null } var r, o, s, a, u, c, h; return o = { "true": !0, "false": !1, undefined: void 0, "null": null }, s = new RegExp("^(?:" + Object.keys(o).join("|") + ")"), a = /^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/, u = /\$\{([^\}]+)\}/g, c = /^\$\{([^\}]+)\}/, h = /^\s*$/, r = t.extend({ init: function (t, e) { this.values = e.values, this.allowWhitespace() }, postProcess: function (t) { return 1 === t.length && h.test(this.leftover) ? { value: t[0].v } : null }, converters: [function (t) { var e; return t.values ? (e = t.matchPattern(c), e && t.values.hasOwnProperty(e) ? { v: t.values[e] } : void 0) : null }, function (t) { var e; return (e = t.matchPattern(s)) ? { v: o[e] } : void 0 }, function (t) { var e; return (e = t.matchPattern(a)) ? { v: +e } : void 0 }, function (t) { var n, i = e(t); return i && (n = t.values) ? { v: i.v.replace(u, function (t, e) { return e in n ? n[e] : e }) } : i }, function (t) { var e, n; if (!t.matchString("{")) return null; if (e = {}, t.allowWhitespace(), t.matchString("}")) return { v: e }; for (; n = i(t) ;) { if (e[n.key] = n.value, t.allowWhitespace(), t.matchString("}")) return { v: e }; if (!t.matchString(",")) return null } return null }, function (t) { var e, n; if (!t.matchString("[")) return null; if (e = [], t.allowWhitespace(), t.matchString("]")) return { v: e }; for (; n = t.read() ;) { if (e.push(n.v), t.allowWhitespace(), t.matchString("]")) return { v: e }; if (!t.matchString(",")) return null; t.allowWhitespace() } return null }] }), function (t, e) { var n = new r(t, { values: e }); return n.result } }(me, X, te), Re = function (t, e, n, i) { var r, o = /^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/; return r = t.extend({ converters: [e] }), function (t) { var e, s, a, u, c, h, l, d, f; if ("string" == typeof t) { if (s = o.exec(t)) return e = { m: s[1] }, u = "[" + t.slice(e.m.length + 1, -1) + "]", a = new r(u), e.a = n(a.result[0]), e; if (-1 === t.indexOf(":")) return t.trim(); t = [t] } for (e = {}, l = [], d = []; t.length;) if (c = t.shift(), "string" == typeof c) { if (h = c.indexOf(":"), -1 !== h) { h && l.push(c.substr(0, h)), c.length > h + 1 && (d[0] = c.substring(h + 1)); break } l.push(c) } else l.push(c); return d = d.concat(t), d.length || "string" != typeof l ? (e = { n: 1 === l.length && "string" == typeof l[0] ? l[0] : l }, 1 === d.length && "string" == typeof d[0] ? (f = i("[" + d[0] + "]"), e.a = f ? f.value : d[0].trim()) : e.d = d) : e = l, e } }(me, pe, ve, Ne), Pe = function (t, e, n, i, r, o, s, a) { function u(n) { var i, r, o, u, h, d, w, E, x, k, _; if (i = n.pos, n.inside) return null; if (!n.matchString("<")) return null; if ("/" === n.nextChar()) return null; if (r = { t: t.ELEMENT }, n.includeLinePositions && (r.p = n.getLinePos(i)), n.matchString("!") && (r.y = 1), r.e = n.matchPattern(f), !r.e) return null; for (p.test(n.nextChar()) || n.error("Illegal tag name"), d = function (t, e) { var i = e.n || e; g.test(i) && (n.pos -= i.length, n.error("Cannot use reserved event names (change, reset, teardown, update)")), r.v[t] = e }; w = s(n) ;) (u = y[w.name]) ? r[u] = a(w.value) : (h = m.exec(w.name)) ? (r.v || (r.v = {}), E = a(w.value), d(h[1], E)) : n.sanitizeEventAttributes && v.test(w.name) || (r.a || (r.a = {}), r.a[w.name] = w.value || 0); if (n.allowWhitespace(), n.matchString("/") && (x = !0), !n.matchString(">")) return null; if (o = r.e.toLowerCase(), !x && !e.test(r.e)) { for (("script" === o || "style" === o) && (n.inside = o), k = []; c(o, n.remaining()) && (_ = n.read(l)) && _.t !== t.CLOSING && _.t !== t.CLOSING_TAG;) k.push(_); k.length && (r.f = k) } return n.inside = null, n.sanitizeElements && -1 !== n.sanitizeElements.indexOf(o) ? b : r } function c(t, e) { var n, i; return n = /^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e), i = d[t], n && i ? !~i.indexOf(n[1].toLowerCase()) : !0 } var h, l, d, f = /^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/, p = /^[\s\n\/>]/, v = /^on/, m = /^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/, g = /^(?:change|reset|teardown|update)$/, y = { "intro-outro": "t0", intro: "t1", outro: "t2", decorator: "o" }, b = { exclude: !0 }; return l = [n, i, u, r, o], d = { li: ["li"], dt: ["dt", "dd"], dd: ["dt", "dd"], p: "address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "), rt: ["rt", "rp"], rp: ["rt", "rp"], optgroup: ["optgroup"], option: ["option", "optgroup"], thead: ["tbody", "tfoot"], tbody: ["tbody", "tfoot"], tfoot: ["tbody"], tr: ["tr", "tbody"], td: ["td", "th", "tr"], th: ["td", "th", "tr"] }, h = u }($, Te, ke, _e, Ae, Oe, Le, Re), Ie = function () { var t = /^[ \t\f\r\n]+/, e = /[ \t\f\r\n]+$/; return function (n, i, r) { var o; i && (o = n[0], "string" == typeof o && (o = o.replace(t, ""), o ? n[0] = o : n.shift())), r && (o = n[n.length - 1], "string" == typeof o && (o = o.replace(e, ""), o ? n[n.length - 1] = o : n.pop())) } }(), ze = function (t) { function e(t) { return "string" == typeof t } function n(e) { return e.t === t.COMMENT || e.t === t.DELIMCHANGE } function i(e) { return (e.t === t.SECTION || e.t === t.INVERTED) && e.f } var r, o = /^\s*\r?\n/, s = /\r?\n\s*$/; return r = function (t) { var r, a, u, c, h; for (r = 1; r < t.length; r += 1) a = t[r], u = t[r - 1], c = t[r - 2], e(a) && n(u) && e(c) && s.test(c) && o.test(a) && (t[r - 2] = c.replace(s, "\n"), t[r] = a.replace(o, "")), i(a) && e(u) && s.test(u) && e(a.f[0]) && o.test(a.f[0]) && (t[r - 1] = u.replace(s, "\n"), a.f[0] = a.f[0].replace(o, "")), e(a) && i(u) && (h = u.f[u.f.length - 1], e(h) && s.test(h) && o.test(a) && (u.f[u.f.length - 1] = h.replace(s, "\n"), t[r] = a.replace(o, ""))); return t } }($), Fe = function () { var t = /[-/\\^$*+?.()|[\]{}]/g; return function (e) { return e.replace(t, "\\$&") } }(), Me = function (t, e, n, i, r, o, s, a, u) { function c(e, n, i, r, o, u) { var h, l, d, f, y, b, w, E, x; for (a(e), h = e.length; h--;) l = e[h], l.exclude ? e.splice(h, 1) : n && l.t === t.COMMENT && e.splice(h, 1); for (s(e, r, o), h = e.length; h--;) if (l = e[h], l.f && (y = i || l.t === t.ELEMENT && v.test(l.e), y || (d = e[h - 1], f = e[h + 1], (!d || "string" == typeof d && g.test(d)) && (b = !0), (!f || "string" == typeof f && m.test(f)) && (w = !0)), c(l.f, n, y, b, w, u)), l.l && (c(l.l, n, i, b, w, u), u && (E = { t: 4, n: t.SECTION_UNLESS, f: l.l }, l.r && (E.r = l.r), l.x && (E.x = l.x), l.rx && (E.rx = l.rx), e.splice(h + 1, 0, E), delete l.l)), l.a) for (x in l.a) l.a.hasOwnProperty(x) && "string" != typeof l.a[x] && c(l.a[x], n, i, b, w, u); for (h = e.length; h--;) "string" == typeof e[h] && ("string" == typeof e[h + 1] && (e[h] = e[h] + e[h + 1], e.splice(h + 1, 1)), i || (e[h] = e[h].replace(p, " ")), "" === e[h] && e.splice(h, 1)) } function h(t) { var e = arguments[1]; void 0 === e && (e = t), e.delimiters = t.delimiters || ["{{", "}}"], e.tripleDelimiters = t.tripleDelimiters || ["{{{", "}}}"], e.staticDelimiters = t.staticDelimiters || ["[[", "]]"], e.staticTripleDelimiters = t.staticTripleDelimiters || ["[[[", "]]]"] } var l, d, f, p = /[ \t\f\r\n]+/g, v = /^(?:pre|script|style|textarea)$/i, m = /^\s+/, g = /\s+$/; return d = e.extend({ init: function (t, e) { h(e, this), this.sectionDepth = 0, this.interpolate = { script: !e.interpolate || e.interpolate.script !== !1, style: !e.interpolate || e.interpolate.style !== !1 }, e.sanitize === !0 && (e.sanitize = { elements: "applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "), eventAttributes: !0 }), this.sanitizeElements = e.sanitize && e.sanitize.elements, this.sanitizeEventAttributes = e.sanitize && e.sanitize.eventAttributes, this.includeLinePositions = e.includeLinePositions }, postProcess: function (t, e) { return this.sectionDepth > 0 && this.error("A section was left open"), c(t, e.stripComments !== !1, e.preserveWhitespace, !e.preserveWhitespace, !e.preserveWhitespace, e.rewriteElse !== !1), t }, converters: [n, i, r, o] }), f = function (t) { var e = arguments[1]; void 0 === e && (e = {}); var n, i, r, o, s, a, c, l; if (h(e), c = new RegExp("<!--\\s*" + u(e.delimiters[0]) + "\\s*>\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*" + u(e.delimiters[1]) + "\\s*-->"), l = new RegExp("<!--\\s*" + u(e.delimiters[0]) + "\\s*\\/\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*" + u(e.delimiters[1]) + "\\s*-->"), n = { v: 1 }, c.test(t)) { for (i = t, t = ""; s = c.exec(i) ;) { if (o = s[1], t += i.substr(0, s.index), i = i.substring(s.index + s[0].length), a = l.exec(i), !a || a[1] !== o) throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "' + o + '", but ' + (a ? 'instead found "' + a[1] + '"' : " no closing found")); (r || (r = {}))[o] = new d(i.substr(0, a.index), e).result, i = i.substring(a.index + a[0].length) } t += i, n.p = r } return n.t = new d(t, e).result, n }, l = f }($, me, ke, _e, Pe, Ae, Ie, ze, Fe), je = function () { return function (t, e) { var n = t.map(e); return t.forEach(function (t, e) { n[t] = n[e] }), n } }(Ee), De = function (t) { var e, n; return e = ["preserveWhitespace", "sanitize", "stripComments", "delimiters", "tripleDelimiters", "interpolate"], n = t(e, function (t) { return t }) }(je), Ve = function (t, e, n, i, r) { function o(t) { var e = i(l); return e.parse = function (e, n) { return s(e, n || t) }, e } function s(e, i) { if (!n) throw new Error(t.missingParser); return n(e, i || this.options) } function a(t, n) { var i; if (!e) { if (n && n.noThrow) return; throw new Error("Cannot retrieve template #" + t + " as Ractive is not running in a browser.") } if (u(t) && (t = t.substring(1)), !(i = document.getElementById(t))) { if (n && n.noThrow) return; throw new Error("Could not find template element with id #" + t) } if ("SCRIPT" !== i.tagName.toUpperCase()) { if (n && n.noThrow) return; throw new Error("Template element with id #" + t + ", must be a <script> element") } return i.innerHTML } function u(t) { return "#" === t.charAt(0) } function c(t) { return !("string" == typeof t) } function h(t) { return t.defaults && (t = t.defaults), r.reduce(function (e, n) { return e[n] = t[n], e }, {}) } var l = { parse: s, fromId: a, isHashedId: u, isParsed: c, getParseOptions: h, createHelper: o }; return l }(W, O, Me, q, De), Ue = function (t, e) { function n(t) { var e, n = t._config.template; if (n && n.fn) return e = i(t, n.fn), e !== n.result ? (n.result = e, e = r(e, t)) : void 0 } function i(e, n) { var i = t.createHelper(t.getParseOptions(e)); return n.call(e, e.data, i) } function r(n, i) { if ("string" == typeof n) "#" === n[0] && (n = t.fromId(n)), n = e(n, t.getParseOptions(i)); else if (1 !== n.v) throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app"); return n } function o(t, e, n) { if (e) for (var i in e) (n || !t.hasOwnProperty(i)) && (t[i] = e[i]) } var s = { name: "template", extend: function (t, e, n) { var i; "template" in n && (i = n.template, e.template = "function" == typeof i ? i : r(i, e)) }, init: function (t, e, n) { var s, a; s = "template" in n ? n.template : t.prototype.template, "function" == typeof s && (a = s, s = i(e, a), e._config.template = { fn: a, result: s }), s = r(s, e), e.template = s.t, s.p && o(e.partials, s.p) }, reset: function (t) { var e, i = n(t); return i ? (e = r(i, t), t.template = e.t, o(t.partials, e.p, !0), !0) : void 0 } }; return s }(Ve, Me), Be = function (t) { function e(t, e) { this.name = t, this.useDefaults = e } function n(t, e) { var i, r; return (i = e(t)) ? i : !t.isolated && (r = t._parent) ? n(r, e) : void 0 } return e.prototype = { constructor: e, extend: function (t, e, n) { this.configure(this.useDefaults ? t.defaults : t, this.useDefaults ? e : e.constructor, n) }, init: function (t, e, n) { this.configure(this.useDefaults ? t.defaults : t, e, n) }, configure: function (e, n, i) { var r, o = this.name, s = i[o]; r = t(e[o]); for (var a in s) r[a] = s[a]; n[o] = r }, reset: function (t) { var e = t[this.name], n = !1; return Object.keys(e).forEach(function (t) { var i = e[t]; i._fn && (i._fn.isOwner ? e[t] = i._fn : delete e[t], n = !0) }), n }, findOwner: function (t, e) { return t[this.name].hasOwnProperty(e) ? t : this.findConstructor(t.constructor, e) }, findConstructor: function (t, e) { return t ? t[this.name].hasOwnProperty(e) ? t : this.findConstructor(t._parent, e) : void 0 }, find: function (t, e) { var i = this; return n(t, function (t) { return t[i.name][e] }) }, findInstance: function (t, e) { var i = this; return n(t, function (t) { return t[i.name][e] ? t : void 0 }) } }, e }(q, Ee), We = function (t, e) { var n = ["adaptors", "components", "computed", "decorators", "easing", "events", "interpolators", "partials", "transitions"], i = t(n, function (t) { return new e(t, "computed" === t) }); return i }(je, Be), $e = function () { }, qe = function (t) { function e(e, n) { var i; if (n in e) { var r = e[n]; i = "function" == typeof r ? r : function () { return r } } else i = t; return i } var n; return n = function (t, n, i) { if (!/_super/.test(i)) return i; var r = function () { var t, o = e(r._parent, n), s = "_super" in this, a = this._super; return this._super = o, t = i.apply(this, arguments), s ? this._super = a : delete this._super, t }; return r._parent = t, r._method = i, r } }($e), He = function (t, e) { function n(e, n, r) { if (n in e) { if (r in e) throw new Error(i(n, r, !0)); t(i(n, r)), e[r] = e[n] } } function i(t, e, n) { return "options." + t + " has been deprecated in favour of options." + e + "." + (n ? " You cannot specify both options, please use options." + e + "." : "") } function r(t) { n(t, "eventDefinitions", "events") } function o(t) { e(t.adaptors) && n(t, "adaptors", "adapt") } return function (t) { r(t), o(t) } }(j, a), Ge = function (t, e, n, i, r, o, s, a) { function u(t, e, n, i, r) { h[e][t](n, i, r) } function c(t, e, i, r) { a(r), u(t, "data", e, i, r), d.parseOptions.forEach(function (t) { t in r && (i[t] = r[t]) }); for (var o in r) if (o in n && !(o in d.parseOptions) && !(o in h)) { var c = r[o]; i[o] = "function" == typeof c ? s(e.prototype, o, c) : c } d.registries.forEach(function (n) { n[t](e, i, r) }), u(t, "template", e, i, r), u(t, "css", e, i, r) } var h, l, d; h = { data: e, template: i, css: t }, l = Object.keys(n).filter(function (t) { return !o[t] && !h[t] && !r[t] }), d = [].concat(h.data, r, l, o, h.template, h.css); for (var f in h) d[f] = h[f]; return d.keys = Object.keys(n).concat(o.map(function (t) { return t.name })).concat(["css"]), d.parseOptions = r, d.registries = o, d.extend = function (t, e, n) { c("extend", t, e, n) }, d.init = function (t, e, n) { c("init", t, e, n), e._config && (e._config.options = n) }, d.reset = function (t) { return d.filter(function (e) { return e.reset && e.reset(t) }).map(function (t) { return t.name }) }, d }(V, B, i, Ue, De, We, qe, He), Ke = function (t, e, n, i) { function r(t) { return function () { return t } } var o, s = function (t, o, s, a) { if (t === o) return r(o); if (a) { var u = i.registries.interpolators.find(s, a); if (u) return u(t, o) || r(o); e('Missing "' + a + '" interpolator. You may need to download a plugin from [TODO]') } return n.number(t, o) || n.array(t, o) || n.object(t, o) || r(o) }; return t.interpolate = s, o = s }(o, j, h, Ge), Ze = function (t, e, n) { var i = function (t) { var e; this.startTime = Date.now(); for (e in t) t.hasOwnProperty(e) && (this[e] = t[e]); this.interpolator = n(this.from, this.to, this.root, this.interpolator), this.running = !0, this.tick() }; return i.prototype = { tick: function () { var n, i, r, o, s, a; return a = this.keypath, this.running ? (o = Date.now(), n = o - this.startTime, n >= this.duration ? (null !== a && (e.start(this.root), this.root.viewmodel.set(a, this.to), e.end()), this.step && this.step(1, this.to), this.complete(this.to), s = this.root._animations.indexOf(this), -1 === s && t("Animation was not found"), this.root._animations.splice(s, 1), this.running = !1, !1) : (i = this.easing ? this.easing(n / this.duration) : n / this.duration, null !== a && (r = this.interpolator(i), e.start(this.root), this.root.viewmodel.set(a, r), e.end()), this.step && this.step(i, r), !0)) : !1 }, stop: function () { var e; this.running = !1, e = this.root._animations.indexOf(this), -1 === e && t("Animation was not found"), this.root._animations.splice(e, 1) } }, i }(j, x, Ke), Qe = function (t, e, n, i, r) { function o(e, o, s, a) { var c, h, l, d; return o && (o = n(o)), null !== o && (d = e.viewmodel.get(o)), i.abort(o, e), t(d, s) ? (a.complete && a.complete(a.to), u) : (a.easing && (c = "function" == typeof a.easing ? a.easing : e.easing[a.easing], "function" != typeof c && (c = null)), h = void 0 === a.duration ? 400 : a.duration, l = new r({ keypath: o, from: d, to: s, root: e, duration: h, easing: c, interpolator: a.interpolator, step: a.step, complete: a.complete }), i.add(l), e._animations.push(l), l) } var s, a = function () { }, u = { stop: a }; return s = function (t, n, i) { var r, s, u, c, h, l, d, f, p, v, m, g, y, b; if (r = new e(function (t) { s = t }), "object" == typeof t) { i = n || {}, l = i.easing, d = i.duration, h = [], f = i.step, p = i.complete, (f || p) && (m = {}, i.step = null, i.complete = null, v = function (t) { return function (e, n) { m[t] = n } }); for (u in t) t.hasOwnProperty(u) && ((f || p) && (g = v(u), i = { easing: l, duration: d }, f && (i.step = g)), i.complete = p ? g : a, h.push(o(this, u, t[u], i))); return b = { easing: l, duration: d }, f && (b.step = function (t) { f(t, m) }), p && r.then(function (t) { p(t, m) }), b.complete = s, y = o(this, null, null, b), h.push(y), r.stop = function () { for (var t; t = h.pop() ;) t.stop(); y && y.stop() }, r } return i = i || {}, i.complete && r.then(i.complete), i.complete = s, c = o(this, t, n, i), r.stop = function () { c.stop() }, r } }(y, v, P, M, Ze), Ye = function (t) { return function () { return this.detached ? this.detached : (this.el && t(this.el.__ractive_instances__, this), this.detached = this.fragment.detach(), this.detached) } }(p), Xe = function (t) { return this.el ? this.fragment.find(t) : null }, Je = function (t, e, n) { var i, r, o, s, a, u, c, h; if (t) { for (r = n("div"), o = ["matches", "matchesSelector"], h = function (t) { return function (e, n) { return e[t](n) } }, u = o.length; u-- && !i;) if (s = o[u], r[s]) i = h(s); else for (c = e.length; c--;) if (a = e[u] + s.substr(0, 1).toUpperCase() + s.substring(1), r[a]) { i = h(a); break } i || (i = function (t, e) { var n, i, o; for (i = t.parentNode, i || (r.innerHTML = "", i = r, t = t.cloneNode(), r.appendChild(t)), n = i.querySelectorAll(e), o = n.length; o--;) if (n[o] === t) return !0; return !1 }) } else i = null; return i }(O, I, A), tn = function (t) { return function (e, n) { var i = this._isComponentQuery ? !this.selector || e.name === this.selector : t(e.node, this.selector); return i ? (this.push(e.node || e.instance), n || this._makeDirty(), !0) : void 0 } }(Je), en = function () { var t, e, n; t = this._root[this._isComponentQuery ? "liveComponentQueries" : "liveQueries"], e = this.selector, n = t.indexOf(e), -1 !== n && (t.splice(n, 1), t[e] = null) }, nn = function () { function t(t) { var e; return (e = t.parentFragment) ? e.owner : t.component && (e = t.component.parentFragment) ? e.owner : void 0 } function e(e) { var n, i; for (n = [e], i = t(e) ; i;) n.push(i), i = t(i); return n } var n; return n = function (t, n) { var i, r, o, s, a, u, c, h, l, d; for (i = e(t.component || t._ractive.proxy), r = e(n.component || n._ractive.proxy), o = i[i.length - 1], s = r[r.length - 1]; o && o === s;) i.pop(), r.pop(), a = o, o = i[i.length - 1], s = r[r.length - 1]; if (o = o.component || o, s = s.component || s, l = o.parentFragment, d = s.parentFragment, l === d) return u = l.items.indexOf(o), c = d.items.indexOf(s), u - c || i.length - r.length; if (h = a.fragments) return u = h.indexOf(l), c = h.indexOf(d), u - c || i.length - r.length; throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!") } }(), rn = function (t) { return function (e, n) { var i; return e.compareDocumentPosition ? (i = e.compareDocumentPosition(n), 2 & i ? 1 : -1) : t(e, n) } }(nn), on = function (t, e) { return function () { this.sort(this._isComponentQuery ? e : t), this._dirty = !1 } }(rn, nn), sn = function (t) { return function () { var e = this; this._dirty || (this._dirty = !0, t.scheduleTask(function () { e._sort() })) } }(x), an = function (t) { var e = this.indexOf(this._isComponentQuery ? t.instance : t); -1 !== e && this.splice(e, 1) }, un = function (t, e, n, i, r, o) { return function (s, a, u, c) { var h = []; return t(h, { selector: { value: a }, live: { value: u }, _isComponentQuery: { value: c }, _test: { value: e } }), u ? (t(h, { cancel: { value: n }, _root: { value: s }, _sort: { value: i }, _makeDirty: { value: r }, _remove: { value: o }, _dirty: { value: !1, writable: !0 } }), h) : h } }(L, tn, en, on, sn, an), cn = function (t) { return function (e, n) { var i, r; return this.el ? (n = n || {}, i = this._liveQueries, (r = i[e]) ? n && n.live ? r : r.slice() : (r = t(this, e, !!n.live, !1), r.live && (i.push(e), i["_" + e] = r), this.fragment.findAll(e, r), r)) : [] } }(un), hn = function (t) { return function (e, n) { var i, r; return n = n || {}, i = this._liveComponentQueries, (r = i[e]) ? n && n.live ? r : r.slice() : (r = t(this, e, !!n.live, !0), r.live && (i.push(e), i["_" + e] = r), this.fragment.findAllComponents(e, r), r) } }(un), ln = function (t) { return this.fragment.findComponent(t) }, dn = function (t) { return function (e) { var n = { args: Array.prototype.slice.call(arguments, 1) }; t(this, e, n) } }(f), fn = function (t) { var e = { capture: !0 }; return function (n) { return n = t(n), this.viewmodel.get(n, e) } }(P), pn = function (t) { var e; if (t && "boolean" != typeof t) return "undefined" != typeof window && document && t ? t.nodeType ? t : "string" == typeof t && (e = document.getElementById(t), !e && document.querySelector && (e = document.querySelector(t)), e && e.nodeType) ? e : t[0] && t[0].nodeType ? t[0] : null : null }, vn = function (t) { return function (e, n) { if (!this.rendered) throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`."); if (e = t(e), n = t(n) || null, !e) throw new Error("You must specify a valid target to insert into"); e.insertBefore(this.detach(), n), this.el = e, (e.__ractive_instances__ || (e.__ractive_instances__ = [])).push(this), this.detached = null } }(pn), mn = function (t, e, n) { return function (i, r, o) { var s, a; return i = n(i), s = this.viewmodel.get(i), e(s) && e(r) ? (a = t.start(this, !0), this.viewmodel.merge(i, s, r, o), t.end(), o && o.complete && a.then(o.complete), a) : this.set(i, r, o && o.complete) } }(x, a, P), gn = function (t, e) { var n = function (t, e, n, i) { this.root = t, this.keypath = e, this.callback = n, this.defer = i.defer, this.priority = 0, this.context = i && i.context ? i.context : t }; return n.prototype = { init: function (t) { this.value = this.root.viewmodel.get(this.keypath), t !== !1 ? this.update() : this.oldValue = this.value }, setValue: function (n) { var i = this; e(n, this.value) || (this.value = n, this.defer && this.ready ? t.scheduleTask(function () { return i.update() }) : this.update()) }, update: function () { this.updating || (this.updating = !0, this.callback.call(this.context, this.value, this.oldValue, this.keypath), this.oldValue = this.value, this.updating = !1) } }, n }(x, y), yn = function (t) { return function (e, n) { function i(n, i) { var r, o, s; r = e.viewmodel.wrapped[i] ? e.viewmodel.wrapped[i].get() : e.get(i); for (o in r) !r.hasOwnProperty(o) || "_ractive" === o && t(r) || (s = i ? i + "." + o : o, n.push(s)); return n } function r(t) { return function (e) { return e ? e + "." + t : t } } var o, s, a; for (o = n.split("."), a = [""]; s = o.shift() ;) "*" === s ? a = a.reduce(i, []) : "" === a[0] ? a[0] = s : a = a.map(r(s)); return a } }(a), bn = function (t) { return function (e, n) { var i, r; return i = t(e, n), r = {}, i.forEach(function (t) { r[t] = e.get(t) }), r } }(yn), wn = function (t, e, n) {
            var i, r = /\*/, o = Array.prototype.slice; return i = function (t, e, n, i) { this.root = t, this.callback = n, this.defer = i.defer, this.keypath = e, this.regex = new RegExp("^" + e.replace(/\./g, "\\.").replace(/\*/g, "([^\\.]+)") + "$"), this.values = {}, this.defer && (this.proxies = []), this.priority = "pattern", this.context = i && i.context ? i.context : t }, i.prototype = {
                init: function (t) { var e, i; if (e = n(this.root, this.keypath), t !== !1) for (i in e) e.hasOwnProperty(i) && this.update(i); else this.values = e }, update: function (e) {
                    var i, o = this;
                    if (r.test(e)) { i = n(this.root, e); for (e in i) i.hasOwnProperty(e) && this.update(e) } else if (!this.root.viewmodel.implicitChanges[e]) return this.defer && this.ready ? void t.scheduleTask(function () { return o.getProxy(e).update() }) : void this.reallyUpdate(e)
                }, reallyUpdate: function (t) { var n, i, r; return n = this.root.viewmodel.get(t), this.updating ? void (this.values[t] = n) : (this.updating = !0, e(n, this.values[t]) && this.ready || (i = o.call(this.regex.exec(t), 1), r = [n, this.values[t], t].concat(i), this.callback.apply(this.context, r), this.values[t] = n), void (this.updating = !1)) }, getProxy: function (t) { var e = this; return this.proxies[t] || (this.proxies[t] = { update: function () { e.reallyUpdate(t) } }), this.proxies[t] }
            }, i
        }(x, y, bn), En = function (t, e, n) { var i = /\*/, r = {}; return function (o, s, a, u) { var c, h, l; return s = t(s), u = u || r, i.test(s) ? (c = new n(o, s, a, u), o.viewmodel.patternObservers.push(c), h = !0) : c = new e(o, s, a, u), o.viewmodel.register(s, c, h ? "patternObservers" : "observers"), c.init(u.init), c.ready = !0, { cancel: function () { var t; l || (h ? (t = o.viewmodel.patternObservers.indexOf(c), o.viewmodel.patternObservers.splice(t, 1), o.viewmodel.unregister(s, c, "patternObservers")) : o.viewmodel.unregister(s, c, "observers"), l = !0) } } } }(P, gn, wn), xn = function (t, e) { return function (n, i, r) { var o, s, a, u; if (t(n)) { r = i, s = n, o = []; for (n in s) s.hasOwnProperty(n) && (i = s[n], o.push(this.observe(n, i, r))); return { cancel: function () { for (; o.length;) o.pop().cancel() } } } if ("function" == typeof n) return r = i, i = n, n = "", e(this, n, i, r); if (a = n.split(" "), 1 === a.length) return e(this, n, i, r); for (o = [], u = a.length; u--;) n = a[u], n && o.push(e(this, n, i, r)); return { cancel: function () { for (; o.length;) o.pop().cancel() } } } }(u, En), kn = function (t) { return t.trim() }, _n = function (t) { return "" !== t }, Tn = function (t, e) { return function (n, i) { var r, o = this; if (n) r = n.split(" ").map(t).filter(e), r.forEach(function (t) { var e, n; (e = o._subs[t]) && (i ? (n = e.indexOf(i), -1 !== n && e.splice(n, 1)) : o._subs[t] = []) }); else for (n in this._subs) delete this._subs[n]; return this } }(kn, _n), Sn = function (t, e) { return function (n, i) { var r, o, s, a = this, u = this; if ("object" == typeof n) { r = []; for (o in n) n.hasOwnProperty(o) && r.push(this.on(o, n[o])); return { cancel: function () { for (var t; t = r.pop() ;) t.cancel() } } } return s = n.split(" ").map(t).filter(e), s.forEach(function (t) { (a._subs[t] || (a._subs[t] = [])).push(i) }), { cancel: function () { u.off(n, i) } } } }(kn, _n), An = function (t, e, n) { switch (e) { case "splice": return n; case "sort": case "reverse": return null; case "pop": return t.length ? [-1] : null; case "push": return [t.length, 0].concat(n); case "shift": return [0, 1]; case "unshift": return [0, 0].concat(n) } }, On = function (t, e) { var n, i, r, o, s, a; return e ? (n = +(e[0] < 0 ? t.length + e[0] : e[0]), 0 > n ? n = 0 : n > t.length && (n = t.length), o = Math.max(0, e.length - 2), s = void 0 !== e[1] ? e[1] : t.length - n, s = Math.min(s, t.length - n), a = o - s, r = t.length + a, i = a ? Math.max(t.length, r) : n + o, { rangeStart: n, rangeEnd: i, balance: a, added: o, removed: s }) : null }, Cn = function (t, e, n, i) { var r = Array.prototype; return function (o) { return function (s) { var a, u, c, h, l, d = Array.prototype.slice, f = d.call(arguments, 1); if (a = this.get(s), !t(a)) throw new Error("Called ractive." + o + "('" + s + "'), but '" + s + "' does not refer to an array"); return u = n(a, o, f), c = i(a, u), l = c ? r.splice.apply(a, u) : r[o].apply(a, f), h = e.start(this, !0), c ? this.viewmodel.splice(s, c) : this.viewmodel.mark(s), e.end(), ("splice" === o || "pop" === o || "shift" === o) && (h = h.then(function () { return l })), h } } }(a, x, An, On), Ln = function (t) { return t("pop") }(Cn), Nn = function (t) { return t("push") }(Cn), Rn = function (t, e, n) { var i, r, o, s, a, u, c, h = "/* Ractive.js component styles */\n", l = {}, d = []; return e ? (t.push(function () { o = t.runloop }), s = document.createElement("style"), s.type = "text/css", a = document.getElementsByTagName("head")[0], c = !1, u = s.styleSheet, r = function () { var t; d.length ? (t = h + d.join(" "), u ? u.cssText = t : s.innerHTML = t, c || (a.appendChild(s), c = !0)) : c && (a.removeChild(s), c = !1) }, i = { add: function (t) { t.css && (l[t._guid] || (l[t._guid] = 0, d.push(t.css), o.scheduleTask(r)), l[t._guid] += 1) }, remove: function (t) { t.css && (l[t._guid] -= 1, l[t._guid] || (n(d, t.css), o.scheduleTask(r))) } }) : i = null, i }(o, O, p), Pn = function (t, e, n) { function i(t) { var e = r(t); for (t.init && t.init(t._config.options) ; e.length;) i(e.shift()); s[t._guid] = null } function r(t) { return s[t._guid] || (s[t._guid] = []) } var o, s = {}, a = {}; return o = function (o, s) { var u, c, h, l = this; if (a[this._guid] = !0, h = this.transitionsEnabled, this.noIntro && (this.transitionsEnabled = !1), u = t.start(this, !0), this.rendered) throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first"); return o = n(o) || this.el, s = n(s) || this.anchor, this.el = o, this.anchor = s, this.constructor.css && e.add(this.constructor), o && ((c = o.__ractive_instances__) ? c.push(this) : o.__ractive_instances__ = [this], s ? o.insertBefore(this.fragment.render(), s) : o.appendChild(this.fragment.render())), this._hasInited || (this._hasInited = !0, this._parent && a[this._parent._guid] ? r(this._parent).push(this) : i(this)), a[this._guid] = !1, t.end(), this.rendered = !0, this.transitionsEnabled = h, this.complete && u.then(function () { return l.complete() }), u } }(x, Rn, pn), In = function () { this.dirtyValue = this.dirtyArgs = !0, this.bound && "function" == typeof this.owner.bubble && this.owner.bubble() }, zn = function () { var t; return 1 === this.items.length ? this.items[0].detach() : (t = document.createDocumentFragment(), this.items.forEach(function (e) { t.appendChild(e.detach()) }), t) }, Fn = function (t) { var e, n, i, r; if (this.items) { for (n = this.items.length, e = 0; n > e; e += 1) if (i = this.items[e], i.find && (r = i.find(t))) return r; return null } }, Mn = function (t, e) { var n, i, r; if (this.items) for (i = this.items.length, n = 0; i > n; n += 1) r = this.items[n], r.findAll && r.findAll(t, e); return e }, jn = function (t, e) { var n, i, r; if (this.items) for (i = this.items.length, n = 0; i > n; n += 1) r = this.items[n], r.findAllComponents && r.findAllComponents(t, e); return e }, Dn = function (t) { var e, n, i, r; if (this.items) { for (e = this.items.length, n = 0; e > n; n += 1) if (i = this.items[n], i.findComponent && (r = i.findComponent(t))) return r; return null } }, Vn = function (t) { var e, n = t.index; return e = this.items[n + 1] ? this.items[n + 1].firstNode() : this.owner === this.root ? this.owner.component ? this.owner.component.findNextNode() : null : this.owner.findNextNode(this) }, Un = function () { return this.items && this.items[0] ? this.items[0].firstNode() : null }, Bn = function () { var t = this; do if (t.pElement) return t.pElement.node; while (t = t.parent); return this.root.detached || this.root.el }, Wn = function (t) { function e(t, n, i, r) { return r = r || 0, t.map(function (t) { var o, s, a; return t.text ? t.text : t.fragments ? t.fragments.map(function (t) { return e(t.items, n, i, r) }).join("") : (o = i + "-" + r++, a = (s = t.root.viewmodel.wrapped[t.keypath]) ? s.value : t.getValue(), n[o] = a, "${" + o + "}") }).join("") } var n, i = {}; return n = function () { var n = arguments[0]; void 0 === n && (n = i); var r, o, s, a, u, c, h; return r = n.args, u = r ? "argsList" : "value", c = r ? "dirtyArgs" : "dirtyValue", this[c] && (s = e(this.items, o = {}, this.root._guid), a = t(r ? "[" + s + "]" : s, o), h = a ? a.value : r ? [this.toString()] : this.toString(), this[u] = h, this[c] = !1), this[u] } }(Ne), $n = function () { var t = /</g, e = />/g; return function (n) { return n.replace(t, "&lt;").replace(e, "&gt;") } }(), qn = function (t) { return t && t.parentNode && t.parentNode.removeChild(t), t }, Hn = function (t) { return function () { return t(this.node) } }(qn), Gn = function (t, e, n, i) { var r = function (e) { this.type = t.TEXT, this.text = e.template }; return r.prototype = { detach: n, firstNode: function () { return this.node }, render: function () { return this.node || (this.node = document.createTextNode(i(this.text))), this.node }, toString: function (t) { return t ? e(this.text) : this.text }, unrender: function (t) { return t ? this.detach() : void 0 } }, r }($, $n, Hn, Ce), Kn = function (t) { return function () { this.keypath ? this.root.viewmodel.unregister(this.keypath, this) : t.removeUnresolved(this), this.resolver && this.resolver.unbind() } }(x), Zn = function () { return this.value }, Qn = function (t) { var e = function (e, n, i, r) { this.root = e, this.ref = n, this.parentFragment = i, this.resolve = r, t.addUnresolved(this) }; return e.prototype = { unbind: function () { t.removeUnresolved(this) } }, e }(x), Yn = function (t, e) { return t && e && t.substr(0, e.length + 1) === e + "." }, Xn = function (t) { return function (e, n, i) { return e === n ? void 0 !== i ? i : null : t(e, n) ? null === i ? i : e.replace(n + ".", i + ".") : void 0 } }(Yn), Jn = function (t, e) { function n(t) { var n = e[t.message] || t.message || ""; return i(n, t.args) } function i(t, e) { return t.replace(/{([^{}]*)}/g, function (t, n) { return e[n] }) } var r = { warn: function (t, e) { (t.debug || e) && this.logger(n(t), t.allowDuplicates) }, error: function (t) { this.errorOnly(t), t.debug || this.warn(t, !0) }, errorOnly: function (t) { t.debug && this.critical(t) }, critical: function (t) { var e = t.err || new Error(n(t)); this.thrower(e) }, logger: t, thrower: function (t) { throw t } }; return r }(j, W), ti = function () { var t = {}; return function (e, n) { var i, r; if (t[e]) return t[e]; for (r = []; n--;) r[n] = "_" + n; return i = new Function(r.join(","), "return(" + e + ")"), t[e] = i, i } }(), ei = function (t, e, n) { var i, r; for (i = e.length; i--;) r = e[i], -1 === n.indexOf(r) && t.viewmodel.unregister(r, t, "computed"); for (i = n.length; i--;) r = n[i], -1 === e.indexOf(r) && t.viewmodel.register(r, t, "computed"); t.dependencies = n.slice() }, ni = function (t, e, n, i, r) { function o(t, e) { var i, r, o; if (t._noWrap) return t; if (r = "__ractive_" + e._guid, i = t[r]) return i; if (/this/.test(t.toString())) { n(t, r, { value: c.call(t, e) }); for (o in t) t.hasOwnProperty(o) && (t[r][o] = t[o]); return t[r] } return n(t, "__ractive_nowrap", { value: t }), t.__ractive_nowrap } function s(t) { return "function" == typeof t ? t() : t } var a, u, c = Function.prototype.bind; return u = function (t, e, n, r, s, a) { var u = this, c = t.viewmodel; u.root = t, u.viewmodel = c, u.uniqueString = n, u.keypath = e, u.priority = a, u.fn = i(r, s.length), u.explicitDependencies = [], u.dependencies = [], u.argumentGetters = s.map(function (e) { var n, i; return e ? e.indexRef ? i = e.value : (n = e.keypath, u.explicitDependencies.push(n), c.register(n, u, "computed"), function () { var e = c.get(n); return "function" == typeof e ? o(e, t) : e }) : void 0 }) }, u.prototype = { wake: function () { this.awake = !0 }, sleep: function () { this.awake = !1 }, getValue: function () { var e, n, i; if (e = this.argumentGetters.map(s), !this.updating) { this.updating = !0, this.viewmodel.capture(); try { n = this.fn.apply(null, e) } catch (o) { this.root.debug && t.warn({ debug: this.root.debug, message: "evaluationError", args: { uniqueString: this.uniqueString, err: o.message || o } }), n = void 0 } return i = this.viewmodel.release(), r(this, this.dependencies, i), this.updating = !1, n } }, update: function () { var t = this.getValue(); return e(t, this.value) || (this.value = t, this.root.viewmodel.mark(this.keypath)), this }, teardown: function () { var t = this; this.explicitDependencies.concat(this.dependencies).forEach(function (e) { return t.viewmodel.unregister(e, t, "computed") }), this.root.viewmodel.evaluators[this.keypath] = null } }, a = u }(Jn, y, C, ti, ei, Ee), ii = function (t, e, n, i, r) { function o(t, e) { return t.replace(/_([0-9]+)/g, function (t, n) { var i = e[n]; return i ? i.indexRef ? i.value : i.keypath : "undefined" }) } function s(t) { return "${" + t.replace(/[\.\[\]]/g, "-") + "}" } var a, u = function (i, r, o, s) { var a, u, c, h = this; return a = i.root, this.root = a, this.callback = s, this.owner = i, this.str = o.s, this.args = c = [], this.unresolved = [], this.pending = 0, u = r.indexRefs, o.r && o.r.length ? (o.r.forEach(function (i, o) { var s, l, d; return u && void 0 !== (s = u[i]) ? void (c[o] = { indexRef: i, value: s }) : (l = e(a, i, r)) ? void (c[o] = { keypath: l }) : "." === i ? void (c[o] = { "": "" }) : (c[o] = null, h.pending += 1, d = new n(a, i, r, function (e) { h.resolve(o, e), t(h.unresolved, d) }), void h.unresolved.push(d)) }), this.ready = !0, void this.bubble()) : (this.resolved = this.ready = !0, void this.bubble()) }; return u.prototype = { bubble: function () { this.ready && (this.uniqueString = o(this.str, this.args), this.keypath = s(this.uniqueString), this.createEvaluator(), this.callback(this.keypath)) }, unbind: function () { for (var t; t = this.unresolved.pop() ;) t.unbind() }, resolve: function (t, e) { this.args[t] = { keypath: e }, this.bubble(), this.resolved = !--this.pending }, createEvaluator: function () { var t = this.root.viewmodel.evaluators[this.keypath]; t || (t = new i(this.root, this.keypath, this.uniqueString, this.str, this.args, this.owner.priority), this.root.viewmodel.evaluators[this.keypath] = t), t.update() }, rebind: function (t, e, n, i) { var o; this.args.forEach(function (s) { var a; s && (s.keypath && (a = r(s.keypath, n, i)) ? (s.keypath = a, o = !0) : s.indexRef && s.indexRef === t && (s.value = e, o = !0)) }), o && this.bubble() } }, a = u }(p, w, Qn, ni, Xn), ri = function (t, e, n, i, r) { var o = function (i, o, s) { var a, u, c, h, l, d = this; d.resolver = o, d.root = o.root, d.viewmodel = o.root.viewmodel, "string" == typeof i ? d.value = i : i.t === t.REFERENCE ? (a = d.ref = i.n, (u = s.indexRefs) && void 0 !== (c = u[a]) ? (d.indexRef = a, d.value = c) : (h = o.root, (l = e(h, a, s)) ? d.resolve(l) : d.unresolved = new n(h, a, s, function (t) { d.unresolved = null, d.resolve(t) }))) : new r(o, s, i, function (t) { d.resolve(t) }) }; return o.prototype = { resolve: function (t) { this.keypath = t, this.value = this.viewmodel.get(t), this.bind(), this.resolver.bubble() }, bind: function () { this.viewmodel.register(this.keypath, this) }, rebind: function (t, e, n, r) { var o; if (t && this.indexRef === t) { if (e !== this.value) return this.value = e, !0 } else if (this.keypath && (o = i(this.keypath, n, r))) return this.unbind(), this.keypath = o, this.value = this.root.viewmodel.get(o), this.bind(), !0 }, setValue: function (t) { this.value = t, this.resolver.bubble() }, unbind: function () { this.keypath && this.root.viewmodel.unregister(this.keypath, this), this.unresolved && this.unresolved.unbind() }, forceResolution: function () { this.unresolved && (this.unresolved.unbind(), this.unresolved = null, this.keypath = this.ref, this.value = this.viewmodel.get(this.ref), this.bind()) } }, o }($, w, Qn, Xn, ii), oi = function (t, e, n) { function i(t) { return t.value } function r(t) { return void 0 != t } function o(t) { t.unbind() } var s = function (i, r, o) { var s, a, u, c, h = this, l = this; c = i.parentFragment, l.root = s = i.root, l.mustache = i, l.priority = i.priority, l.ref = a = r.r, l.callback = o, l.unresolved = [], (u = t(s, a, c)) ? l.base = u : l.baseResolver = new e(s, a, c, function (t) { l.base = t, l.baseResolver = null, l.bubble() }), l.members = r.m.map(function (t) { return new n(t, h, c) }), l.ready = !0, l.bubble() }; return s.prototype = { getKeypath: function () { var t = this.members.map(i); return !t.every(r) || this.baseResolver ? null : this.base + "." + t.join(".") }, bubble: function () { this.ready && !this.baseResolver && this.callback(this.getKeypath()) }, unbind: function () { this.members.forEach(o) }, rebind: function (t, e, n, i) { var r; this.members.forEach(function (o) { o.rebind(t, e, n, i) && (r = !0) }), r && this.bubble() }, forceResolution: function () { this.baseResolver && (this.base = this.ref, this.baseResolver.unbind(), this.baseResolver = null), this.members.forEach(function (t) { return t.forceResolution() }), this.bubble() } }, s }(w, Qn, ri), si = function (t, e, n, i, r) { return function (o, s) { function a(t) { var e = o.keypath; t !== e && (o.resolve(t), void 0 !== e && o.fragments && o.fragments.forEach(function (n) { n.rebind(null, null, e, t) })) } var u, c, h, l, d, f; if (d = s.parentFragment, f = s.template, o.root = d.root, o.parentFragment = d, o.pElement = d.pElement, o.template = s.template, o.index = s.index || 0, o.priority = d.priority, o.isStatic = s.template.s, o.type = s.template.t, u = f.r) { if (h = d.indexRefs, h && void 0 !== (l = h[u])) return o.indexRef = u, void o.setValue(l); c = n(o.root, u, o.parentFragment), void 0 !== c ? o.resolve(c) : (o.ref = u, e.addUnresolved(o)) } s.template.x && (o.resolver = new r(o, d, s.template.x, a)), s.template.rx && (o.resolver = new i(o, s.template.rx, a)), o.template.n !== t.SECTION_UNLESS || o.hasOwnProperty("value") || o.setValue(void 0) } }($, x, w, oi, ii), ai = function (t) { var e, n, i; void 0 != this.keypath && (this.root.viewmodel.unregister(this.keypath, this), e = !0), this.keypath = t, void 0 != t && (n = this.root.viewmodel.get(t), this.root.viewmodel.register(t, this)), this.setValue(n), e && (i = this.twowayBinding) && i.rebound() }, ui = function (t) { return function (e, n, i, r) { var o; this.fragments && this.fragments.forEach(function (t) { return t.rebind(e, n, i, r) }), this.resolver && this.resolver.rebind(e, n, i, r), void 0 !== this.keypath ? (o = t(this.keypath, i, r), void 0 !== o && this.resolve(o)) : void 0 !== e && this.indexRef === e && this.setValue(n) } }(Xn), ci = function (t, e, n, i) { return { getValue: t, init: e, resolve: n, rebind: i } }(Zn, si, ai, ui), hi = function (t, e, n, i, r, o, s, a) { var u = function (e) { this.type = t.INTERPOLATOR, s.init(this, e) }; return u.prototype = { update: function () { this.node.data = void 0 == this.value ? "" : this.value }, resolve: s.resolve, rebind: s.rebind, detach: a, unbind: o, render: function () { return this.node || (this.node = document.createTextNode(void 0 != this.value ? this.value : "")), this.node }, unrender: function (t) { t && i(this.node) }, getValue: s.getValue, setValue: function (t) { var n; (n = this.root.viewmodel.wrapped[this.keypath]) && (t = n.get()), r(t, this.value) || (this.value = t, this.parentFragment.bubble(), this.node && e.addView(this)) }, firstNode: function () { return this.node }, toString: function (t) { var e = void 0 != this.value ? "" + this.value : ""; return t ? n(e) : e } }, u }($, x, $n, qn, y, Kn, ci, Hn), li = function () { this.parentFragment.bubble() }, di = function () { var t; return 1 === this.fragments.length ? this.fragments[0].detach() : (t = document.createDocumentFragment(), this.fragments.forEach(function (e) { t.appendChild(e.detach()) }), t) }, fi = function (t) { var e, n, i; for (n = this.fragments.length, e = 0; n > e; e += 1) if (i = this.fragments[e].find(t)) return i; return null }, pi = function (t, e) { var n, i; for (i = this.fragments.length, n = 0; i > n; n += 1) this.fragments[n].findAll(t, e) }, vi = function (t, e) { var n, i; for (i = this.fragments.length, n = 0; i > n; n += 1) this.fragments[n].findAllComponents(t, e) }, mi = function (t) { var e, n, i; for (n = this.fragments.length, e = 0; n > e; e += 1) if (i = this.fragments[e].findComponent(t)) return i; return null }, gi = function (t) { return this.fragments[t.index + 1] ? this.fragments[t.index + 1].firstNode() : this.parentFragment.findNextNode(this) }, yi = function () { var t, e, n; if (t = this.fragments.length) for (e = 0; t > e; e += 1) if (n = this.fragments[e].firstNode()) return n; return this.parentFragment.findNextNode(this) }, bi = function (t, e) { var n; return e.push(function () { n = e.Fragment }), function (e) { var n, i, r, o, s, a, u, c, h = this; if (!this.unbound) { if (n = this.parentFragment, s = [], e.forEach(function (t, e) { var n, r, o, a; return t === e ? void (s[t] = h.fragments[e]) : (n = h.fragments[e], void 0 === i && (i = e), -1 === t ? (h.fragmentsToUnrender.push(n), void n.unbind()) : (r = t - e, o = h.keypath + "." + e, a = h.keypath + "." + t, n.rebind(h.template.i, t, o, a), void (s[t] = n))) }), o = this.root.get(this.keypath).length, void 0 === i) { if (this.length === o) return; i = this.length } for (this.length = this.fragments.length = o, t.addView(this), a = { template: this.template.f, root: this.root, owner: this }, this.template.i && (a.indexRef = this.template.i), r = i; o > r; r += 1) (u = s[r]) ? this.docFrag.appendChild(u.detach(!1)) : this.fragmentsToCreate.push(r), this.fragments[r] = u; c = n.findNextNode(this), this.parentFragment.getNode().insertBefore(this.docFrag, c) } } }(x, o), wi = function () { var t; return t = this.docFrag = document.createDocumentFragment(), this.update(), this.rendered = !0, t }, Ei = function (t, e, n, i, r) { function o(i, r) { var o = { template: i.template.f, root: i.root, pElement: i.parentFragment.pElement, owner: i }; if (i.subtype) switch (i.subtype) { case t.SECTION_IF: return c(i, r, !1, o); case t.SECTION_UNLESS: return c(i, r, !0, o); case t.SECTION_WITH: return u(i, o); case t.SECTION_EACH: if (n(r)) return a(i, r, o) } return i.ordered = !!e(r), i.ordered ? s(i, r, o) : n(r) || "function" == typeof r ? i.template.i ? a(i, r, o) : u(i, o) : c(i, r, !1, o) } function s(t, e, n) { var i, r, o; if (r = e.length, r === t.length) return !1; if (r < t.length) t.fragmentsToUnrender = t.fragments.splice(r, t.length - r), t.fragmentsToUnrender.forEach(h); else if (r > t.length) for (i = t.length; r > i; i += 1) n.context = t.keypath + "." + i, n.index = i, t.template.i && (n.indexRef = t.template.i), o = new f(n), t.fragmentsToRender.push(t.fragments[i] = o); return t.length = r, !0 } function a(t, e, n) { var i, r, o, s, a; for (o = t.hasKey || (t.hasKey = {}), r = t.fragments.length; r--;) s = t.fragments[r], s.index in e || (a = !0, s.unbind(), t.fragmentsToUnrender.push(s), t.fragments.splice(r, 1), o[s.index] = !1); for (i in e) o[i] || (a = !0, n.context = t.keypath + "." + i, n.index = i, t.template.i && (n.indexRef = t.template.i), s = new f(n), t.fragmentsToRender.push(s), t.fragments.push(s), o[i] = !0); return t.length = t.fragments.length, a } function u(t, e) { var n; return t.length ? void 0 : (e.context = t.keypath, e.index = 0, n = new f(e), t.fragmentsToRender.push(t.fragments[0] = n), t.length = 1, !0) } function c(t, n, i, r) { var o, s, a; if (s = e(n) && 0 === n.length, o = i ? s || !n : n && !s) { if (!t.length) return r.index = 0, a = new f(r), t.fragmentsToRender.push(t.fragments[0] = a), t.length = 1, !0; if (t.length > 1) return t.fragmentsToUnrender = t.fragments.splice(1), t.fragmentsToUnrender.forEach(h), !0 } else if (t.length) return t.fragmentsToUnrender = t.fragments.splice(0, t.fragments.length).filter(l), t.fragmentsToUnrender.forEach(h), t.length = t.fragmentsToRender.length = 0, !0 } function h(t) { t.unbind() } function l(t) { return t.rendered } var d, f; return r.push(function () { f = r.Fragment }), d = function (t) { var e, n, r = this; this.updating || (this.updating = !0, (e = this.root.viewmodel.wrapped[this.keypath]) && (t = e.get()), this.fragmentsToCreate.length ? (n = { template: this.template.f, root: this.root, pElement: this.pElement, owner: this, indexRef: this.template.i }, this.fragmentsToCreate.forEach(function (t) { var e; n.context = r.keypath + "." + t, n.index = t, e = new f(n), r.fragmentsToRender.push(r.fragments[t] = e) }), this.fragmentsToCreate.length = 0) : o(this, t) && (this.bubble(), this.rendered && i.addView(this)), this.value = t, this.updating = !1) } }($, a, u, x, o), xi = function (t, e) { function n(t) { t.unbind() } function i(t, e) { var n, i = []; for (n = t; e > n; n += 1) i.push(n); return i } function r(t, e, n, i) { var r, o, s, a, u; for (s = t.template.i, r = e; n > r; r += 1) o = t.fragments[r], a = t.keypath + "." + (r - i), u = t.keypath + "." + r, o.index = r, o.rebind(s, r, a, u) } var o, s; return e.push(function () { s = e.Fragment }), o = function (e) { var o, s, a, u, c, h = this; if (!this.unbound && (o = e.balance)) { if (t.addView(h), s = e.rangeStart, h.length += o, 0 > o) return h.fragmentsToUnrender = h.fragments.splice(s, -o), h.fragmentsToUnrender.forEach(n), void r(h, s, h.length, o); a = s + e.removed, u = s + e.added, c = [a, 0], c.length += o, h.fragments.splice.apply(h.fragments, c), r(h, u, h.length, o), h.fragmentsToCreate = i(a, u) } } }(x, o), ki = function (t) { var e, n, i; for (e = "", n = 0, i = this.length, n = 0; i > n; n += 1) e += this.fragments[n].toString(t); return e }, _i = function (t) { function e(t) { t.unbind() } var n; return n = function () { this.fragments.forEach(e), t.call(this), this.length = 0, this.unbound = !0 } }(Kn), Ti = function () { function t(t) { t.unrender(!0) } function e(t) { t.unrender(!1) } var n; return n = function (n) { this.fragments.forEach(n ? t : e) } }(), Si = function () { for (var t, e, n, i, r; t = this.fragmentsToUnrender.pop() ;) t.unrender(!0); if (this.fragmentsToRender.length) { for (this.rendered && (r = this.parentFragment.getNode()) ; t = this.fragmentsToRender.shift() ;) e = t.render(), this.docFrag.appendChild(e), this.rendered && this.ordered && (n = this.fragments[t.index + 1], n && n.rendered && r.insertBefore(this.docFrag, n.firstNode() || null)); this.rendered && this.docFrag.childNodes.length && (i = this.parentFragment.findNextNode(this), r.insertBefore(this.docFrag, i)) } }, Ai = function (t, e, n, i, r, o, s, a, u, c, h, l, d, f, p, v, m, g) { var y = function (n) { this.type = t.SECTION, this.subtype = n.template.n, this.inverted = this.subtype === t.SECTION_UNLESS, this.pElement = n.pElement, this.fragments = [], this.fragmentsToCreate = [], this.fragmentsToRender = [], this.fragmentsToUnrender = [], this.length = 0, e.init(this, n) }; return y.prototype = { bubble: n, detach: i, find: r, findAll: o, findAllComponents: s, findComponent: a, findNextNode: u, firstNode: c, getValue: e.getValue, merge: h, rebind: e.rebind, render: l, resolve: e.resolve, setValue: d, splice: f, toString: p, unbind: v, unrender: m, update: g }, y }($, ci, li, di, fi, pi, vi, mi, gi, yi, bi, wi, Ei, xi, ki, _i, Ti, Si), Oi = function () { var t, e; if (this.docFrag) { for (t = this.nodes.length, e = 0; t > e; e += 1) this.docFrag.appendChild(this.nodes[e]); return this.docFrag } }, Ci = function (t) { return function (e) { var n, i, r, o; for (i = this.nodes.length, n = 0; i > n; n += 1) if (r = this.nodes[n], 1 === r.nodeType) { if (t(r, e)) return r; if (o = r.querySelector(e)) return o } return null } }(Je), Li = function (t) { return function (e, n) { var i, r, o, s, a, u; for (r = this.nodes.length, i = 0; r > i; i += 1) if (o = this.nodes[i], 1 === o.nodeType && (t(o, e) && n.push(o), s = o.querySelectorAll(e))) for (a = s.length, u = 0; a > u; u += 1) n.push(s[u]) } }(Je), Ni = function () { return this.rendered && this.nodes[0] ? this.nodes[0] : this.parentFragment.findNextNode(this) }, Ri = function (t, e) { function n(t) { return s[t] || (s[t] = e(t)) } var i, r, o, s = {}; try { e("table").innerHTML = "foo" } catch (a) { r = !0, o = { TABLE: ['<table class="x">', "</table>"], THEAD: ['<table><thead class="x">', "</thead></table>"], TBODY: ['<table><tbody class="x">', "</tbody></table>"], TR: ['<table><tr class="x">', "</tr></table>"], SELECT: ['<select class="x">', "</select>"] } } return i = function (e, i, s) { var a, u, c, h, l, d = []; if (null != e && "" !== e) { for (r && (u = o[i.tagName]) ? (a = n("DIV"), a.innerHTML = u[0] + e + u[1], a = a.querySelector(".x"), "SELECT" === a.tagName && (c = a.options[a.selectedIndex])) : i.namespaceURI === t.svg ? (a = n("DIV"), a.innerHTML = '<svg class="x">' + e + "</svg>", a = a.querySelector(".x")) : (a = n(i.tagName), a.innerHTML = e) ; h = a.firstChild;) d.push(h), s.appendChild(h); if (r && "SELECT" === i.tagName) for (l = d.length; l--;) d[l] !== c && (d[l].selected = !1) } return d } }(S, A), Pi = function (t) { for (var e = [], n = t.length; n--;) e[n] = t[n]; return e }, Ii = function (t) { function e(t) { return t.selected } var n; return n = function (n) { var i, r, o; n && "select" === n.name && n.binding && (i = t(n.node.options).filter(e), n.getAttribute("multiple") ? o = i.map(function (t) { return t.value }) : (r = i[0]) && (o = r.value), void 0 !== o && n.binding.setValue(o), n.bubble()) } }(Pi), zi = function (t, e) { return function () { if (this.rendered) throw new Error("Attempted to render an item that was already rendered"); return this.docFrag = document.createDocumentFragment(), this.nodes = t(this.value, this.parentFragment.getNode(), this.docFrag), e(this.pElement), this.rendered = !0, this.docFrag } }(Ri, Ii), Fi = function (t) { return function (e) { var n; (n = this.root.viewmodel.wrapped[this.keypath]) && (e = n.get()), e !== this.value && (this.value = e, this.parentFragment.bubble(), this.rendered && t.addView(this)) } }(x), Mi = function (t) { return function () { return void 0 != this.value ? t("" + this.value) : "" } }(Ce), ji = function (t) { return function (e) { this.rendered && e && (this.nodes.forEach(t), this.rendered = !1) } }(qn), Di = function (t, e) { return function () { var n, i; if (this.rendered) { for (; this.nodes && this.nodes.length;) n = this.nodes.pop(), n.parentNode.removeChild(n); i = this.parentFragment.getNode(), this.nodes = t(this.value, i, this.docFrag), i.insertBefore(this.docFrag, this.parentFragment.findNextNode(this)), e(this.pElement) } } }(Ri, Ii), Vi = function (t, e, n, i, r, o, s, a, u, c, h, l) { var d = function (n) { this.type = t.TRIPLE, e.init(this, n) }; return d.prototype = { detach: n, find: i, findAll: r, firstNode: o, getValue: e.getValue, rebind: e.rebind, render: s, resolve: e.resolve, setValue: a, toString: u, unbind: l, unrender: c, update: h }, d }($, ci, Oi, Ci, Li, Ni, zi, Fi, Mi, ji, Di, Kn), Ui = function () { this.parentFragment.bubble() }, Bi = function () { var t, e = this.node; return e ? ((t = e.parentNode) && t.removeChild(e), e) : void 0 }, Wi = function (t) { return function (e) { return t(this.node, e) ? this.node : this.fragment && this.fragment.find ? this.fragment.find(e) : void 0 } }(Je), $i = function (t, e) { e._test(this, !0) && e.live && (this.liveQueries || (this.liveQueries = [])).push(e), this.fragment && this.fragment.findAll(t, e) }, qi = function (t, e) { this.fragment && this.fragment.findAllComponents(t, e) }, Hi = function (t) { return this.fragment ? this.fragment.findComponent(t) : void 0 }, Gi = function () { return null }, Ki = function () { return this.node }, Zi = function (t) { return this.attributes && this.attributes[t] ? this.attributes[t].value : void 0 }, Qi = function () { var t, e, n, i; return t = "altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "), e = "attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "), n = function (t) { for (var e = {}, n = t.length; n--;) e[t[n].toLowerCase()] = t[n]; return e }, i = n(t.concat(e)), function (t) { var e = t.toLowerCase(); return i[e] || e } }(), Yi = function (t) { return function () { var e = this.fragment.getValue(); e !== this.value && ("id" === this.name && this.value && delete this.root.nodes[this.value], this.value = e, "value" === this.name && this.node && (this.node._ractive.value = e), this.rendered && t.addView(this)) } }(x), Xi = function () { var t = /^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i; return t }(), Ji = function (t, e) { return function (n, i) { var r, o; if (r = i.indexOf(":"), -1 === r || (o = i.substr(0, r), "xmlns" === o)) n.name = n.element.namespace !== t.html ? e(i) : i; else if (i = i.substring(r + 1), n.name = e(i), n.namespace = t[o.toLowerCase()], !n.namespace) throw 'Unknown namespace ("' + o + '")' } }(S, Qi), tr = function (t) { return function (e) { var n = e.fragment.items; if (1 === n.length) return n[0].type === t.INTERPOLATOR ? n[0] : void 0 } }($), er = function (t, e) { var n = { "accept-charset": "acceptCharset", accesskey: "accessKey", bgcolor: "bgColor", "class": "className", codebase: "codeBase", colspan: "colSpan", contenteditable: "contentEditable", datetime: "dateTime", dirname: "dirName", "for": "htmlFor", "http-equiv": "httpEquiv", ismap: "isMap", maxlength: "maxLength", novalidate: "noValidate", pubdate: "pubDate", readonly: "readOnly", rowspan: "rowSpan", tabindex: "tabIndex", usemap: "useMap" }; return function (i, r) { var o; !i.pNode || i.namespace || r.pNode.namespaceURI && r.pNode.namespaceURI !== t.html || (o = n[i.name] || i.name, void 0 !== r.pNode[o] && (i.propertyName = o), (e.test(o) || "value" === o) && (i.useProperty = !0)) } }(S, Xi), nr = function (t, e, n, i, r, o) { var s; return o.push(function () { s = o.Fragment }), function (o) { return this.type = t.ATTRIBUTE, this.element = o.element, this.root = o.root, n(this, o.name), o.value && "string" != typeof o.value ? (this.parentFragment = this.element.parentFragment, this.fragment = new s({ template: o.value, root: this.root, owner: this }), this.value = this.fragment.getValue(), this.interpolator = i(this), this.isBindable = !!this.interpolator && !this.interpolator.isStatic, r(this, o), void (this.ready = !0)) : void (this.value = e.test(this.name) ? !0 : o.value || "") } }($, Xi, Ji, tr, er, o), ir = function (t, e, n, i) { this.fragment && this.fragment.rebind(t, e, n, i) }, rr = function (t, e) { var n = { "accept-charset": "acceptCharset", accesskey: "accessKey", bgcolor: "bgColor", "class": "className", codebase: "codeBase", colspan: "colSpan", contenteditable: "contentEditable", datetime: "dateTime", dirname: "dirName", "for": "htmlFor", "http-equiv": "httpEquiv", ismap: "isMap", maxlength: "maxLength", novalidate: "noValidate", pubdate: "pubDate", readonly: "readOnly", rowspan: "rowSpan", tabindex: "tabIndex", usemap: "useMap" }; return function (i) { var r; this.node = i, i.namespaceURI && i.namespaceURI !== t.html || (r = n[this.name] || this.name, void 0 !== i[r] && (this.propertyName = r), (e.test(r) || "value" === r) && (this.useProperty = !0), "value" === r && (this.useProperty = !0, i._ractive.value = this.value)), this.rendered = !0, this.update() } }(S, Xi), or = function (t) { function e(t) { return t.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;") } var n; return n = function () { var n = (o = this).name, i = o.value, r = o.interpolator, o = o.fragment; if (("value" !== n || "select" !== this.element.name && "textarea" !== this.element.name) && ("value" !== n || void 0 === this.element.getAttribute("contenteditable"))) return "name" === n && "input" === this.element.name && r ? "name={{" + (r.keypath || r.ref) + "}}" : t.test(n) ? i ? n : "" : (o && (i = o.toString()), i ? n + '="' + e(i) + '"' : n) } }(Xi), sr = function () { this.fragment && this.fragment.unbind() }, ar = function () { var t, e, n, i, r = this.value; if (!this.locked) for (this.node._ractive.value = r, t = this.node.options, i = t.length; i--;) if (e = t[i], n = e._ractive ? e._ractive.value : e.value, n == r) { e.selected = !0; break } }, ur = function (t, e) { for (var n = 0, i = t.length; i > n; n++) if (t[n] == e) return !0; return !1 }, cr = function (t, e) {
            return function () {
                var n, i, r, o, s = this.value; for (e(s) || (s = [s]), n = this.node.options, i = n.length; i--;) r = n[i], o = r._ractive ? r._ractive.value : r.value, r.selected = t(s, o)
            }
        }(ur, a), hr = function () { var t = (e = this).node, e = e.value; t.checked = e == t._ractive.value }, lr = function (t) { return function () { var e, n, i, r, o = this.node; if (e = o.checked, o.value = this.element.getAttribute("value"), o.checked = this.element.getAttribute("value") === this.element.getAttribute("name"), e && !o.checked && this.element.binding && (i = this.element.binding.siblings, r = i.length)) { for (; r--;) { if (n = i[r], !n.element.node) return; if (n.element.node.checked) return t.addViewmodel(n.root.viewmodel), n.handleChange() } t.addViewmodel(n.root.viewmodel), this.root.viewmodel.set(n.keypath, void 0) } } }(x), dr = function (t) { return function () { var e, n; e = this.node, n = this.value, e.checked = t(n) ? -1 !== n.indexOf(e._ractive.value) : n == e._ractive.value } }(a), fr = function () { var t, e; t = this.node, e = this.value, void 0 === e && (e = ""), t.className = e }, pr = function () { var t, e; t = this.node, e = this.value, void 0 !== e && (this.root.nodes[e] = void 0), this.root.nodes[e] = t, t.id = e }, vr = function () { var t, e; t = this.node, e = this.value, void 0 === e && (e = ""), t.style.setAttribute("cssText", e) }, mr = function () { var t = this.value; void 0 === t && (t = ""), this.locked || (this.node.innerHTML = t) }, gr = function () { var t = (e = this).node, e = e.value; t._ractive.value = e, this.locked || (t.value = void 0 == e ? "" : e) }, yr = function () { this.locked || (this.node[this.propertyName] = this.value) }, br = function (t) { return function () { var e = (o = this).node, n = o.namespace, i = o.name, r = o.value, o = o.fragment; n ? e.setAttributeNS(n, i, (o || r).toString()) : t.test(i) ? r ? e.setAttribute(i, "") : e.removeAttribute(i) : e.setAttribute(i, (o || r).toString()) } }(Xi), wr = function (t, e, n, i, r, o, s, a, u, c, h, l, d, f) { return function () { var p, v, m = (y = this).name, g = y.element, y = y.node; "id" === m ? v = u : "value" === m ? "select" === g.name && "value" === m ? v = g.getAttribute("multiple") ? i : n : "textarea" === g.name ? v = l : null != g.getAttribute("contenteditable") ? v = h : "input" === g.name && (p = g.getAttribute("type"), v = "file" === p ? e : "radio" === p && g.binding && "name" === g.binding.name ? o : l) : this.twoway && "name" === m ? "radio" === y.type ? v = r : "checkbox" === y.type && (v = s) : "style" === m && y.style.setAttribute ? v = c : "class" !== m || y.namespaceURI && y.namespaceURI !== t.html ? this.useProperty && (v = d) : v = a, v || (v = f), this.update = v, this.update() } }(S, $e, ar, cr, hr, lr, dr, fr, pr, vr, mr, gr, yr, br), Er = function (t, e, n, i, r, o, s) { var a = function (t) { this.init(t) }; return a.prototype = { bubble: t, init: e, rebind: n, render: i, toString: r, unbind: o, update: s }, a }(Yi, nr, ir, rr, or, sr, wr), xr = function (t) { return function (e, n) { var i, r, o = []; for (i in n) n.hasOwnProperty(i) && (r = new t({ element: e, name: i, value: n[i], root: e.root }), o.push(o[i] = r)); return o } }(Er), kr = function (t) { for (var e, n, i = Array.prototype.slice, r = i.call(arguments, 1) ; n = r.shift() ;) for (e in n) n.hasOwnProperty(e) && (t[e] = n[e]); return t }, _r = function (t, e, n, i, r) { var o = function (t) { var n, i, r; return this.element = t, this.root = t.root, this.attribute = t.attributes[this.name || "value"], n = this.attribute.interpolator, n.twowayBinding = this, n.keypath && "${" === n.keypath.substr ? (e("Two-way binding does not work with expressions: " + n.keypath), !1) : (n.keypath || (n.ref && n.resolve(n.ref), n.resolver && n.resolver.forceResolution()), this.keypath = i = n.keypath, void (void 0 === this.root.viewmodel.get(i) && this.getInitialValue && (r = this.getInitialValue(), void 0 !== r && this.root.viewmodel.set(i, r)))) }; return o.prototype = { handleChange: function () { var e = this; t.start(this.root), this.attribute.locked = !0, this.root.viewmodel.set(this.keypath, this.getValue()), t.scheduleTask(function () { return e.attribute.locked = !1 }), t.end() }, rebound: function () { var t, e, n; e = this.keypath, n = this.attribute.interpolator.keypath, e !== n && (r(this.root._twowayBindings[e], this), this.keypath = n, t = this.root._twowayBindings[n] || (this.root._twowayBindings[n] = []), t.push(this)) }, unbind: function () { } }, o.extend = function (t) { var e, r = this; return e = function (t) { o.call(this, t), this.init && this.init() }, e.prototype = n(r.prototype), i(e.prototype, t), e.extend = o.extend, e }, o }(x, j, q, kr, p), Tr = function () { this._ractive.binding.handleChange() }, Sr = function (t, e) { var n = t.extend({ getInitialValue: function () { return this.element.fragment ? this.element.fragment.toString() : "" }, render: function () { var t = this.element.node; t.addEventListener("change", e, !1), this.root.lazy || (t.addEventListener("input", e, !1), t.attachEvent && t.addEventListener("keyup", e, !1)) }, unrender: function () { var t = this.element.node; t.removeEventListener("change", e, !1), t.removeEventListener("input", e, !1), t.removeEventListener("keyup", e, !1) }, getValue: function () { return this.element.node.innerHTML } }); return n }(_r, Tr), Ar = function () { var t = {}; return function (e, n, i) { var r = e + n + i; return t[r] || (t[r] = []) } }(), Or = function (t, e, n, i, r) { var o = n.extend({ name: "checked", init: function () { this.siblings = i(this.root._guid, "radio", this.element.getAttribute("name")), this.siblings.push(this) }, render: function () { var t = this.element.node; t.addEventListener("change", r, !1), t.attachEvent && t.addEventListener("click", r, !1) }, unrender: function () { var t = this.element.node; t.removeEventListener("change", r, !1), t.removeEventListener("click", r, !1) }, handleChange: function () { t.start(this.root), this.siblings.forEach(function (t) { t.root.viewmodel.set(t.keypath, t.getValue()) }), t.end() }, getValue: function () { return this.element.node.checked }, unbind: function () { e(this.siblings, this) } }); return o }(x, p, _r, Ar, Tr), Cr = function (t, e, n, i) { var r = e.extend({ name: "name", init: function () { this.siblings = i(this.root._guid, "radioname", this.keypath), this.siblings.push(this), this.radioName = !0, this.attribute.twoway = !0 }, getInitialValue: function () { return this.element.getAttribute("checked") ? this.element.getAttribute("value") : void 0 }, render: function () { var t = this.element.node; t.name = "{{" + this.keypath + "}}", t.checked = this.root.viewmodel.get(this.keypath) == this.element.getAttribute("value"), t.addEventListener("change", n, !1), t.attachEvent && t.addEventListener("click", n, !1) }, unrender: function () { var t = this.element.node; t.removeEventListener("change", n, !1), t.removeEventListener("click", n, !1) }, getValue: function () { var t = this.element.node; return t._ractive ? t._ractive.value : t.value }, handleChange: function () { this.element.node.checked && e.prototype.handleChange.call(this) }, rebound: function (t, n, i, r) { var o; e.prototype.rebound.call(this, t, n, i, r), (o = this.element.node) && (o.name = "{{" + this.keypath + "}}") }, unbind: function () { t(this.siblings, this) } }); return r }(p, _r, Tr, Ar), Lr = function (t, e, n, i, r) { function o(t) { return t.isChecked } function s(t) { return t.element.getAttribute("value") } var a = n.extend({ name: "name", getInitialValue: function () { return this.noInitialValue = !0, [] }, init: function () { var e, n, r; this.checkboxName = !0, this.siblings = i(this.root._guid, "checkboxes", this.keypath), this.siblings.push(this), this.noInitialValue && (this.siblings.noInitialValue = !0), r = this.siblings.noInitialValue, e = this.root.viewmodel.get(this.keypath), n = this.element.getAttribute("value"), r ? (this.isChecked = this.element.getAttribute("checked"), this.isChecked && e.push(n)) : this.isChecked = t(e) ? -1 !== e.indexOf(n) : e === n }, unbind: function () { e(this.siblings, this) }, render: function () { var t = this.element.node; t.name = "{{" + this.keypath + "}}", t.checked = this.isChecked, t.addEventListener("change", r, !1), t.attachEvent && t.addEventListener("click", r, !1) }, unrender: function () { var t = this.element.node; t.removeEventListener("change", r, !1), t.removeEventListener("click", r, !1) }, changed: function () { var t = !!this.isChecked; return this.isChecked = this.element.node.checked, this.isChecked === t }, handleChange: function () { this.isChecked = this.element.node.checked, n.prototype.handleChange.call(this) }, getValue: function () { return this.siblings.filter(o).map(s) } }); return a }(a, p, _r, Ar, Tr), Nr = function (t, e) { var n = t.extend({ name: "checked", render: function () { var t = this.element.node; t.addEventListener("change", e, !1), t.attachEvent && t.addEventListener("click", e, !1) }, unrender: function () { var t = this.element.node; t.removeEventListener("change", e, !1), t.removeEventListener("click", e, !1) }, getValue: function () { return this.element.node.checked } }); return n }(_r, Tr), Rr = function (t, e, n) { var i = e.extend({ getInitialValue: function () { var t, e, n, i, r = this.element.options; if (void 0 === this.element.getAttribute("value") && (e = t = r.length, t)) { for (; e--;) if (r[e].getAttribute("selected")) { n = r[e].getAttribute("value"), i = !0; break } if (!i) for (; ++e < t;) if (!r[e].getAttribute("disabled")) { n = r[e].getAttribute("value"); break } return void 0 !== n && (this.element.attributes.value.value = n), n } }, render: function () { this.element.node.addEventListener("change", n, !1) }, unrender: function () { this.element.node.removeEventListener("change", n, !1) }, setValue: function (e) { t.addViewmodel(this.root.viewmodel), this.root.viewmodel.set(this.keypath, e) }, getValue: function () { var t, e, n, i, r; for (t = this.element.node.options, n = t.length, e = 0; n > e; e += 1) if (i = t[e], t[e].selected) return r = i._ractive ? i._ractive.value : i.value }, forceUpdate: function () { var e = this, n = this.getValue(); void 0 !== n && (this.attribute.locked = !0, t.addViewmodel(this.root.viewmodel), t.scheduleTask(function () { return e.attribute.locked = !1 }), this.root.viewmodel.set(this.keypath, n)) } }); return i }(x, _r, Tr), Pr = function (t) { return function (e, n) { var i; if (!t(e) || !t(n)) return !1; if (e.length !== n.length) return !1; for (i = e.length; i--;) if (e[i] !== n[i]) return !1; return !0 } }(a), Ir = function (t, e, n, i) { var r = n.extend({ getInitialValue: function () { return this.element.options.filter(function (t) { return t.getAttribute("selected") }).map(function (t) { return t.getAttribute("value") }) }, render: function () { var t; this.element.node.addEventListener("change", i, !1), t = this.root.viewmodel.get(this.keypath), void 0 === t && this.handleChange() }, unrender: function () { this.element.node.removeEventListener("change", i, !1) }, setValue: function () { throw new Error("TODO not implemented yet") }, getValue: function () { var t, e, n, i, r, o; for (t = [], e = this.element.node.options, i = e.length, n = 0; i > n; n += 1) r = e[n], r.selected && (o = r._ractive ? r._ractive.value : r.value, t.push(o)); return t }, handleChange: function () { var t, i, r; return t = this.attribute, i = t.value, r = this.getValue(), void 0 !== i && e(r, i) || n.prototype.handleChange.call(this), this }, forceUpdate: function () { var e = this, n = this.getValue(); void 0 !== n && (this.attribute.locked = !0, t.addViewmodel(this.root.viewmodel), t.scheduleTask(function () { return e.attribute.locked = !1 }), this.root.viewmodel.set(this.keypath, n)) }, updateModel: function () { void 0 !== this.attribute.value && this.attribute.value.length || this.root.viewmodel.set(this.keypath, this.initialValue) } }); return r }(x, Pr, Rr, Tr), zr = function (t, e) { var n = t.extend({ render: function () { this.element.node.addEventListener("change", e, !1) }, unrender: function () { this.element.node.removeEventListener("change", e, !1) }, getValue: function () { return this.element.node.files } }); return n }(_r, Tr), Fr = function (t, e) { function n() { var t; e.call(this), t = this._ractive.root.viewmodel.get(this._ractive.binding.keypath, o), this.value = void 0 == t ? "" : t } var i, r, o; return o = { evaluateWrapped: !0 }, r = t.extend({ getInitialValue: function () { return "" }, getValue: function () { return this.element.node.value }, render: function () { var t = this.element.node; t.addEventListener("change", e, !1), this.root.lazy || (t.addEventListener("input", e, !1), t.attachEvent && t.addEventListener("keyup", e, !1)), t.addEventListener("blur", n, !1) }, unrender: function () { var t = this.element.node; t.removeEventListener("change", e, !1), t.removeEventListener("input", e, !1), t.removeEventListener("keyup", e, !1), t.removeEventListener("blur", n, !1) } }), i = r }(_r, Tr), Mr = function (t) { return t.extend({ getInitialValue: function () { return void 0 }, getValue: function () { var t = parseFloat(this.element.node.value); return isNaN(t) ? void 0 : t } }) }(Fr), jr = function (t, e, n, i, r, o, s, a, u, c, h) { function l(t) { return t && t.isBindable } var d; return d = function (d) { var f, p, v, m, g = d.attributes; return d.binding && (d.binding.teardown(), d.binding = null), d.getAttribute("contenteditable") && l(g.value) ? p = e : "input" === d.name ? (f = d.getAttribute("type"), "radio" === f || "checkbox" === f ? (v = l(g.name), m = l(g.checked), v && m && t.error({ message: "badRadioInputBinding" }), v ? p = "radio" === f ? i : r : m && (p = "radio" === f ? n : o)) : "file" === f && l(g.value) ? p = u : l(g.value) && (p = "number" === f || "range" === f ? c : h)) : "select" === d.name && l(g.value) ? p = d.getAttribute("multiple") ? a : s : "textarea" === d.name && l(g.value) && (p = h), p ? new p(d) : void 0 } }(Jn, Sr, Or, Cr, Lr, Nr, Rr, Ir, zr, Mr, Fr), Dr = function () { var t = this.getAction(); t && !this.hasListener ? this.listen() : !t && this.hasListener && this.unrender() }, Vr = function (t) { return function (e) { t(this.root, this.getAction(), { event: e }) } }(f), Ur = function () { return this.action.toString().trim() }, Br = function (t, e, n, i, r, o, s) { function a(t) { var e, n, i; if (e = this.root, "function" != typeof e[this.method]) throw new Error('Attempted to call a non-existent method ("' + this.method + '")'); n = this.args.map(function (n) { var i, r, o; if (!n) return void 0; if (n.indexRef) return n.value; if (n.eventObject) { if (i = t, r = n.refinements.length) for (o = 0; r > o; o += 1) i = i[n.refinements[o]] } else i = e.get(n.keypath); return i }), i = this.fn.apply(null, n), e[this.method].apply(e, i) } function u(t) { o(this.root, this.getAction(), { event: t, args: this.params }) } function c(t) { var e = this.dynamicParams.getValue(d); "string" == typeof e && (e = e.substr(1, e.length - 2)), o(this.root, this.getAction(), { event: t, args: e }) } var h, l, d = { args: !0 }, f = /^event(?:\.(.+))?/; return r.push(function () { l = r.Fragment }), h = function (r, o, h) { var d, p, v, m, g, y = this; y.element = r, y.root = r.root, y.name = o, -1 !== o.indexOf("*") && (s.error({ debug: this.root.debug, message: "noElementProxyEventWildcards", args: { element: r.tagName, event: o } }), this.invalid = !0), h.m ? (y.method = h.m, y.args = p = [], y.unresolved = [], y.refs = h.a.r, y.fn = e(h.a.s, y.refs.length), g = r.parentFragment, v = g.indexRefs, m = y.root, h.a.r.forEach(function (e, r) { var o, s, a, u; return v && void 0 !== (o = v[e]) ? void (p[r] = { indexRef: e, value: o }) : (a = f.exec(e)) ? void (p[r] = { eventObject: !0, refinements: a[1] ? a[1].split(".") : [] }) : (s = n(m, e, g)) ? void (p[r] = { keypath: s }) : (p[r] = null, u = new i(m, e, g, function (e) { y.resolve(r, e), t(y.unresolved, u) }), void y.unresolved.push(u)) }), this.fire = a) : (d = h.n || h, "string" != typeof d && (d = new l({ template: d, root: this.root, owner: this })), this.action = d, h.d ? (this.dynamicParams = new l({ template: h.d, root: this.root, owner: this.element }), this.fire = c) : h.a && (this.params = h.a, this.fire = u)) } }(p, ti, w, Qn, o, f, Jn), Wr = function (t) { var e, n; e = this._ractive, n = e.events[t.type], n.fire({ node: this, original: t, index: e.index, keypath: e.keypath, context: e.root.get(e.keypath) }) }, $r = function (t, e, n) { function i(t) { return o[t] || (o[t] = function (e) { var n = e.node._ractive; e.index = n.index, e.keypath = n.keypath, e.context = n.root.get(n.keypath), n.events[t].fire(e) }), o[t] } var r, o = {}; return r = function () { var r, o = this.name; this.invalid || ((r = t.registries.events.find(this.root, o)) ? this.custom = r(this.node, i(o)) : ("on" + o in this.node || window && "on" + o in window || n.error({ debug: this.root.debug, message: "missingPlugin", args: { plugin: "event", name: o } }), this.node.addEventListener(o, e, !1)), this.hasListener = !0) } }(Ge, Wr, Jn), qr = function (t) { return function (e, n, i, r) { return this.method ? void this.args.forEach(function (o) { o.indexRef && o.indexRef === e && (o.value = n), o.keypath && (r = t(o.keypath, i, r)) && (o.keypath = r) }) : ("string" != typeof this.action && this.action.rebind(e, n, i, r), void (this.dynamicParams && this.dynamicParams.rebind(e, n, i, r))) } }(Xn), Hr = function () { this.node = this.element.node, this.node._ractive.events[this.name] = this, (this.method || this.getAction()) && this.listen() }, Gr = function (t, e) { this.args[t] = { keypath: e } }, Kr = function () { function t(t) { t.teardown() } var e; return e = function () { return this.method ? void this.unresolved.forEach(t) : ("string" != typeof this.action && this.action.unbind(), void (this.dynamicParams && this.dynamicParams.unbind())) } }(), Zr = function (t) { return function () { this.custom ? this.custom.teardown() : this.node.removeEventListener(this.name, t, !1), this.hasListener = !1 } }(Wr), Qr = function (t, e, n, i, r, o, s, a, u, c) { var h = function (t, e, n) { this.init(t, e, n) }; return h.prototype = { bubble: t, fire: e, getAction: n, init: i, listen: r, rebind: o, render: s, resolve: a, unbind: u, unrender: c }, h }(Dr, Vr, Ur, Br, $r, qr, Hr, Gr, Kr, Zr), Yr = function (t) { return function (e, n) { var i, r, o, s, a = []; for (r in n) if (n.hasOwnProperty(r)) for (o = r.split("-"), i = o.length; i--;) s = new t(e, o[i], n[r]), a.push(s); return a } }(Qr), Xr = function (t, e, n) { var i, r, o; return e.push(function () { i = e.Fragment }), r = { args: !0 }, o = function (e, o) { var s, a, u, c = this; c.element = e, c.root = s = e.root, a = o.n || o, "string" != typeof a && (u = new i({ template: a, root: s, owner: e }), a = u.toString(), u.unbind()), o.a ? c.params = o.a : o.d && (c.fragment = new i({ template: o.d, root: s, owner: e }), c.params = c.fragment.getValue(r), c.fragment.bubble = function () { this.dirtyArgs = this.dirtyValue = !0, c.params = this.getValue(r), c.ready && c.update() }), c.fn = n.registries.decorators.find(s, a), c.fn || t.error({ debug: s.debug, message: "missingPlugin", args: { plugin: "decorator", name: a } }) }, o.prototype = { init: function () { var t, e, n, i = this; if (t = i.element.node, i.params ? (n = [t].concat(i.params), e = i.fn.apply(i.root, n)) : e = i.fn.call(i.root, t), !e || !e.teardown) throw new Error("Decorator definition must return an object with a teardown method"); i.actual = e, i.ready = !0 }, update: function () { this.actual.update ? this.actual.update.apply(this.root, this.params) : (this.actual.teardown(!0), this.init()) }, rebind: function (t, e, n, i) { this.fragment && this.fragment.rebind(t, e, n, i) }, teardown: function (t) { this.actual.teardown(), !t && this.fragment && this.fragment.unbind() } }, o }(Jn, o, Ge), Jr = function (t) { function e(t, e) { for (var n = t.length; n--;) if (t[n] == e) return !0 } var n; return n = function (n) { var i, r, o, s, a; i = n.node, i && (s = t(i.options), r = n.getAttribute("value"), o = n.getAttribute("multiple"), void 0 !== r ? (s.forEach(function (t) { var n, i; n = t._ractive ? t._ractive.value : t.value, i = o ? e(r, n) : r == n, i && (a = !0), t.selected = i }), a || (s[0] && (s[0].selected = !0), n.binding && n.binding.forceUpdate())) : n.binding && n.binding.forceUpdate()) } }(Pi), to = function (t, e) { return function () { var n = this; this.dirty || (this.dirty = !0, t.scheduleTask(function () { e(n), n.dirty = !1 })), this.parentFragment.bubble() } }(x, Jr), eo = function (t) { do if ("select" === t.name) return t; while (t = t.parent) }, no = function (t) { return function (e, n) { e.select = t(e.parent), e.select && (e.select.options.push(e), n.a || (n.a = {}), n.a.value || n.a.hasOwnProperty("disabled") || (n.a.value = n.f), "selected" in n.a && void 0 !== e.select.getAttribute("value") && delete n.a.selected) } }(eo), io = function (t, e, n, i, r, o, s, a, u) { var c; return u.push(function () { c = u.Fragment }), function (u) { var h, l, d, f, p; this.type = t.ELEMENT, h = this.parentFragment = u.parentFragment, l = this.template = u.template, this.parent = u.pElement || h.pElement, this.root = d = h.root, this.index = u.index, this.name = e(l.e), "option" === this.name && a(this, l), "select" === this.name && (this.options = [], this.bubble = s), this.attributes = n(this, l.a), l.f && (this.fragment = new c({ template: l.f, root: d, owner: this, pElement: this })), d.twoway && (f = i(this, l.a)) && (this.binding = f, p = this.root._twowayBindings[f.keypath] || (this.root._twowayBindings[f.keypath] = []), p.push(f)), l.v && (this.eventHandlers = r(this, l.v)), l.o && (this.decorator = new o(this, l.o)), this.intro = l.t0 || l.t1, this.outro = l.t0 || l.t2 } }($, Qi, xr, jr, Yr, Xr, to, no, o), ro = function (t) { return function (e, n) { return e === n || t(e, n) } }(Yn), oo = function (t, e) { return function (n, i, r, o) { var s = n[i]; s && !t(s, o) && t(s, r) && (n[i] = e(s, r, o)) } }(ro, Xn), so = function (t) { return function (e, n, i, r) { function o(t) { t.rebind(e, n, i, r) } var s, a, u, c; if (this.attributes && this.attributes.forEach(o), this.eventHandlers && this.eventHandlers.forEach(o), this.decorator && o(this.decorator), this.fragment && o(this.fragment), u = this.liveQueries) for (c = this.root, s = u.length; s--;) u[s]._makeDirty(); this.node && (a = this.node._ractive) && (t(a, "keypath", i, r), void 0 != e && (a.index[e] = n)) } }(oo), ao = function (t) { var e; (t.attributes.width || t.attributes.height) && t.node.addEventListener("load", e = function () { var n = t.getAttribute("width"), i = t.getAttribute("height"); void 0 !== n && t.node.setAttribute("width", n), void 0 !== i && t.node.setAttribute("height", i), t.node.removeEventListener("load", e, !1) }, !1) }, uo = function (t, e, n) { var i, r = {}; return n.push(function () { i = n.Fragment }), function (n, o, s) { var a, u, c, h = this; return h.element = n, h.root = a = n.root, h.isIntro = s, u = o.n || o, "string" != typeof u && (c = new i({ template: u, root: a, owner: n }), u = c.toString(), c.unbind()), h.name = u, o.a ? h.params = o.a : o.d && (c = new i({ template: o.d, root: a, owner: n }), h.params = c.getValue(r), c.unbind()), h._fn = e.registries.transitions.find(a, u), h._fn ? void 0 : void t.error({ debug: a.debug, message: "missingPlugin", args: { plugin: "transition", name: u } }) } }(Jn, Ge, o), co = function (t) { return t.replace(/-([a-zA-Z])/g, function (t, e) { return e.toUpperCase() }) }, ho = function (t, e, n, i) { var r, o, s; return t ? (o = {}, s = n("div").style, r = function (t) { var n, r, a; if (t = i(t), !o[t]) if (void 0 !== s[t]) o[t] = t; else for (a = t.charAt(0).toUpperCase() + t.substring(1), n = e.length; n--;) if (r = e[n], void 0 !== s[r + a]) { o[t] = r + a; break } return o[t] }) : r = null, r }(O, I, A, co), lo = function (t, e, n, i) { var r, o; return e ? (o = window.getComputedStyle || t.getComputedStyle, r = function (t) { var e, r, s, a, u; if (e = o(this.node), "string" == typeof t) return u = e[i(t)], "0px" === u && (u = 0), u; if (!n(t)) throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties"); for (r = {}, s = t.length; s--;) a = t[s], u = e[i(a)], "0px" === u && (u = 0), r[a] = u; return r }) : r = null, r }(Ee, O, a, ho), fo = function (t) { return function (e, n) { var i; if ("string" == typeof e) this.node.style[t(e)] = n; else for (i in e) e.hasOwnProperty(i) && (this.node.style[t(i)] = e[i]); return this } }(ho), po = function (t, e, n) { function i(t) { return t } var r, o = function (r) { var o; this.duration = r.duration, this.step = r.step, this.complete = r.complete, "string" == typeof r.easing ? (o = r.root.easing[r.easing], o || (t('Missing easing function ("' + r.easing + '"). You may need to download a plugin from [TODO]'), o = i)) : o = "function" == typeof r.easing ? r.easing : i, this.easing = o, this.start = e(), this.end = this.start + this.duration, this.running = !0, n.add(this) }; return o.prototype = { tick: function (t) { var e, n; return this.running ? t > this.end ? (this.step && this.step(1), this.complete && this.complete(1), !1) : (e = t - this.start, n = this.easing(e / this.duration), this.step && this.step(n), !0) : !1 }, stop: function () { this.abort && this.abort(), this.running = !1 } }, r = o }(j, F, M), vo = function (t) { var e = new RegExp("^-(?:" + t.join("|") + ")-"); return function (t) { return t.replace(e, "") } }(I), mo = function (t) { var e = new RegExp("^(?:" + t.join("|") + ")([A-Z])"); return function (t) { var n; return t ? (e.test(t) && (t = "-" + t), n = t.replace(/[A-Z]/g, function (t) { return "-" + t.toLowerCase() })) : "" } }(I), go = function (t, e, n, i, r, o, s, a, u) { var c, h, l, d, f, p, v, m, g = {}, y = {}; return t ? (h = n("div").style, function () { void 0 !== h.transition ? (l = "transition", d = "transitionend", f = !0) : void 0 !== h.webkitTransition ? (l = "webkitTransition", d = "webkitTransitionEnd", f = !0) : f = !1 }(), l && (p = l + "Duration", v = l + "Property", m = l + "TimingFunction"), c = function (t, n, c, h, l) { setTimeout(function () { var b, w, E, x, k; x = function () { w && E && (t.root.fire(t.name + ":end", t.node, t.isIntro), l()) }, b = (t.node.namespaceURI || "") + t.node.tagName, t.node.style[v] = h.map(s).map(u).join(","), t.node.style[m] = u(c.easing || "linear"), t.node.style[p] = c.duration / 1e3 + "s", k = function (e) { var n; n = h.indexOf(i(a(e.propertyName))), -1 !== n && h.splice(n, 1), h.length || (t.node.removeEventListener(d, k, !1), E = !0, x()) }, t.node.addEventListener(d, k, !1), setTimeout(function () { for (var a, u, l, p, v, m = h.length, _ = []; m--;) p = h[m], a = b + p, f && !y[a] && (t.node.style[s(p)] = n[p], g[a] || (u = t.getStyle(p), g[a] = t.getStyle(p) != n[p], y[a] = !g[a], y[a] && (t.node.style[s(p)] = u))), (!f || y[a]) && (void 0 === u && (u = t.getStyle(p)), l = h.indexOf(p), -1 === l ? e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!") : h.splice(l, 1), v = /[^\d]*$/.exec(n[p])[0], _.push({ name: s(p), interpolator: r(parseFloat(u), parseFloat(n[p])), suffix: v })); _.length ? new o({ root: t.root, duration: c.duration, easing: i(c.easing || ""), step: function (e) { var n, i; for (i = _.length; i--;) n = _[i], t.node.style[n.name] = n.interpolator(e) + n.suffix }, complete: function () { w = !0, x() } }) : w = !0, h.length || (t.node.removeEventListener(d, k, !1), E = !0, x()) }, 0) }, c.delay || 0) }) : c = null, c }(O, j, A, co, Ke, po, ho, vo, mo), yo = function (t) { function e() { u.hidden = document[r] } function n() { u.hidden = !0 } function i() { u.hidden = !1 } var r, o, s, a, u; if ("undefined" != typeof document) { if (r = "hidden", u = {}, r in document) s = ""; else for (a = t.length; a--;) o = t[a], r = o + "Hidden", r in document && (s = o); void 0 !== s ? (document.addEventListener(s + "visibilitychange", e), e()) : ("onfocusout" in document ? (document.addEventListener("focusout", n), document.addEventListener("focusin", i)) : (window.addEventListener("pagehide", n), window.addEventListener("blur", n), window.addEventListener("pageshow", i), window.addEventListener("focus", i)), u.hidden = !1) } return u }(I), bo = function (t, e, n, i, r, o, s) { var a, u, c; return e ? (u = window.getComputedStyle || t.getComputedStyle, a = function (t, e, a, h) { var l, d = this; if (s.hidden) return this.setStyle(t, e), c || (c = i.resolve()); "string" == typeof t ? (l = {}, l[t] = e) : (l = t, h = a, a = e), a || (n('The "' + d.name + '" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'), a = d, h = d.complete); var f = new i(function (t) { var e, n, i, s, c, h, f; if (!a.duration) return d.setStyle(l), void t(); for (e = Object.keys(l), n = [], i = u(d.node), c = {}, h = e.length; h--;) f = e[h], s = i[r(f)], "0px" === s && (s = 0), s != l[f] && (n.push(f), d.node.style[r(f)] = s); return n.length ? void o(d, l, a, n, t) : void t() }); return h && (n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"), f.then(h)), f }) : a = null, a }(Ee, O, j, v, ho, go, yo), wo = function (t, e) { var n; for (n in e) !e.hasOwnProperty(n) || n in t || (t[n] = e[n]); return t }, Eo = function (t) { return function (e, n) { return "number" == typeof e ? e = { duration: e } : "string" == typeof e ? e = "slow" === e ? { duration: 600 } : "fast" === e ? { duration: 200 } : { duration: 400 } : e || (e = {}), t(e, n) } }(wo), xo = function () { function t(t, e) { e ? t.setAttribute("style", e) : (t.getAttribute("style"), t.removeAttribute("style")) } var e; return e = function () { var e, n, i = this; return e = i.node = i.element.node, n = e.getAttribute("style"), i.complete = function (r) { !r && i.isIntro && t(e, n), e._ractive.transition = null, i._manager.remove(i) }, i._fn ? void i._fn.apply(i.root, [i].concat(i.params)) : void i.complete() } }(), ko = function (t, e, n, i, r, o, s) { var a, u; return s.push(function () { a = s.Fragment }), u = function (t, e, n) { this.init(t, e, n) }, u.prototype = { init: t, start: o, getStyle: e, setStyle: n, animateStyle: i, processParams: r }, u }(uo, lo, fo, bo, Eo, xo, o), _o = function (t, e, n, i, r, o, s, a, u, c, h) { function l(e) { var n, i, r; return n = (i = e.getAttribute("xmlns")) ? i : "svg" === e.name ? t.svg : (r = e.parent) ? "foreignObject" === r.name ? t.html : r.node.namespaceURI : e.root.el.namespaceURI } function d(t) { var n, i, r; if (t.select && (i = t.select.getAttribute("value"), void 0 !== i)) if (n = t.getAttribute("value"), t.select.node.multiple && e(i)) { for (r = i.length; r--;) if (n == i[r]) { t.node.selected = !0; break } } else t.node.selected = n == i } function f(t) { var e, n, i, r, o; e = t.root; do for (n = e._liveQueries, i = n.length; i--;) r = n[i], o = n["_" + r], o._test(t) && (t.liveQueries || (t.liveQueries = [])).push(o); while (e = e._parent) } var p, v, m; return v = function () { var t = this.node, e = this.fragment.toString(!1); if (t.styleSheet) t.styleSheet.cssText = e; else { for (; t.hasChildNodes() ;) t.removeChild(t.firstChild); t.appendChild(document.createTextNode(e)) } }, m = function () { this.node.type && "text/javascript" !== this.node.type || n("Script tag was updated. This does not cause the code to be re-evaluated!"), this.node.text = this.fragment.toString(!1) }, p = function () { var t, e, n = this, p = this.root; if (t = l(this), e = this.node = r(this.name, t), p.constructor.css && this.parentFragment.getNode() === p.el && this.node.setAttribute("data-rvcguid", p.constructor._guid), o(this.node, "_ractive", { value: { proxy: this, keypath: u(this.parentFragment), index: this.parentFragment.indexRefs, events: i(null), root: p } }), this.attributes.forEach(function (t) { return t.render(e) }), this.fragment && ("script" === this.name ? (this.bubble = m, this.node.text = this.fragment.toString(!1), this.fragment.unrender = s) : "style" === this.name ? (this.bubble = v, this.bubble(), this.fragment.unrender = s) : this.binding && this.getAttribute("contenteditable") ? this.fragment.unrender = s : this.node.appendChild(this.fragment.render())), this.eventHandlers && this.eventHandlers.forEach(function (t) { return t.render() }), this.binding && (this.binding.render(), this.node._ractive.binding = this.binding), "img" === this.name && c(this), this.decorator && this.decorator.fn && a.scheduleTask(function () { n.decorator.init() }), p.transitionsEnabled && this.intro) { var g = new h(this, this.intro, !0); a.registerTransition(g), a.scheduleTask(function () { return g.start() }) } return "option" === this.name && d(this), this.node.autofocus && a.scheduleTask(function () { return n.node.focus() }), f(this), this.node } }(S, a, j, q, A, C, $e, x, g, ao, ko), To = function (t, e, n) { function i(t) { var n, i, r; if (n = t.getAttribute("value"), void 0 === n || !t.select) return !1; if (i = t.select.getAttribute("value"), i == n) return !0; if (t.select.getAttribute("multiple") && e(i)) for (r = i.length; r--;) if (i[r] == n) return !0 } function r(t) { var e, n, i, r; return e = t.attributes, n = e.type, i = e.value, r = e.name, n && "radio" === n.value && i && r.interpolator && i.value === r.interpolator.value ? !0 : void 0 } function o(t) { var e = t.toString(); return e ? " " + e : "" } var s; return s = function () { var e, s; return e = "<" + (this.template.y ? "!DOCTYPE" : this.template.e), e += this.attributes.map(o).join(""), "option" === this.name && i(this) && (e += " selected"), "input" === this.name && r(this) && (e += " checked"), e += ">", "textarea" === this.name && void 0 !== this.getAttribute("value") ? e += n(this.getAttribute("value")) : void 0 !== this.getAttribute("contenteditable") && (e += this.getAttribute("value")), this.fragment && (s = "script" !== this.name && "style" !== this.name, e += this.fragment.toString(s)), t.test(this.template.e) || (e += "</" + this.template.e + ">"), e } }(Te, a, $n), So = function (t) { return function (e) { e.select && t(e.select.options, e) } }(p), Ao = function (t) { function e(t) { t.unbind() } var n; return n = function () { this.fragment && this.fragment.unbind(), this.binding && this.binding.unbind(), this.eventHandlers && this.eventHandlers.forEach(e), "option" === this.name && t(this), this.attributes.forEach(e) } }(So), Oo = function (t, e) { function n(t) { var e, n, i; for (i = t.liveQueries.length; i--;) e = t.liveQueries[i], n = e.selector, e._remove(t.node) } var i; return i = function (i) { var r, o; if ("option" === this.name ? this.detach() : i && t.detachWhenReady(this), this.fragment && this.fragment.unrender(!1), (r = this.binding) && (this.binding.unrender(), this.node._ractive.binding = null, o = this.root._twowayBindings[r.keypath], o.splice(o.indexOf(r), 1)), this.eventHandlers && this.eventHandlers.forEach(function (t) { return t.unrender() }), this.decorator && this.decorator.teardown(), this.root.transitionsEnabled && this.outro) { var s = new e(this, this.outro, !1); t.registerTransition(s), t.scheduleTask(function () { return s.start() }) } this.liveQueries && n(this), this.node.id && delete this.root.nodes[this.node.id] } }(x, ko), Co = function (t, e, n, i, r, o, s, a, u, c, h, l, d, f, p) { var v = function (t) { this.init(t) }; return v.prototype = { bubble: t, detach: e, find: n, findAll: i, findAllComponents: r, findComponent: o, findNextNode: s, firstNode: a, getAttribute: u, init: c, rebind: h, render: l, toString: d, unbind: f, unrender: p }, v }(Ui, Bi, Wi, $i, qi, Hi, Gi, Ki, Zi, io, so, _o, To, Ao, Oo), Lo = function () { function t(t, e) { var n = i.exec(e)[0]; return null === t || n.length < t.length ? n : t } var e, n = /^\s*$/, i = /^\s*/; return e = function (e) { var i, r, o, s; return i = e.split("\n"), r = i[0], void 0 !== r && n.test(r) && i.shift(), o = i[i.length - 1], void 0 !== o && n.test(o) && i.pop(), s = i.reduce(t, null), s && (e = i.map(function (t) { return t.replace(s, "") }).join("\n")), e } }(), No = function (t, e, n, i) { function r(i, r) { var o = e.registries.partials, s = o.findInstance(i, r); if (s) { var a, u = s.partials[r]; if ("function" == typeof u && (a = u.bind(s), a.isOwner = s.partials.hasOwnProperty(r), u = a(s.data, n)), !u) return void t.warn({ debug: i.debug, message: "noRegistryFunctionReturn", args: { registry: "partial", name: r } }); if (!n.isParsed(u)) { var c = n.parse(u, n.getParseOptions(s)); c.p && t.warn({ debug: i.debug, message: "noNestedPartials", args: { rname: r } }); var h = a ? s : o.findOwner(s, r); h.partials[r] = u = c.t } return a && (u._fn = a), u.v ? u.t : u } } var o; return o = function (e, o) { var s; if (s = r(e, o)) return s; if (s = n.fromId(o, { noThrow: !0 })) { s = i(s); var a = n.parse(s, n.getParseOptions(e)); return e.partials[o] = a.t } return t.error({ debug: e.debug, message: "noTemplateForPartial", args: { name: o } }), [] } }(Jn, Ge, Ve, Lo), Ro = function (t, e) { var n; return e ? n = t.split("\n").map(function (t, n) { return n ? e + t : t }).join("\n") : t }, Po = function (t, e, n, i, r, o, s, a) {
            var u, c; return i.push(function () { c = i.Fragment }), u = function (e) { var n = this.parentFragment = e.parentFragment; this.type = t.PARTIAL, this.name = e.template.r, this.index = e.index, this.root = n.root, o.init(this, e), this.update() }, u.prototype = {
                bubble: function () { this.parentFragment.bubble() }, firstNode: function () {
                    return this.fragment.firstNode()
                }, findNextNode: function () { return this.parentFragment.findNextNode(this) }, detach: function () { return this.fragment.detach() }, render: function () { return this.update(), this.rendered = !0, this.fragment.render() }, unrender: function (t) { this.rendered && (this.fragment.unrender(t), this.rendered = !1) }, rebind: function (t, e, n, i) { return this.fragment.rebind(t, e, n, i) }, unbind: function () { this.fragment && this.fragment.unbind() }, toString: function (e) { var i, r, o, s; return i = this.fragment.toString(e), r = this.parentFragment.items[this.index - 1], r && r.type === t.TEXT ? (o = r.text.split("\n").pop(), (s = /^\s+$/.exec(o)) ? n(i, s[0]) : i) : i }, find: function (t) { return this.fragment.find(t) }, findAll: function (t, e) { return this.fragment.findAll(t, e) }, findComponent: function (t) { return this.fragment.findComponent(t) }, findAllComponents: function (t, e) { return this.fragment.findAllComponents(t, e) }, getValue: function () { return this.fragment.getValue() }, resolve: o.resolve, setValue: function (t) { this.value !== t && (this.fragment && this.rendered && this.fragment.unrender(!0), this.fragment = null, this.value = t, this.rendered ? r.addView(this) : (this.update(), this.bubble())) }, update: function () { var t, n, i, r; this.fragment || (t = this.name && (s.registries.partials.findInstance(this.root, this.name) || a.fromId(this.name, { noThrow: !0 })) ? e(this.root, this.name) : this.value ? e(this.root, this.value) : [], this.fragment = new c({ template: t, root: this.root, owner: this, pElement: this.parentFragment.pElement }), this.rendered && (i = this.parentFragment.getNode(), n = this.fragment.render(), r = this.parentFragment.findNextNode(this), i.insertBefore(n, r))) }
            }, u
        }($, No, Ro, o, x, ci, Ge, Ve), Io = function (t, e, n) { var i; return n.push(function () { i = n.Ractive }), function r(n, i) { var o, s = t.registries.components.findInstance(n, i); if (s && (o = s.components[i], !o._parent)) { var a = o.bind(s); if (a.isOwner = s.components.hasOwnProperty(i), o = a(s.data), !o) return void e.warn({ debug: n.debug, message: "noRegistryFunctionReturn", args: { registry: "component", name: i } }); "string" == typeof o && (o = r(n, o)), o._fn = a, s.components[i] = o } return o } }(Ge, Jn, o), zo = function () { return this.instance.fragment.detach() }, Fo = function (t) { return this.instance.fragment.find(t) }, Mo = function (t, e) { return this.instance.fragment.findAll(t, e) }, jo = function (t, e) { e._test(this, !0), this.instance.fragment && this.instance.fragment.findAllComponents(t, e) }, Do = function (t) { return t && t !== this.name ? this.instance.fragment ? this.instance.fragment.findComponent(t) : null : this.instance }, Vo = function () { return this.parentFragment.findNextNode(this) }, Uo = function () { return this.rendered ? this.instance.fragment.firstNode() : null }, Bo = function (t, e) { var n, i; return e.push(function () { n = e.Fragment }), i = function (t, e, i) { this.parentFragment = t.parentFragment, this.component = t, this.key = e, this.fragment = new n({ template: i, root: t.root, owner: this }), this.value = this.fragment.getValue() }, i.prototype = { bubble: function () { this.dirty || (this.dirty = !0, t.addView(this)) }, update: function () { var e = this.fragment.getValue(); this.component.instance.viewmodel.set(this.key, e), t.addViewmodel(this.component.instance.viewmodel), this.value = e, this.dirty = !1 }, rebind: function (t, e, n, i) { this.fragment.rebind(t, e, n, i) }, unbind: function () { this.fragment.unbind() } }, i }(x, o), Wo = function (t, e) { var n = function (n, i, r, o) { var s = this; this.root = n.root, this.parentFragment = n.parentFragment, this.ready = !1, this.hash = null, this.resolver = new t(this, r, function (t) { s.binding || (s.binding = n.bindings[s.hash]) ? (n.bindings[s.hash] = null, s.binding.rebind(t), s.hash = t + "=" + i, n.bindings[s.hash]) : s.ready ? e(n, n.root, t, i) : o.push({ childKeypath: i, parentKeypath: t }), s.value = n.root.viewmodel.get(t) }) }; return n.prototype = { rebind: function (t, e, n, i) { this.resolver.rebind(t, e, n, i) }, unbind: function () { this.resolver.unbind() } }, n }(oi, b), $o = function (t, e, n, i, r) { function o(o, s, a, u) { var c, h, l, d, f, p; if (l = o.root, d = o.parentFragment, "string" == typeof a) return h = e(a), h ? h.value : a; if (null === a) return !0; if (1 === a.length && a[0].t === t.INTERPOLATOR) { if (a[0].r) return d.indexRefs && void 0 !== d.indexRefs[p = a[0].r] ? (o.indexRefBindings[p] = s, d.indexRefs[p]) : (f = n(l, a[0].r, d) || a[0].r, u.push({ childKeypath: s, parentKeypath: f }), l.viewmodel.get(f)); if (a[0].rx) return c = new r(o, s, a[0].rx, u), o.complexParameters.push(c), c.ready = !0, c.value } return c = new i(o, s, a), o.complexParameters.push(c), c.value } var s; return s = function (t, e, n, i) { var r, s, a = {}; t.complexParameters = []; for (r in n) n.hasOwnProperty(r) && (s = o(t, r, n[r], i), (void 0 !== s || void 0 === e[r]) && (a[r] = s)); return a } }($, Ne, w, Bo, Wo), qo = function (t) { return function (e, n, i, r) { var o, s, a, u; return s = e.parentFragment, u = e.root, a = { content: r || [] }, n.defaults.el && t.warn({ debug: u.debug, message: "defaultElSpecified", args: { name: e.name } }), o = new n({ el: null, append: !0, data: i, partials: a, magic: u.magic || n.defaults.magic, modifyArrays: u.modifyArrays, _parent: u, _component: e, adapt: u.adapt, "yield": { template: r, instance: u } }) } }(Jn), Ho = function (t) { return function (e, n) { n.forEach(function (n) { var i, r; t(e, e.root, n.parentKeypath, n.childKeypath), i = e.instance.viewmodel.get(n.childKeypath), r = e.root.viewmodel.get(n.parentKeypath), void 0 !== i && void 0 === r && e.root.viewmodel.set(n.parentKeypath, i) }) } }(b), Go = function (t, e, n) { function i(t, i, r, o) { "string" != typeof o && n.error({ debug: i.debug, message: "noComponentEventArguments" }), t.on(r, function () { var t, n; return arguments.length && arguments[0].node && (t = Array.prototype.shift.call(arguments)), n = Array.prototype.slice.call(arguments), e(i, o, { event: t, args: n }), !1 }) } var r, o; return t.push(function () { o = t.Fragment }), r = function (t, e) { var n; for (n in e) e.hasOwnProperty(n) && i(t.instance, t.root, n, e[n]) } }(o, f, Jn), Ko = function (t) { var e, n; for (e = t.root; e;) (n = e._liveComponentQueries["_" + t.name]) && n.push(t.instance), e = e._parent }, Zo = function (t, e, n, i, r, o, s) { return function (a, u) { var c, h, l, d; if (c = this.parentFragment = a.parentFragment, h = c.root, this.root = h, this.type = t.COMPONENT, this.name = a.template.e, this.index = a.index, this.indexRefBindings = {}, this.bindings = [], this.yielder = null, !u) throw new Error('Component "' + this.name + '" not found'); d = [], l = n(this, u.defaults.data || {}, a.template.a, d), i(this, u, l, a.template.f), r(this, d), o(this, a.template.v), (a.template.t1 || a.template.t2 || a.template.o) && e('The "intro", "outro" and "decorator" directives have no effect on components'), s(this) } }($, j, $o, qo, Ho, Go, Ko), Qo = function (t, e) { return function (n, i, r, o) { function s(t) { t.rebind(n, i, r, o) } var a, u, c = this.instance, h = c._parent; this.bindings.forEach(function (t) { var n; t.root === h && (n = e(t.keypath, r, o)) && t.rebind(n) }), this.complexParameters.forEach(s), this.yielder && s(this.yielder), (a = this.indexRefBindings[n]) && (t.addViewmodel(c.viewmodel), c.viewmodel.set(a, i)), (u = this.root._liveComponentQueries["_" + this.name]) && u._makeDirty() } }(x, Xn), Yo = function () { var t = this.instance; return t.render(this.parentFragment.getNode()), this.rendered = !0, t.fragment.detach() }, Xo = function () { return this.instance.fragment.toString() }, Jo = function () { function t(t) { t.unbind() } function e(t) { var e, n; e = t.root; do (n = e._liveComponentQueries["_" + t.name]) && n._remove(t); while (e = e._parent) } var n; return n = function () { this.complexParameters.forEach(t), this.bindings.forEach(t), e(this), this.instance.fragment.unbind() } }(), ts = function (t) { return function (e) { t(this.instance, "teardown"), this.shouldDestroy = e, this.instance.unrender() } }(f), es = function (t, e, n, i, r, o, s, a, u, c, h, l, d) { var f = function (t, e) { this.init(t, e) }; return f.prototype = { detach: t, find: e, findAll: n, findAllComponents: i, findComponent: r, findNextNode: o, firstNode: s, init: a, rebind: u, render: c, toString: h, unbind: l, unrender: d }, f }(zo, Fo, Mo, jo, Do, Vo, Uo, Zo, Qo, Yo, Xo, Jo, ts), ns = function (t, e) { var n = function (e) { this.type = t.COMMENT, this.value = e.template.c }; return n.prototype = { detach: e, firstNode: function () { return this.node }, render: function () { return this.node || (this.node = document.createComment(this.value)), this.node }, toString: function () { return "<!--" + this.value + "-->" }, unrender: function (t) { t && this.node.parentNode.removeChild(this.node) } }, n }($, Hn), is = function (t) { var e; t.push(function () { e = t.Fragment }); var n = function (t) { var n, i; if (n = t.parentFragment.root, this.component = i = n.component, this.surrogateParent = t.parentFragment, this.parentFragment = i.parentFragment, i.yielder) throw new Error("A component template can only have one {{yield}} declaration at a time"); this.fragment = new e({ owner: this, root: n.yield.instance, template: n.yield.template }), i.yielder = this }; return n.prototype = { detach: function () { return this.fragment.detach() }, find: function (t) { return this.fragment.find(t) }, findAll: function (t, e) { return this.fragment.findAll(t, e) }, findComponent: function (t) { return this.fragment.findComponent(t) }, findAllComponents: function (t, e) { return this.fragment.findAllComponents(t, e) }, findNextNode: function () { return this.surrogateParent.findNextNode(this) }, firstNode: function () { return this.fragment.firstNode() }, getValue: function (t) { return this.fragment.getValue(t) }, render: function () { return this.fragment.render() }, unbind: function () { this.fragment.unbind() }, unrender: function (t) { this.fragment.unrender(t), this.component.yielder = void 0 }, rebind: function (t, e, n, i) { this.fragment.rebind(t, e, n, i) }, toString: function () { return this.fragment.toString() } }, n }(o), rs = function (t, e, n, i, r, o, s, a, u, c, h) { return function (l) { if ("string" == typeof l.template) return new e(l); switch (l.template.t) { case t.INTERPOLATOR: return "yield" === l.template.r ? new h(l) : new n(l); case t.SECTION: return new i(l); case t.TRIPLE: return new r(l); case t.ELEMENT: var d; return (d = a(l.parentFragment.root, l.template.e)) ? new u(l, d) : new o(l); case t.PARTIAL: return new s(l); case t.COMMENT: return new c(l); default: throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!") } } }($, Gn, hi, Ai, Vi, Co, Po, Io, es, ns, is), os = function (t, e, n) { return function (i) { var r, o, s, a = this; if (this.owner = i.owner, r = this.parent = this.owner.parentFragment, this.root = i.root, this.pElement = i.pElement, this.context = i.context, this.owner.type === t.SECTION && (this.index = i.index), r && (o = r.indexRefs)) { this.indexRefs = e(null); for (s in o) this.indexRefs[s] = o[s] } this.priority = r ? r.priority + 1 : 1, i.indexRef && (this.indexRefs || (this.indexRefs = {}), this.indexRefs[i.indexRef] = i.index), "string" == typeof i.template ? i.template = [i.template] : i.template || (i.template = []), this.items = i.template.map(function (t, e) { return n({ parentFragment: a, pElement: i.pElement, template: t, index: e }) }), this.value = this.argsList = null, this.dirtyArgs = this.dirtyValue = !0, this.bound = !0 } }($, q, rs), ss = function (t) { return function (e, n, i, r) { t(this, "context", i, r), this.indexRefs && void 0 !== this.indexRefs[e] && (this.indexRefs[e] = n), this.items.forEach(function (t) { t.rebind && t.rebind(e, n, i, r) }) } }(oo), as = function () { var t; return 1 === this.items.length ? t = this.items[0].render() : (t = document.createDocumentFragment(), this.items.forEach(function (e) { t.appendChild(e.render()) })), this.rendered = !0, t }, us = function (t) { return this.items ? this.items.map(function (e) { return e.toString(t) }).join("") : "" }, cs = function () { function t(t) { t.unbind && t.unbind() } var e; return e = function () { this.bound && (this.items.forEach(t), this.bound = !1) } }(), hs = function (t) { if (!this.rendered) throw new Error("Attempted to unrender a fragment that was not rendered"); this.items.forEach(function (e) { return e.unrender(t) }), this.rendered = !1 }, ls = function (t, e, n, i, r, o, s, a, u, c, h, l, d, f, p, v, m) { var g = function (t) { this.init(t) }; return g.prototype = { bubble: t, detach: e, find: n, findAll: i, findAllComponents: r, findComponent: o, findNextNode: s, firstNode: a, getNode: u, getValue: c, init: h, rebind: l, render: d, toString: f, unbind: p, unrender: v }, m.Fragment = g, g }(In, zn, Fn, Mn, jn, Dn, Vn, Un, Bn, Wn, os, ss, as, us, cs, hs, o), ds = function (t, e, n, i) { var r = ["template", "partials", "components", "decorators", "events"]; return function (o, s) { var a, u, c, h, l; if ("function" != typeof o || s ? o = o || {} : (s = o, o = {}), "object" != typeof o) throw new Error("The reset method takes either no arguments, or an object containing new data"); for ((u = this.viewmodel.wrapped[""]) && u.reset ? u.reset(o) === !1 && (this.data = o) : this.data = o, c = i.reset(this), h = c.length; h--;) if (r.indexOf(c[h]) > -1) { l = !0; break } if (l) { var d; this.viewmodel.mark(""), (d = this.component) && (d.shouldDestroy = !0), this.unrender(), d && (d.shouldDestroy = !1), this.fragment.template !== this.template && (this.fragment.unbind(), this.fragment = new n({ template: this.template, root: this, owner: this })), a = this.render(this.el, this.anchor) } else a = e.start(this, !0), this.viewmodel.mark(""), e.end(); return t(this, "reset", { args: [o] }), s && a.then(s), a } }(f, x, ls, Ge), fs = function (t, e) { return function (n) { var i, r; t.template.init(null, this, { template: n }), i = this.transitionsEnabled, this.transitionsEnabled = !1, (r = this.component) && (r.shouldDestroy = !0), this.unrender(), r && (r.shouldDestroy = !1), this.fragment.unbind(), this.fragment = new e({ template: this.template, root: this, owner: this }), this.render(this.el, this.anchor), this.transitionsEnabled = i } }(Ge, ls), ps = function (t) { return t("reverse") }(Cn), vs = function (t, e, n, i) { var r = /\*/; return function (o, s, a) { var u, c, h = this; if (c = t.start(this, !0), e(o)) { u = o, a = s; for (o in u) u.hasOwnProperty(o) && (s = u[o], o = n(o), this.viewmodel.set(o, s)) } else o = n(o), r.test(o) ? i(this, o).forEach(function (t) { h.viewmodel.set(t, s) }) : this.viewmodel.set(o, s); return t.end(), a && c.then(a.bind(this)), c } }(x, u, P, yn), ms = function (t) { return t("shift") }(Cn), gs = function (t) { return t("sort") }(Cn), ys = function (t) { return t("splice") }(Cn), bs = function (t) { return function (e, n) { return t(this, e, void 0 === n ? -1 : -n) } }(N), ws = function (t, e, n) { return function (i) { var r; return t(this, "teardown"), this.fragment.unbind(), this.viewmodel.teardown(), this.rendered && this.el.__ractive_instances__ && e(this.el.__ractive_instances__, this), this.shouldDestroy = !0, r = this.rendered ? this.unrender() : n.resolve(), i && r.then(i.bind(this)), r } }(f, p, v), Es = function (t) { return function (e, n) { var i; return "string" != typeof e && t.errorOnly({ debug: this.debug, messsage: "badArguments", arg: { arguments: e } }), i = this.get(e), this.set(e, !i, n) } }(Jn), xs = function () { return this.fragment.toString(!0) }, ks = function (t, e, n, i, r) { return function () { var o, s, a = this; if (!this.rendered) return i.warn({ debug: this.debug, message: "ractive.unrender() was called on a Ractive instance that was not rendered" }), r.resolve(); for (o = e.start(this, !0), s = !this.component || this.component.shouldDestroy || this.shouldDestroy, this.constructor.css && o.then(function () { n.remove(a.constructor) }) ; this._animations[0];) this._animations[0].stop(); return this.fragment.unrender(s), this.rendered = !1, t(this.el.__ractive_instances__, this), e.end(), o } }(p, x, Rn, Jn, v), _s = function (t) { return t("unshift") }(Cn), Ts = function (t, e) { return function (n, i) { var r; return "function" == typeof n ? (i = n, n = "") : n = n || "", r = e.start(this, !0), this.viewmodel.mark(n), e.end(), t(this, "update", { args: [n] }), i && r.then(i.bind(this)), r } }(f, x), Ss = function (t, e) { function n(i, r, o, s) { var a, u, c, h, l, d, f = []; if (a = i._twowayBindings[r], a && (c = a.length)) for (; c--;) h = a[c], (!h.radioName || h.element.node.checked) && (h.checkboxName ? f[h.keypath] || h.changed() || (f.push(h.keypath), f[h.keypath] = h) : (l = h.attribute.value, d = h.getValue(), t(l, d) || e(l, d) || (o[r] = d))); if (f.length && f.forEach(function (e) { var n, i, r; n = f[e], i = n.attribute.value, r = n.getValue(), t(i, r) || (o[e] = r) }), s && (u = i.viewmodel.depsMap["default"][r])) for (c = u.length; c--;) n(i, u[c], o, s) } var i; return i = function (t, e) { var i; return "string" != typeof t && (t = "", e = !0), n(this, t, i = {}, e), this.set(i) } }(Pr, y), As = function (t, e, n, i, r, o, s, a, u, c, h, l, d, f, p, v, m, g, y, b, w, E, x, k, _, T, S, A, O, C, L, N) { return { add: t, animate: e, detach: n, find: i, findAll: r, findAllComponents: o, findComponent: s, fire: a, get: u, insert: c, merge: h, observe: l, off: d, on: f, pop: p, push: v, render: m, reset: g, resetTemplate: y, reverse: b, set: w, shift: E, sort: x, splice: k, subtract: _, teardown: T, toggle: S, toHTML: A, unrender: O, unshift: C, update: L, updateModel: N } }(R, Qe, Ye, Xe, cn, hn, ln, dn, fn, vn, mn, xn, Tn, Sn, Ln, Nn, Pn, ds, fs, ps, vs, ms, gs, ys, bs, ws, Es, xs, ks, _s, Ts, Ss), Os = function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) { var e, n; return e = 16 * Math.random() | 0, n = "x" == t ? e : 3 & e | 8, n.toString(16) }) }, Cs = function () { var t = 0; return function () { return "r-" + t++ } }(), Ls = function (t, e, n, i) { var r = t.root, o = t.keypath; return "sort" === n || "reverse" === n ? void r.viewmodel.set(o, e) : void (i && r.viewmodel.splice(o, i)) }, Ns = function (t, e, n, i, r) { var o, s, a, u = [], c = ["pop", "push", "reverse", "shift", "sort", "splice", "unshift"]; return c.forEach(function (o) { var s = function () { var e, s, a, u, c; for (e = n(this, o, Array.prototype.slice.call(arguments)), s = i(this, e), a = Array.prototype[o].apply(this, arguments), this._ractive.setting = !0, c = this._ractive.wrappers.length; c--;) u = this._ractive.wrappers[c], t.start(u.root), r(u, this, o, s), t.end(); return this._ractive.setting = !1, a }; e(u, o, { value: s }) }), o = {}, o.__proto__ ? (s = function (t) { t.__proto__ = u }, a = function (t) { t.__proto__ = Array.prototype }) : (s = function (t) { var n, i; for (n = c.length; n--;) i = c[n], e(t, i, { value: u[i], configurable: !0 }) }, a = function (t) { var e; for (e = c.length; e--;) delete t[c[e]] }), s.unpatch = a, s }(x, C, An, On, Ls), Rs = function (t, e, n) { var i, r, o; return i = { filter: function (t) { return e(t) && (!t._ractive || !t._ractive.setting) }, wrap: function (t, e, n) { return new r(t, e, n) } }, r = function (e, i, r) { this.root = e, this.value = i, this.keypath = r, i._ractive || (t(i, "_ractive", { value: { wrappers: [], instances: [], setting: !1 }, configurable: !0 }), n(i)), i._ractive.instances[e._guid] || (i._ractive.instances[e._guid] = 0, i._ractive.instances.push(e)), i._ractive.instances[e._guid] += 1, i._ractive.wrappers.push(this) }, r.prototype = { get: function () { return this.value }, teardown: function () { var t, e, i, r, s; if (t = this.value, e = t._ractive, i = e.wrappers, r = e.instances, e.setting) return !1; if (s = i.indexOf(this), -1 === s) throw new Error(o); if (i.splice(s, 1), i.length) { if (r[this.root._guid] -= 1, !r[this.root._guid]) { if (s = r.indexOf(this.root), -1 === s) throw new Error(o); r.splice(s, 1) } } else delete t._ractive, n.unpatch(this.value) } }, o = "Something went wrong in a rather interesting way", i }(C, a, Ns), Ps = function (t, e) { var n, i; return t && (n = { filter: function (n, i, r) { return t.filter(n, i, r) && e.filter(n) }, wrap: function (t, e, n) { return new i(t, e, n) } }, i = function (n, i, r) { this.value = i, this.magic = !0, this.magicWrapper = t.wrap(n, i, r), this.arrayWrapper = e.wrap(n, i, r) }, i.prototype = { get: function () { return this.value }, teardown: function () { this.arrayWrapper.teardown(), this.magicWrapper.teardown() }, reset: function (t) { return this.magicWrapper.reset(t) } }), n }(_, Rs), Is = function (t, e, n, i) { function r(t, e) { var n, i = {}; if (!e) return t; e += "."; for (n in t) t.hasOwnProperty(n) && (i[e + n] = t[n]); return i } function o(t) { var e; return a[t] || (e = t ? t + "." : "", a[t] = function (n, i) { var o; return "string" == typeof n ? (o = {}, o[e + n] = i, o) : "object" == typeof n ? e ? r(n, t) : n : void 0 }), a[t] } var s, a = {}; return s = function (r, s) { var a, u, c, h, l = this.ractive; for (a = l.adapt.length, u = 0; a > u; u += 1) { if (c = l.adapt[u], "string" == typeof c) { var d = t.registries.adaptors.find(l, c); if (!d) throw new Error('Missing adaptor "' + c + '"'); c = l.adapt[u] = d } if (c.filter(s, r, l)) return h = this.wrapped[r] = c.wrap(l, s, r, o(r)), h.value = s, s } return l.magic ? i.filter(s, r, l) ? this.wrapped[r] = i.wrap(l, s, r) : n.filter(s, r, l) && (this.wrapped[r] = n.wrap(l, s, r)) : l.modifyArrays && e.filter(s, r, l) && (this.wrapped[r] = e.wrap(l, s, r)), s } }(Ge, Rs, _, Ps), zs = function (t) { var e, n, i, r, o = [""]; for (e = t.length; e--;) for (n = t[e], i = n.split(".") ; i.length > 1;) i.pop(), r = i.join("."), -1 === o.indexOf(r) && o.push(r); return o }, Fs = function () { function t(t) { var e, i, r, o, s, a = ""; if (!n[t]) { for (r = []; a.length < t;) a += 1; for (e = parseInt(a, 2), o = function (t) { return "1" === t }, s = 0; e >= s; s += 1) { for (i = s.toString(2) ; i.length < t;) i = "0" + i; r[s] = Array.prototype.map.call(i, o) } n[t] = r } return n[t] } var e, n = {}; return e = function (e) { var n, i, r, o; return n = e.split("."), i = t(n.length), r = function (t, e) { return t ? "*" : n[e] }, o = i.map(function (t) { return t.map(r).join(".") }) } }(), Ms = function (t) { function e(e, r, o) { var s; i(e, r), o || (s = t(r), s.forEach(function (t) { n(e, t, r) })) } function n(t, e, r) { var s, a, u; s = t.depsMap.patternObservers, a = s[e], a && a.forEach(function (e) { var s = o.exec(e)[0]; u = r ? r + "." + s : s, i(t, u), n(t, e, u) }) } function i(t, e) { t.patternObservers.forEach(function (t) { t.regex.test(e) && t.update(e) }) } var r, o = /[^\.]+$/; return r = e }(Fs), js = function (t, e) { function n(t) { t.update() } function i(t, e, n) { var i, r; (i = o(t, e, n)) && (r = t.get(e), i.forEach(function (t) { return t.setValue(r) })) } function r(t, e, n) { function i(t) { t.forEach(r), t.forEach(s) } function r(e) { var i = o(t, e, n); i && u.push({ keypath: e, deps: i }) } function s(e) { var r; (r = t.depsMap[n][e]) && i(r) } function a(e) { var n = t.get(e.keypath); e.deps.forEach(function (t) { return t.setValue(n) }) } var u = []; i(e), u.forEach(a) } function o(t, e, n) { var i = t.deps[n]; return i ? i[e] : null } function s(t, e) { e.forEach(function (e) { -1 === t.indexOf(e) && t.push(e) }) } var a, u = ["observers", "default"]; return a = function () { var o, a, c, h, l, d = this, f = this, p = [], v = {}; if (this.changes.length) { h = function (t) { var e; (e = f.deps.computed[t]) && s(c, e) }, l = function (t) { var e; h(t), (e = f.depsMap.computed[t]) && e.forEach(l) }; do o = this.changes, s(p, o), this.changes = [], c = [], a = t(o), a.forEach(h), o.forEach(l), c.forEach(n); while (this.changes.length); return a = t(p), this.patternObservers.length && (a.forEach(function (t) { return e(d, t, !0) }), p.forEach(function (t) { return e(d, t) })), u.forEach(function (t) { d.deps[t] && (a.forEach(function (e) { return i(d, e, t) }), r(d, p, t)) }), p.forEach(function (t) { v[t] = d.get(t) }), this.implicitChanges = {}, v } } }(zs, Ms), Ds = function () { this.capturing = !0, this.captured = [] }, Vs = function (t, e) { var n, i, r; if (e || (i = this.wrapped[t]) && i.teardown() !== !1 && (this.wrapped[t] = null), (r = this.computations[t]) && r.compute(), this.cache[t] = void 0, n = this.cacheMap[t]) for (; n.length;) this.clearCache(n.pop()) }, Us = { FAILED_LOOKUP: !0 }, Bs = function (t, e) { var n = {}, i = function (t, i) { this.viewmodel = t, this.root = t.ractive, this.ref = i, this.parentFragment = n, t.unresolvedImplicitDependencies[i] = !0, t.unresolvedImplicitDependencies.push(this), e.addUnresolved(this) }; return i.prototype = { resolve: function () { this.viewmodel.mark(this.ref), this.viewmodel.unresolvedImplicitDependencies[this.ref] = !1, t(this.viewmodel.unresolvedImplicitDependencies, this) }, teardown: function () { e.removeUnresolved(this) } }, i }(p, x), Ws = function (t, e) { function n(e, n) { var i, r, o, s, a, u, c; return i = n.split("."), r = i.pop(), o = i.join("."), s = e.get(o), (c = e.wrapped[o]) && (s = c.get()), null !== s && void 0 !== s ? ((a = e.cacheMap[o]) ? -1 === a.indexOf(n) && a.push(n) : e.cacheMap[o] = [n], "object" != typeof s || r in s ? (u = s[r], e.adapt(n, u, !1), e.cache[n] = u, u) : e.cache[n] = t) : void 0 } var i, r = {}; return i = function (i) { var o = arguments[1]; void 0 === o && (o = r); var s, a, u, c, h = this.ractive, l = this.cache; return void 0 === l[i] ? ((a = this.computations[i]) ? s = a.value : (u = this.wrapped[i]) ? s = u.value : i ? s = (c = this.evaluators[i]) ? c.value : n(this, i) : (this.adapt("", h.data), s = h.data), l[i] = s) : s = l[i], o.evaluateWrapped && (u = this.wrapped[i]) && (s = u.get()), o.capture && this.capturing && -1 === this.captured.indexOf(i) && (this.captured.push(i), s === t && this.unresolvedImplicitDependencies[i] !== !0 && new e(this, i)), s === t ? void 0 : s } }(Us, Bs), $s = function (t, e) { e && (this.implicitChanges[t] = !0), -1 === this.changes.indexOf(t) && (this.changes.push(t), this.clearCache(t)) }, qs = function (t, e) { var n, i, r, o; return n = {}, i = 0, r = t.map(function (t, r) { var s, a, u; a = i, u = e.length; do { if (s = e.indexOf(t, a), -1 === s) return o = !0, -1; a = s + 1 } while (n[s] && u > a); return s === i && (i += 1), s !== r && (o = !0), n[s] = !0, s }), r.unchanged = !o, r }, Hs = function (t, e, n) { function i(e) { return "function" == typeof e.merge && (!e.subtype || e.subtype === t.SECTION_EACH) } function r(t) { return JSON.stringify(t) } function o(t) { if (t === !0) return r; if ("string" == typeof t) return a[t] || (a[t] = function (e) { return e[t] }), a[t]; if ("function" == typeof t) return t; throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)") } var s, a = {}; return s = function (t, r, s, a) { var u, c, h, l, d, f = this; if (this.mark(t), a && a.compare) { h = o(a.compare); try { u = r.map(h), c = s.map(h) } catch (p) { if (this.debug) throw p; e("Merge operation: comparison failed. Falling back to identity checking"), u = r, c = s } } else u = r, c = s; l = n(u, c), l.forEach(function (e, n) { -1 === e && f.mark(t + "." + n) }), this.set(t, s, !0), (d = this.deps["default"][t]) && d.filter(i).forEach(function (t) { return t.merge(l) }), r.length !== s.length && this.mark(t + ".length", !0) } }($, j, qs), Gs = function () { function t(t, e, n) { var i, r, o, s; for (i = e.split(".") ; i.length;) i.pop(), r = i.join("."), o = t.depsMap[n] || (t.depsMap[n] = {}), s = o[r] || (o[r] = []), void 0 === s[e] && (s[e] = 0, s.push(e)), s[e] += 1, e = r } var e; return e = function (e, n) { var i = arguments[2]; void 0 === i && (i = "default"); var r, o, s; n.isStatic || (r = this.deps[i] || (this.deps[i] = {}), o = r[e] || (r[e] = []), o.push(n), e && ((s = this.evaluators[e]) && (s.dependants || s.wake(), s.dependants += 1), t(this, e, i))) } }(), Ks = function () { return this.capturing = !1, this.captured }, Zs = function (t, e) { return function (n, i, r) { var o, s, a, u, c, h, l, d; c = this.computations[n], c && !c.setting && (c.set(i), i = c.get()), t(this.cache[n], i) || (h = this.wrapped[n], l = this.evaluators[n], h && h.reset && (d = h.reset(i) !== !1, d && (i = h.get())), l && (l.value = i), c || l || d || (o = n.split("."), s = o.pop(), a = o.join("."), h = this.wrapped[a], h && h.set ? h.set(s, i) : (u = h ? h.get() : this.get(a), u || (u = e(s), this.set(a, u, !0)), u[s] = i)), r ? this.clearCache(n) : this.mark(n)) } }(y, k), Qs = function (t) { function e(e) { return e.type === t.SECTION && (!e.subtype || e.subtype === t.SECTION_EACH) && e.rendered } var n; return n = function (t, n) { var i, r, o = this; for (i = n.rangeStart; i < n.rangeEnd; i += 1) o.mark(t + "." + i); n.balance && o.mark(t + ".length", !0), (r = o.deps["default"][t]) && r.filter(e).forEach(function (t) { return t.splice(n) }) } }($), Ys = function () { var t, e = this; for (Object.keys(this.cache).forEach(function (t) { return e.clearCache(t) }) ; t = this.unresolvedImplicitDependencies.pop() ;) t.teardown() }, Xs = function () { function t(t, e, n) { var i, r, o, s; for (i = e.split(".") ; i.length;) i.pop(), r = i.join("."), o = t.depsMap[n], s = o[r], s[e] -= 1, s[e] || (s.splice(s.indexOf(e), 1), s[e] = void 0), e = r } var e; return e = function (e, n) { var i = arguments[2]; void 0 === i && (i = "default"); var r, o, s; if (!n.isStatic) { if (r = this.deps[i][e], o = r.indexOf(n), -1 === o) throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks"); r.splice(o, 1), e && ((s = this.evaluators[e]) && (s.dependants -= 1, s.dependants || s.sleep()), t(this, e, i)) } } }(), Js = function () { function t(t) { var e = "var __ractive=this;return(" + t.replace(n, function (t, e) { return '__ractive.get("' + e + '")' }) + ")"; return new Function(e) } var e, n = /\$\{([^\}]+)\}/g; return e = function (e) { return "function" == typeof e ? { get: e } : "string" == typeof e ? { get: t(e) } : ("object" == typeof e && "string" == typeof e.get && (e = { get: t(e.get), set: e.set }), e) } }(), ta = function (t, e, n) { var i = function (t, e, n) { var i; this.ractive = t, this.viewmodel = t.viewmodel, this.key = e, this.getter = n.get, this.setter = n.set, this.dependencies = [], (i = t.viewmodel.get(e)) && this.set(i), this.update() }; return i.prototype = { get: function () { return this.compute(), this.value }, set: function (t) { if (this.setting) return void (this.value = t); if (!this.setter) throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)"); this.setter.call(this.ractive, t) }, compute: function () { var e, i, r; e = this.ractive, e.viewmodel.capture(); try { this.value = this.getter.call(e) } catch (o) { t.warn({ debug: e.debug, message: "failedComputation", args: { key: this.key, err: o.message || o } }), i = !0 } return r = e.viewmodel.release(), n(this, this.dependencies, r), i ? !1 : !0 }, update: function () { var t = this.value; this.compute() && !e(this.value, t) && this.ractive.viewmodel.mark(this.key) } }, i }(Jn, y, ei), ea = function (t, e) { return function (n, i) { var r, o; for (r in i) o = t(i[r]), n.viewmodel.computations[r] = new e(n, r, o) } }(Js, ta), na = function () { function t(t) { return "string" == typeof t && (t = [t]), t } var e = { lookup: function (t, e) { var n, i = t.adapt; if (!i || !i.length) return i; if (e && Object.keys(e).length && (n = i.length)) for (; n--;) { var r = i[n]; "string" == typeof r && (i[n] = e[r] || r) } return i }, combine: function (e, n) { return e = t(e), n = t(n), e && e.length ? n && n.length ? (e.forEach(function (t) { -1 === n.indexOf(t) && n.push(t) }), n) : e.slice() : n } }; return e }(), ia = function (t, e, n, i, r, o, s, a, u, c, h, l, d, f, p, v) { var m; try { Object.defineProperty({}, "test", { value: 0 }) } catch (g) { m = !0 } var y = function (e) { this.ractive = e, y.extend(e.constructor, e), this.cache = {}, this.cacheMap = t(null), this.deps = { computed: {}, "default": {} }, this.depsMap = { computed: {}, "default": {} }, this.patternObservers = [], this.wrapped = t(null), this.evaluators = t(null), this.computations = t(null), this.captured = null, this.unresolvedImplicitDependencies = [], this.changes = [], this.implicitChanges = {} }; return y.extend = function (t, e) { if (e.magic && m) throw new Error("Getters and setters (magic mode) are not supported in this browser"); e.adapt = v.combine(t.prototype.adapt, e.adapt) || [], e.adapt = v.lookup(e, e.adaptors) }, y.prototype = { adapt: e, applyChanges: n, capture: i, clearCache: r, get: o, mark: s, merge: a, register: u, release: c, set: h, splice: l, teardown: d, unregister: f, compute: function () { p(this.ractive, this.ractive.computed) } }, y }(q, Is, js, Ds, Vs, Ws, $s, Hs, Gs, Ks, Zs, Qs, Ys, Xs, ea, na), ra = function (t, e, n, i, r, o) { function s(t) { var e; if (e = n(t.el)) { if (e && !t.append) { if (e.__ractive_instances__) try { e.__ractive_instances__.splice(0, e.__ractive_instances__.length).forEach(function (t) { return t.teardown() }) } catch (i) { } e.innerHTML = "" } t.render(e, t.append) } } function a(t, n) { t._guid = i(), t._subs = e(null), t._config = {}, t._twowayBindings = e(null), t._animations = [], t.nodes = {}, t._liveQueries = [], t._liveComponentQueries = [], n._parent && n._component && (t._parent = n._parent, t.component = n._component, n._component.instance = t) } var u; return u = function (e) { var n = arguments[1]; void 0 === n && (n = {}), a(e, n), t.init(e.constructor, e, n), e.viewmodel = new r(e), e.viewmodel.compute(), e.template && (e.fragment = new o({ template: e.template, root: e, owner: e })), s(e) } }(Ge, q, pn, Cs, ia, ls), oa = function (t) { return function (e, n, i) { e.beforeInit && e.beforeInit(i), t(e, i) } }(ra), sa = function (t, e, n, i) { function r(e, n, i) { for (var r in i) if (!(r in c) && i.hasOwnProperty(r)) { var o = i[r]; "function" == typeof o && (o = t(e, r, o)), n[r] = o } } function o(t) { if (!(t.prototype instanceof u)) return t; for (var n = {}; t;) l.forEach(function (e) { s(e.useDefaults ? t.prototype : t, n, e.name) }), Object.keys(t.prototype).forEach(function (i) { if ("computed" !== i) { var r = t.prototype[i]; if (i in n) { if ("function" == typeof n[i] && "function" == typeof r && n[i]._method) { var o, s = r._method; s && (r = r._method), o = e(n[i]._method, r), s && (o._method = o), n[i] = o } } else n[i] = r._method ? r._method : r } }), t = t._parent !== u ? t._parent : !1; return n } function s(t, e, n) { var i, r = Object.keys(t[n]); r.length && ((i = e[n]) || (i = e[n] = {}), r.filter(function (t) { return !(t in i) }).forEach(function (e) { return i[e] = t[n][e] })) } var a, u, c = { _parent: !0, _component: !0 }, h = { toPrototype: r, toOptions: o }, l = n.registries; return n.keys.forEach(function (t) { return c[t] = !0 }), i.push(function () { u = i.Ractive }), a = h }(qe, U, Ge, o), aa = function (t, e, n, i, r, o, s) { return function a() { var u = arguments[0]; void 0 === u && (u = {}); var c, h, l, d = this; return u = s.toOptions(u), c = function (t) { r(this, c, t) }, h = t(d.prototype), h.constructor = c, l = { _guid: { value: n() }, defaults: { value: h }, extend: { value: a, writable: !0, configurable: !0 }, _parent: { value: d } }, e(c, l), i.extend(d, h, u), o.extend(d, h), s.toPrototype(d.prototype, h, u), c.prototype = h, c } }(q, L, Os, Ge, oa, ia, sa), ua = function (t, e, n, i, r, o, s, a, u, c, h, l, d) { var f, p; for (f = function (t) { l(this, t) }, p = { extend: { value: c }, parse: { value: h }, Promise: { value: a }, svg: { value: i }, magic: { value: r }, VERSION: { value: "0.5.8" }, adaptors: { writable: !0, value: {} }, components: { writable: !0, value: {} }, decorators: { writable: !0, value: {} }, easing: { writable: !0, value: e }, events: { writable: !0, value: {} }, interpolators: { writable: !0, value: n }, partials: { writable: !0, value: {} }, transitions: { writable: !0, value: {} } }, o(f, p), f.prototype = u(s, t), f.prototype.constructor = f, f.defaults = f.prototype, d.Ractive = f; d.length;) d.pop()(); var v = "function"; if (typeof Date.now !== v || typeof String.prototype.trim !== v || typeof Object.keys !== v || typeof Array.prototype.indexOf !== v || typeof Array.prototype.forEach !== v || typeof Array.prototype.map !== v || typeof Array.prototype.filter !== v || "undefined" != typeof window && typeof window.addEventListener !== v) throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information."); return f }(i, r, h, l, T, L, As, v, kr, aa, Me, ra, o); "undefined" != typeof module && module.exports ? module.exports = ua : e = function () { return ua }(), t.Ractive = ua, ua.noConflict = function () { return t.Ractive = n, ua }
    }("undefined" != typeof window ? window : this), n = function (t, e, n) {
        function i(t) {
            var e = document.createElement("span"); return e.className = "error-marker", e.style.color = "#d00", e.innerHTML = "●", e.setAttribute("data-errors", t), e
        } var r, o, s, a, u = { template: { v: 1, t: [{ t: 7, e: "div", a: { "class": "codemirror-container", style: [{ t: 4, r: "height", f: ["height: ", { t: 2, r: "height" }, ";"] }] }, f: [{ t: 7, e: "textarea" }] }] }, css: ".errors{width:.8em}.error-marker{position:relative}.error-marker:hover:after{content:attr(data-errors);position:absolute;display:block;background-color:#fff;color:#d00;width:20em;font-size:.8em;line-height:1;left:1em;top:1.5em;padding:.5em}" }, c = {}; if (s = { 13: "enter" }, a = { javascript: function (t, e, n) { var r = []; e.clearGutter("errors"), JSHINT(n, { asi: !0, undef: !0 }), JSHINT.errors.forEach(function (t) { var e; (e = /^'([^']+)' is not defined/.exec(t.reason)) && void 0 !== window[e[1]] || (r[t.line] || (r[t.line] = []), r[t.line].push(t)) }), r.forEach(function (t, n) { var r = i(t.map(function (t) { return t.reason }).join("\n\n")); e.setGutterMarker(n - 1, "errors", r) }) }, ractive: function (t, e, r) { var o; try { n.parse(r), e.clearGutter("errors") } catch (s) { o = i(s.shortMessage), e.setGutterMarker(s.line - 1, "errors", o) } } }, c.exports = { init: function () { var t, e, n, i, r, o, s = this; this.lineWidgets = [], t = this.get("mode"), o = this.get("autoIndent") !== !1, "json" === t ? e = { name: "javascript", json: !0 } : "ractive" === t && (e = "htmlmixed"), n = CodeMirror.fromTextArea(this.find("textarea"), { mode: e || t, theme: this.get("theme") || "ractive", lineWrapping: !0, lineNumbers: !0, keyMap: "sublime", gutters: ["CodeMirror-linenumbers", "errors"] }), i = n.getDoc(), this.editor = n, n.on("change", function (e, n) { var i; r || (o && "paste" === n.origin && e.operation(function () { var t, i; for (t = n.from.line, i = CodeMirror.changeEnd(n).line + 1; i > t; ++t) e.indentLine(t, "smart") }), i = e.getValue(), a[t] && a[t](s, e, i), r = !0, s.set("value", i), r = !1) }), setTimeout(function () { s.fire("shiftEnter") }, 500), n.on("keydown", function (t, e) { var n = CodeMirror.keyNames[e.which]; n && s.fire(n.toLowerCase(), { component: s, shift: e.shiftKey, original: e }) }), this.observe("value", function (t) { r || (r = !0, n.setValue(t || ""), r = !1) }), this.on("teardown", function () { n.toTextArea() }) } }, "object" == typeof c.exports) for (r in c.exports) c.exports.hasOwnProperty(r) && (u[r] = c.exports[r]); return o = n.extend(u)
    }(t, {}, e), function (t) { var e; !function () { var t, n, i, r, o, s, a, u, c, h, l, d = "ontouchstart" in document, f = "row", p = "column", v = "left", m = "top", g = "width", y = "height", b = "vertical", w = "horizontal", E = "clientX", x = "clientY"; e = function (e) { var n, i, o, s = this; if (this.el = e.el, n = document.createDocumentFragment(), e.columns && e.rows) throw new Error("You can't have top level rows and top level columns - one or the other"); e.columns ? (this.type = f, i = e.columns) : e.rows && (this.type = p, i = e.rows), this.blocks = {}, this.subs = {}, this.min = e.min || 10, this.root = new t(this, this, n, "divvy-0", { children: i }, 0, 100, this.type, { top: !0, right: !0, bottom: !0, left: !0 }), r(this.root.node, "divvy-root"), this.el.appendChild(n), e.shakeOnResize !== !1 && (o = function () { s._changedSinceLastResize = {}, s.shake(), h(s, "resize", s._changedSinceLastResize) }, window.addEventListener ? window.addEventListener("resize", o) : window.attachEvent && window.attachEvent("onresize", o)), this._changed = {}, this._changedSinceLastResize = {}, this.shake() }, e.prototype = { shake: function () { var t = this.el.getBoundingClientRect(); return this.bcr = { left: t.left, right: t.right, top: t.top, bottom: t.bottom, width: t.right - t.left, height: t.bottom - t.top }, this.bcr.width !== this.width || this.bcr.height !== this.height ? (this.width = this.bcr.width, this.height = this.bcr.height, this.pixelSize = this[this.type === p ? y : g], this.root.shake(), this) : void 0 }, changed: function () { var t = this._changed; return this._changed = {}, t }, getState: function () { var t = {}; return a(this.root, t), t }, setState: function (t) { var e, n = {}; u(this, this.root, t, n); for (e in n) if (n.hasOwnProperty(e)) { h(this, "resize", n); break } return this }, save: function (t) { var e, n; if (localStorage) return e = t ? "divvy_" + t : "divvy", n = JSON.stringify(this.getState()), localStorage.setItem(e, n), this }, restore: function (t) { var e, n; if (localStorage) return e = t ? "divvy_" + t : "divvy", n = JSON.parse(localStorage.getItem(e)), n && this.setState(n), this }, on: function (t, e) { var n, i = this; return (n = this.subs[t]) ? n[n.length] = e : this.subs[t] = [e], { cancel: function () { i.off(t, e) } } }, off: function (t, e) { var n, i; return t ? e ? (i = this.subs[t]) ? (n = i.indexOf(e), -1 !== n && (i.splice(n, 1), i.length || delete this.subs[t]), this) : this : (delete this.subs[t], this) : (this.subs = {}, this) } }, h = function (t, e) { var n, i, r, o; if (i = t.subs[e]) { if (n = Array.prototype.slice.call(arguments, 2), n.length) { for (r = 0, o = i.length; o > r; r += 1) i[r].apply(t, n); return t } for (r = 0, o = i.length; o > r; r += 1) i[r].call(t) } }, a = function (t, e) { var n; if (e[t.id] = [t.start, t.size], t.children) for (n = t.children.length; n--;) a(t.children[n], e) }, u = function (t, e, n, i) { var r, o, s, a, c; if (c = n[e.id]) { if ((e.start !== c[0] || e.size !== c[1]) && (t._changed[e.id] = i[e.id] = !0), e.start = c[0], e.size = c[1], e.end = e.start + e.size, e.node.style[e.type === p ? v : m] = e.start + "%", e.node.style[e.type === p ? g : y] = e.size + "%", e.children) { for (a = 0, o = e.children.length, r = 0; o > r; r += 1) s = e.children[r], u(t, s, n, i, !0), a += s.size, e.controls[r] && e.controls[r].setPosition(a); for (r = e.children.length; r--;) u(t, e.children[r], n, i, !0) } e.shake() } }, c = function (t, e) { return e ? (t._cursor = t.el.style.cursor, void (t.el.style.cursor = e + "-resize")) : void (t.el.style.cursor = t._cursor) }, t = function (e, i, o, s, a, u, c, h, l) { var d, E, x, k, _, T, S, A, O; if (this.start = u, this.size = c, this.end = this.start + this.size, this.type = h, this.divvy = e, this.parent = i, this.edges = l, this.min = a.min || e.min, this.max = a.max, 1 === a.nodeType && (a = { node: a }), "string" == typeof a && (a = { id: a }), "[object Array]" === Object.prototype.toString.call(a) && (a = { children: a }), this.id = a.id || s, a.children && a.children.length ? (this.node = document.createElement("div"), r(this.node, "divvy-block"), r(this.node, "divvy-branch"), this.node.id = this.id) : (this.node = document.createElement("div"), r(this.node, "divvy-block"), r(this.node, "divvy-leaf"), !a.node && a.id && (T = document.getElementById(a.id)) && (a.node = T), this.inner = a.node ? a.node : document.createElement("div"), r(this.inner, "divvy-inner"), this.node.appendChild(this.inner), e.blocks[this.id] = this.inner, this.inner.id = this.id), l.top && r(this.node, "divvy-top"), l.right && r(this.node, "divvy-right"), l.bottom && r(this.node, "divvy-bottom"), l.left && r(this.node, "divvy-left"), this.node.style[h === p ? v : m] = u + "%", this.node.style[h === p ? g : y] = c + "%", a.children) { for (d = 0, E = a.children.length; E--;) d += a.children[E].size || 1; for (this.children = [], this.controls = [], x = 0, E = 0; E < a.children.length; E += 1) k = a.children[E], _ = 100 * ((k.size || 1) / d), O = {}, h === p ? (O.top = l.top && 0 === E, O.bottom = l.bottom && E === a.children.length - 1, O.left = l.left, O.right = l.right) : (O.left = l.left && 0 === E, O.right = l.right && E === a.children.length - 1, O.top = l.top, O.bottom = l.bottom), this.children[E] = new t(e, this, this.node, s + E, k, x, _, h === p ? f : p, O), x += _; for (E = 0; E < a.children.length - 1; E += 1) S = this.children[E], A = this.children[E + 1], this.controls[E] = new n(e, this, this.node, S, A, h === f ? b : w) } o.appendChild(this.node) }, t.prototype = { setStart: function (t) { var e, n, i, r; e = this.start, n = this.size, i = t - e, r = n - i, this.node.style[this.type === p ? v : m] = t + "%", this.node.style[this.type === p ? g : y] = r + "%", this.start = t, this.size = r, this.shake() }, setEnd: function (t) { var e, n, i, r; e = this.end, n = this.size, i = t - e, r = n + i, this.node.style[this.type === p ? g : y] = r + "%", this.end = t, this.size = r, this.shake() }, shake: function () { var t, e, n, i, r, o, s; if (s = this.node.getBoundingClientRect(), this.bcr = { left: s.left, right: s.right, top: s.top, bottom: s.bottom, width: s.right - s.left, height: s.bottom - s.top }, (this.bcr.width !== this.width || this.bcr.height !== this.height) && (this.width = this.bcr.width, this.height = this.bcr.height, this.divvy._changed[this.id] = this.divvy._changedSinceLastResize[this.id] = !0, this.children)) { for (this.pixelSize = this.bcr[this.type === p ? y : g], e = this.children.length, t = 0; e - 1 > t; t += 1) n = this.children[t], i = this.children[t + 1], r = this.controls[t], o = n.minPc(), n.size < o && (n.setEnd(n.start + o), i.setStart(n.start + o), r.setPosition(n.start + o)), o = n.maxPc(), n.size > o && (n.setEnd(n.start + o), i.setStart(n.start + o), r.setPosition(n.start + o)); for (t = e - 1; t > 0; t -= 1) n = this.children[t - 1], i = this.children[t], r = this.controls[t - 1], o = i.minPc(), i.size < o && (n.setEnd(i.end - o), i.setStart(i.end - o), r.setPosition(i.end - o)), o = i.maxPc(), i.size > o && (n.setEnd(i.end - o), i.setStart(i.end - o), r.setPosition(i.end - o)); for (t = this.children.length; t--;) this.children[t].shake() } }, minPc: function () { var t; return t = this.parent.pixelSize, this.min / t * 100 }, maxPc: function () { var t; return this.max ? (t = this.parent.pixelSize, this.max / t * 100) : 100 } }, n = function (t, e, n, i, o, s) { var a, u = this; this.divvy = t, this.parent = e, this.before = i, this.after = o, this.type = s, this.parentNode = n, this.node = document.createElement("div"), r(this.node, "divvy-" + s + "-control"), d && r(this.node, "divvy-touch-control"), this.setPosition(o.start), a = function (t) { var e, n, r, a, c; t.preventDefault && t.preventDefault(), e = Math.max(i.start + i.minPc(), o.end - o.maxPc()), n = Math.min(i.start + i.maxPc(), o.end - o.minPc()), r = function (t) { var r; r = u.getPosition(t[s === b ? E : x]), r = Math.max(e, Math.min(n, r)), i.setEnd(r), o.setStart(r), u.setPosition(r), h(u.divvy, "resize", u.divvy._changedSinceLastResize), u.divvy._changedSinceLastResize = {} }, a = function () { u.setInactive(), c() }, c = function () { document.removeEventListener ? (document.removeEventListener("mousemove", r), document.removeEventListener("mouseup", a)) : document.detachEvent && (document.detachEvent("onmousemove", r), document.detachEvent("onmouseup", a)) }, document.addEventListener ? (document.addEventListener("mousemove", r), document.addEventListener("mouseup", a)) : document.attachEvent && (document.attachEvent("onmousemove", r = l(r)), document.attachEvent("onmouseup", a)) }, this.node.addEventListener ? this.node.addEventListener("mousedown", a) : this.node.attachEvent && this.node.attachEvent("onmousedown", a), d && this.node.addEventListener("touchstart", function (t) { var e, n, r, a, c, l, d; 1 === t.touches.length && (t.preventDefault(), e = t.touches[0], n = e.identifier, u.setActive(), r = Math.max(i.start + i.minPc(), o.end - o.maxPc()), a = Math.min(i.start + i.maxPc(), o.end - o.minPc()), c = function (t) { var e, c; (1 !== t.touches.length || t.touches[0].identifier !== n) && d(), c = t.touches[0], e = u.getPosition(c[s === b ? E : x]), e = Math.max(r, Math.min(a, e)), i.setEnd(e), o.setStart(e), u.setPosition(e), h(u.divvy, "resize", u.divvy._changedSinceLastResize), u.divvy._changedSinceLastResize = {} }, l = function () { u.setInactive(), d() }, d = function () { window.removeEventListener("touchmove", c), window.removeEventListener("touchend", l), window.removeEventListener("touchcancel", l) }, window.addEventListener("touchmove", c), window.addEventListener("touchend", l), window.addEventListener("touchcancel", l)) }), n.appendChild(this.node) }, n.prototype = { setActive: function () { r(this.node, "divvy-active"), c(this.divvy, this.type === b ? "ew" : "ns") }, setInactive: function () { o(this.node, "divvy-active"), c(this.divvy, !1) }, getPosition: function (t) { var e, n, i, r; return e = this.parent.bcr, n = e[this.type === b ? v : m], i = e[this.type === b ? g : y], r = 100 * (t - n) / i }, setPosition: function (t) { this.node.style[this.type === b ? v : m] = t + "%", this.pos = t } }, i = function (t, e) { var n, i; for (n = 0, i = e.length; i > n; n += 1) if (e[n] === t) return t; return -1 }, s = function (t) { return t.replace(/^\s*/, "").replace(/\s*$/, "") }, r = function (t, e) { (r = t.classList && t.classList.add ? function (t, e) { t.classList.add(e) } : function (t, e) { var n, r, o; for (n = (t.getAttribute("class") || "").split(" "), o = n.length; o--;) n[o] = s(n[o]); r = n.indexOf ? n.indexOf(e) : i(e, n), -1 === r && t.setAttribute("class", n.concat(e).join(" ")) })(t, e) }, o = function (t, e) { (o = t.classList && t.classList.remove ? function (t, e) { t.classList.remove(e) } : function (t, e) { var n, r, o; for (n = (t.getAttribute("class") || "").split(" "), o = n.length; o--;) n[o] = s(n[o]); r = n.indexOf ? n.indexOf(e) : i(e, n), -1 !== r && (n.splice(r, 1), t.setAttribute("class", n.join(" "))) })(t, e) }, l = function (t, e) { var n, i; return e = e || 500, n = function () { var n; return n = new Date, !i || n - i > e ? t.apply(this, arguments) : void 0 } } }(), y = function () { return e }() }(this), i = function (t, e, n) { var i, r, o = { template: { v: 1, t: [{ t: 7, e: "div", a: { "class": "divvy-container" }, f: [{ t: 2, r: "yield" }] }] } }, s = {}, a = y; if (s.exports = { init: function () { var t, e, n = this; t = new a({ el: this.find(".divvy-container"), columns: this.get("columns"), rows: this.get("rows") }), t.restore("learn_ractivejs"), t.on("resize", function (i) { clearTimeout(e), i["output-block"] && n.fire("resize"), e = setTimeout(function () { t.save("learn_ractivejs") }, 50) }) } }, "object" == typeof s.exports) for (i in s.exports) s.exports.hasOwnProperty(i) && (o[i] = s.exports[i]); return r = n.extend(o) }(y, {}, e), r = function (t) { return t ? t.toLowerCase().replace(/[^a-z]/g, "-").replace(/-{2,}/g, "-").replace(/^-/, "").replace(/-$/, "") : "" }, o = function (t, e, n) { var i, o, s = { template: { v: 1, t: [{ t: 7, e: "div", a: { "class": ["left-nav ", { t: 2, x: { r: ["open"], s: '_0?"open":""' } }] }, f: [{ t: 7, e: "div", a: { "class": "toggle" }, v: { click: "toggle" }, f: [{ t: 7, e: "strong", f: ["Tutorials"] }, " ", { t: 7, e: "span", a: { "class": "cross" }, f: ["+"] }] }, " ", { t: 7, e: "div", a: { "class": "nav-options" }, f: [{ t: 4, n: 52, r: "manifest", i: "i", f: [{ t: 7, e: "a", a: { "class": "nav-option", style: ["height: ", { t: 2, x: { r: ["manifest.length"], s: "100/_0" } }, "%"], href: ["../../", { t: 2, x: { r: ["slugify", "title"], s: "_0(_1)" } }, "/1"] }, f: [{ t: 7, e: "div", a: { "class": "nav-option-contents" }, f: [{ t: 2, r: "title" }, " ", { t: 7, e: "span", v: { tap: "ripple" }, a: { "class": ["number ", { t: 2, x: { r: ["i", "currentStep.tutorialIndex"], s: '_0===_1?"selected":""' } }] }, f: [{ t: 2, x: { r: ["i"], s: "_0+1" } }] }] }] }] }] }] }] }, css: ".left-nav{position:absolute;top:0;left:0;width:17em;height:100%;background-color:#fff;border-right:1px solid #eee;padding:3.4em 0 0;cursor:pointer;box-shadow:1px 0 3px rgba(0,0,0,.05);-webkit-transition:all .2s cubic-bezier(.02,.91,.29,1);-moz-transition:all .2s cubic-bezier(.02,.91,.29,1);-ms-transition:all .2s cubic-bezier(.02,.91,.29,1);-o-transition:all .2s cubic-bezier(.02,.91,.29,1);transition:all .2s cubic-bezier(.02,.91,.29,1);-webkit-transform:translate3d(-13em,0,0);-moz-transform:translate3d(-13em,0,0);-ms-transform:translate3d(-13em,0,0);-o-transform:translate3d(-13em,0,0);transform:translate3d(-13em,0,0);-webkit-backface-visibility:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;will-change:-webkit-transform,-moz-transform,-ms-transform,-o-transform,transform}.open{-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.toggle{position:absolute;top:0;left:0;width:100%;height:3.4em;padding:1.2em;border-bottom:1px solid #eee;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cross{position:absolute;font-size:1.4em;line-height:1;right:1.2rem;top:1.2rem;background-color:#fff;width:1em;height:1em;display:block;text-align:center;-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg);-webkit-transition:-webkit-transform .3s cubic-bezier(.02,.91,.29,1);-moz-transition:-moz-transform .3s cubic-bezier(.02,.91,.29,1);-ms-transition:-ms-transform .3s cubic-bezier(.02,.91,.29,1);-o-transition:-o-transform .3s cubic-bezier(.02,.91,.29,1);transition:transform .3s cubic-bezier(.02,.91,.29,1)}.open .cross{-webkit-transform:rotate(315deg);-moz-transform:rotate(315deg);-ms-transform:rotate(315deg);-o-transform:rotate(315deg);transform:rotate(315deg)}.nav-options{width:100%;height:100%;overflow:auto}.nav-option{position:relative;display:block;padding:.5em 0;min-height:2.5em;border-bottom:1px solid #fcfcfc;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.nav-option:hover{background-color:#fcfcfc}.nav-option:hover .nav-option-contents{text-decoration:underline}.nav-option-contents{position:absolute;width:100%;top:50%;left:0;padding:0 1.2em;-webkit-transform:translate(0,-50%);-moz-transform:translate(0,-50%);-ms-transform:translate(0,-50%);-o-transform:translate(0,-50%);transform:translate(0,-50%);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.number{position:absolute;top:0;right:1.2rem;border:1px solid #f9f9f9;border-radius:50%;display:block;text-align:center;width:1.6em;height:1.6em;font-size:.8em;line-height:1.7;color:#999;background-color:#fff}.number.selected{background-color:#729d34;border-color:#729d34;color:#fff}" }, a = {}; if (a.exports = { init: function () { this.on({ toggle: function () { this.toggle("open") }, ripple: function (t) { t.node.classList && setTimeout(function () { return t.node.classList.add("tapped") }, 100) } }) }, data: { slugify: r } }, "object" == typeof a.exports) for (i in a.exports) a.exports.hasOwnProperty(i) && (s[i] = a.exports[i]); return o = n.extend(s) }(r, {}, e), b = function () { var t = window.location.pathname.replace(/\/[a-zA-Z\-]+\/\d+\/?$/, ""); return t }(), s = function (t, e, n, i) { function o(t) { for (var e = []; t--;) e[t] = t; return e } var s, a, u = { template: { v: 1, t: [{ t: 7, e: "header", f: [{ t: 7, e: "h1", f: [{ t: 2, x: { r: ["step.tutorialIndex"], s: "_0+1" } }, ". ", { t: 2, r: "step.tutorialTitle" }] }, " ", { t: 7, e: "div", a: { "class": "controls" }, f: [{ t: 7, e: "div", a: { "class": "steps" }, f: [{ t: 4, n: 52, r: "siblingProxies", i: "i", f: [{ t: 7, e: "a", a: { "class": ["step-number ", { t: 2, x: { r: ["i", "step.index"], s: '_0===_1?"selected":""' } }], href: [{ t: 2, r: "baseUrl" }, "/", { t: 2, x: { r: ["slugify", "step.tutorialTitle"], s: "_0(_1)" } }, "/", { t: 2, x: { r: ["i"], s: "_0+1" } }] }, v: { tap: "ripple" }, f: [{ t: 7, e: "span", f: [{ t: 2, x: { r: ["i"], s: "_0+1" } }] }] }] }] }, " ", { t: 7, e: "button", v: { tap: "resetStep" }, f: ["Reset"] }, " ", { t: 7, e: "button", v: { tap: "fix" }, a: { disabled: [{ t: 2, x: { r: ["step.fixed"], s: "!_0" } }] }, f: ["Fix code"] }] }] }] }, css: "header{position:absolute;top:-3.5em;padding:0;margin:0;max-width:100%;z-index:10;border-bottom:1px solid #eee;height:3.5em;width:100%}h1{margin:.2em 0 0;font-size:2em;float:left}.controls{float:right}.steps{position:relative;top:.1em;float:left;margin:0 1.5em 0 0}.step-number{position:relative;display:inline-block;border:1px solid #eee;background-color:#f4f4f4;border-radius:50%;margin:0 .6em 0 0;text-align:center;width:1.8em;height:1.8em;font-size:1.2em;line-height:1.8;color:#999;z-index:3;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.step-number.selected{background-color:#729d34;border-color:#729d34;color:#fff}.step-number:last-child{margin:0}.steps:after{content:'';position:absolute;width:100%;border-bottom:1px solid #eee;top:50%;left:0;z-index:2}.step-number span{position:relative;z-index:3}" }, c = {}; if (c.exports = { init: function () { this.on({ ripple: function (t) { t.node.classList && setTimeout(function () { return t.node.classList.add("tapped") }, 100) } }), window.header = this }, computed: { siblingProxies: function () { return o(this.get("step.numSiblings")) } }, data: { baseUrl: b, slugify: r } }, "object" == typeof c.exports) for (s in c.exports) c.exports.hasOwnProperty(s) && (u[s] = c.exports[s]); return a = i.extend(u) }(b, r, {}, e), a = function () { document.body.style.display = "inline-block", document.body.offsetHeight, document.body.style.display = "block" }, function (t, n) { "undefined" != typeof module && module.exports && "function" == typeof require ? n(e) : u = function (t) { return "function" == typeof n ? n(t) : n }(e) }("undefined" != typeof window ? window : this, function (t) { var e = function (t, e) { var n, i, r, o, s; return o = 5, s = 400, n = function (n) { var i, r, a, u, c, h, l; (void 0 === n.which || 1 === n.which) && (r = n.clientX, a = n.clientY, i = this, u = n.pointerId, c = function (t) { t.pointerId == u && (e({ node: i, original: t }), l()) }, h = function (t) { t.pointerId == u && (Math.abs(t.clientX - r) >= o || Math.abs(t.clientY - a) >= o) && l() }, l = function () { t.removeEventListener("MSPointerUp", c, !1), document.removeEventListener("MSPointerMove", h, !1), document.removeEventListener("MSPointerCancel", l, !1), t.removeEventListener("pointerup", c, !1), document.removeEventListener("pointermove", h, !1), document.removeEventListener("pointercancel", l, !1), t.removeEventListener("click", c, !1), document.removeEventListener("mousemove", h, !1) }, window.navigator.pointerEnabled ? (t.addEventListener("pointerup", c, !1), document.addEventListener("pointermove", h, !1), document.addEventListener("pointercancel", l, !1)) : window.navigator.msPointerEnabled ? (t.addEventListener("MSPointerUp", c, !1), document.addEventListener("MSPointerMove", h, !1), document.addEventListener("MSPointerCancel", l, !1)) : (t.addEventListener("click", c, !1), document.addEventListener("mousemove", h, !1)), setTimeout(l, s)) }, window.navigator.pointerEnabled ? t.addEventListener("pointerdown", n, !1) : window.navigator.msPointerEnabled ? t.addEventListener("MSPointerDown", n, !1) : t.addEventListener("mousedown", n, !1), i = function (n) { var i, r, a, u, c, h, l, d; 1 === n.touches.length && (u = n.touches[0], r = u.clientX, a = u.clientY, i = this, c = u.identifier, l = function (t) { var n; n = t.changedTouches[0], n.identifier !== c && d(), t.preventDefault(), e({ node: i, original: t }), d() }, h = function (t) { var e; (1 !== t.touches.length || t.touches[0].identifier !== c) && d(), e = t.touches[0], (Math.abs(e.clientX - r) >= o || Math.abs(e.clientY - a) >= o) && d() }, d = function () { t.removeEventListener("touchend", l, !1), window.removeEventListener("touchmove", h, !1), window.removeEventListener("touchcancel", d, !1) }, t.addEventListener("touchend", l, !1), window.addEventListener("touchmove", h, !1), window.addEventListener("touchcancel", d, !1), setTimeout(d, s)) }, t.addEventListener("touchstart", i, !1), ("BUTTON" === t.tagName || "button" === t.type) && (r = function () { var n, i; i = function (n) { 32 === n.which && e({ node: t, original: n }) }, n = function () { t.removeEventListener("keydown", i, !1), t.removeEventListener("blur", n, !1) }, t.addEventListener("keydown", i, !1), t.addEventListener("blur", n, !1) }, t.addEventListener("focus", r, !1)), { teardown: function () { t.removeEventListener("pointerdown", n, !1), t.removeEventListener("MSPointerDown", n, !1), t.removeEventListener("mousedown", n, !1), t.removeEventListener("touchstart", i, !1), t.removeEventListener("focus", r, !1) } } }; t.events.tap = e }), function (t, n) { "undefined" != typeof module && module.exports && "function" == typeof require ? n(e) : c = function (t) { return "function" == typeof n ? n(t) : n }(e) }("undefined" != typeof window ? window : this, function (t) { var e, n; n = { delay: 0, duration: 300, easing: "linear" }, e = function (t, e) { var i; e = t.processParams(e, n), t.isIntro ? (i = t.getStyle("opacity"), t.setStyle("opacity", 0)) : i = 0, t.animateStyle("opacity", i, e).then(t.complete) }, t.transitions.fade = e }), function (t, n) { "undefined" != typeof module && module.exports && "function" == typeof require ? n(e) : h = function (t) { return "function" == typeof n ? n(t) : n }(e) }("undefined" != typeof window ? window : this, function (t) { var e, n, i; i = { duration: 400, easing: "easeOut", opacity: 0, x: -500, y: 0 }, n = function (t) { return 0 === t || "string" == typeof t ? t : t + "px" }, e = function (t, e) { var r, o, s, a; e = t.processParams(e, i), r = n(e.x), o = n(e.y), s = { transform: "translate(" + r + "," + o + ")", opacity: 0 }, t.isIntro ? (a = t.getStyle(["opacity", "transform"]), t.setStyle(s)) : a = s, t.animateStyle(a, e).then(t.complete) }, t.transitions.fly = e }), function (t, n) { "undefined" != typeof module && module.exports && "function" == typeof require ? n(e) : l = function (t) { return "function" == typeof n ? n(t) : n }(e) }("undefined" != typeof window ? window : this, function (t) { var e, n, i, r; r = { duration: 300, easing: "easeInOut" }, n = ["height", "borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom", "marginTop", "marginBottom"], i = { height: 0, borderTopWidth: 0, borderBottomWidth: 0, paddingTop: 0, paddingBottom: 0, marginTop: 0, marginBottom: 0 }, e = function (t, e) { var o; e = t.processParams(e, r), t.isIntro ? (o = t.getStyle(n), t.setStyle(i)) : (t.setStyle(t.getStyle(n)), o = i), t.setStyle("overflowY", "hidden"), t.animateStyle(o, e).then(t.complete) }, t.transitions.slide = e }), d = function (t, e, n, i, o, s, u, c, h, l, d, f) { function p(t) { t() } var v, m, g, y, b, w, E, x, k = { template: { v: 1, t: [{ t: 7, e: "div", a: { "class": "app" }, v: { tap: "tapped" }, f: [{ t: 7, e: "div", a: { "class": ["content ", { t: 2, x: { r: ["navOpen"], s: '_0?"obscured":""' } }] }, v: { tap: "hideNav" }, f: [{ t: 7, e: "tutorial-header", a: { step: [{ t: 2, r: "currentStep" }] }, v: { resetStep: "resetStep", fix: "fix" } }, " ", { t: 7, e: "divvy", a: { columns: '[\n				{ size: 45, children: [{ id: "copy-block", size: 3 }, { id: "output-block", size: 2 }] },\n				{ size: 55, children: [{ id: "template", size: 3 }, { id: "javascript", size: 5 }] }\n			]' }, v: { resize: "resize" }, f: [" ", { t: 7, e: "div", a: { id: "copy-block" }, v: { tap: "selectCode" }, f: [{ t: 3, r: "copy" }, " ", { t: 4, n: 50, r: "next", f: [{ t: 7, e: "a", a: { "class": "next", href: [{ t: 2, r: "next" }] }, f: ["next &raquo;"] }] }] }, " ", { t: 7, e: "style", a: { id: "output-styles", type: "text/css" } }, " ", { t: 7, e: "div", a: { id: "output-block" } }, " ", { t: 7, e: "div", a: { id: "template", "class": ["block ", { t: 2, x: { r: ["templateError"], s: '_0?"error":""' } }] }, f: [{ t: 7, e: "codemirror", a: { mode: "ractive", value: [{ t: 2, r: "template" }], height: "100%" } }] }, " ", { t: 7, e: "div", a: { id: "javascript", "class": ["block ", { t: 2, x: { r: ["codeError"], s: '_0?"error":""' } }] }, f: [{ t: 7, e: "codemirror", a: { mode: "javascript", value: [{ t: 2, r: "javascript" }], height: "100%" } }, " ", { t: 7, e: "button", a: { "class": "execute" }, v: { tap: "execute" }, f: ["Execute (Shift-Enter)"] }] }] }] }, " ", { t: 7, e: "left-nav", a: { open: [{ t: 2, r: "navOpen" }] } }] }, " ", { t: 7, e: "div", a: { "class": "interactive-helper" }, v: { "mousedown-touchstart": "executeInline" }, f: [{ t: 7, e: "p", f: [{ t: 7, e: "kbd", f: ["Shift-Space"] }, " or tap to run this code"] }] }, " ", { t: 7, e: "div", a: { "class": "interactive-helper-error" }, f: [{ t: 2, r: "inlineError" }] }] }, css: ".app{position:relative;padding:5em 1em 1em 5em;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.content{position:relative;width:100%;height:100%;-webkit-transition:opacity .2s cubic-bezier(.02,.91,.29,1);-moz-transition:opacity .2s cubic-bezier(.02,.91,.29,1);-ms-transition:opacity .2s cubic-bezier(.02,.91,.29,1);-o-transition:opacity .2s cubic-bezier(.02,.91,.29,1);transition:opacity .2s cubic-bezier(.02,.91,.29,1)}.content.obscured{opacity:.2}.divvy-container{position:relative;width:100%;height:100%}#copy-block,#output-block{padding:1em 1em 0 0}.execute{position:absolute;bottom:.2em;right:.1em;margin:0}.next{float:right;font-size:1.6em;padding:.5rem 1rem 1rem}.block{width:100%;height:100%}", components: { codemirror: t, divvy: e, "left-nav": n, "tutorial-header": i } }, _ = {}, T = a, S = r, A = eval, O = [], C = [], L = []; String.prototype.trim || (String.prototype.trim = function () { return this.replace(/^\s+/, "").replace(/\s+$/, "") }), g = f, y = function () { g.apply(this, arguments), C[C.length] = this }; for (x in g) g.hasOwnProperty(x) && (y[x] = g[x]); if (["prototype", "partials", "adaptors", "components", "decorators", "easing", "events", "interpolators", "transitions", "extend", "svg", "VERSION", "Promise"].forEach(function (t) { var e = Object.getOwnPropertyDescriptor(g, t); Object.defineProperty(y, t, e) }), y.prototype.constructor = y, b = g.prototype.teardown, y.prototype.teardown = function () { var t = C.indexOf(this); ~t && C.splice(t, 1), b.call(this) }, w = window.setTimeout, E = window.clearTimeout, window.setTimeout = function () { var t = w.apply(window, arguments); O[O.length] = t }, window.clearTimeout = function (t) { var e = O.indexOf(t); -1 !== e && O.splice(e, 1), E(t) }, window.onResize = function (t) { L[L.length] = t }, window.Ractive = f, _.exports = { init: function () { function t() { var t, e; (t = m.get("currentStep.setup")) && A(t); try { m.set("templateError", !1), window.template = g.parse(m.get("template")) } catch (n) { return void setTimeout(function () { throw m.set("templateError", !0), n }) } window.output = s, window.Ractive = y, e = m.get("javascript"); try { m.set("codeError", !1), A(e) } catch (n) { setTimeout(function () { throw m.set("codeError", !0), n }) } window.Ractive = g } function e() { var t; try { A(f.getValue()), d.parentNode && d.parentNode.removeChild(d), m.set("inlineError", null) } catch (e) { m.set("inlineError", e.message), t = f.display.wrapper, t.parentNode.insertBefore(d, t.nextSibling), l.parentNode && l.parentNode.removeChild(l) } } var n, i, r, o, s, a, u, c, h, l, d, f, v = this, m = this; window.app = this, n = this.find(".app"), function () { var t = m.findAllComponents("codemirror"); u = t[0].editor, c = t[1].editor }(), i = window.location.origin, r = /\/([^\/]+)\/(\d+)/, o = this.find("#copy-block"), s = window.output = this.find("#output-block"), a = this.find("#output-styles"), l = this.find(".interactive-helper"), l.parentNode.removeChild(l), d = this.find(".interactive-helper-error"), d.parentNode.removeChild(d), void 0 !== window.history && "function" == typeof window.history.pushState && this.on({ tapped: function (t) { var e, o, s, a = t.original.target; if (a !== n && (e = void 0 !== t.original.which && 1 !== t.original.which || void 0 !== t.original.button && 0 === t.original.button, !t.original.metaKey && e)) do { if ("A" === a.tagName) { if (o = a.href, o.indexOf(i)) { a = a.parentNode; continue } if (o = o.substring(i.length), s = r.exec(o)) { t.original.preventDefault(), this.fire("navigate", s[1], s[2]); break } } a = a.parentNode } while (a && a !== n) } }), this.on({ hideNav: function () { return v.set("navOpen", !1) }, execute: t, executeInline: e, resize: function () { L.forEach(p) }, "codemirror.enter": function (e) { e.original.shiftKey && (e.original.preventDefault(), t()) }, resetStep: function () { var e = this.get("currentStep"); C.forEach(function (t) { return t.teardown() }), this.set({ template: e.template, javascript: e.javascript }), e.init && t() }, fix: function () { var e = this.get("currentStep"), n = e.fixed; this.set({ template: n.template || e.template, javascript: n.javascript || e.javascript }), t() }, selectCode: function (t) { for (var e, n = t.original.target; n !== t.node;) { if ("PRE" === n.tagName && /prettyprint/.test(n.className)) { window.getSelection ? (e = document.createRange(), e.selectNodeContents(n), e.setEnd(e.endContainer, e.endOffset), window.getSelection().addRange(e)) : document.selection && (e = document.body.createTextRange(), e.moveToElementText(n), e.select()); break } n = n.parentNode } } }), this.observe({ currentStep: function (n, i) { C.forEach(function (t) { t.transitionsEnabled = !1, t.teardown() }), h && (h.forEach(function (t) { return t.toTextArea() }), l.parentNode && l.parentNode.removeChild(l)), i && i.cleanup && A(i.cleanup), s.innerHTML = "", T(), n && (this.set({ navOpen: !1, copy: (n.copy || "").trim(), template: (n.template || "").trim(), javascript: (n.javascript || "").trim() }), a.innerHTML = n.styles || "", o.scrollTop = 0, prettyPrint(null, o), h = this.findAll(".interactive").map(function (t) { var n; return t.value = t.value.trim(), n = CodeMirror.fromTextArea(t, { mode: "javascript", theme: "ractive", lineWrapping: !0, lineNumbers: !0, keyMap: "sublime" }), n.on("keydown", function (t, n) { 32 === n.which && n.shiftKey && (n.preventDefault(), e()) }), n.on("focus", function (t) { var e = t.display.wrapper; e.parentNode.insertBefore(l, e.nextSibling), f = t }), n.on("blur", function () { l.parentNode && l.parentNode.removeChild(l) }), n }), n.setup && A(n.setup), n.init && t()) } }), window.addEventListener("keypress", function (e) { 13 === e.which && e.shiftKey && t() }) }, computed: { next: function () { var t, e = this.get("currentStep"); return e ? e.index >= e.numSiblings - 1 ? (t = this.get("manifest")[e.tutorialIndex + 1], t ? "/" + S(t.title) + "/1" : null) : "/" + S(e.tutorialTitle) + "/" + (e.index + 2) : null } } }, "object" == typeof _.exports) for (v in _.exports) _.exports.hasOwnProperty(v) && (k[v] = _.exports[v]); return m = f.extend(k) }(n, i, o, s, a, r, u, c, h, l, {}, e), f = function (t) { return t.Promise }(e), p = function (t) { return function (e) { return new t(function (t, n) { var i = new XMLHttpRequest; i.onload = function () { return t(i.responseText) }, i.onerror = n, i.open("GET", e), i.send() }) } }(f), v = function (t, e, n, i) { function r() { var t; (t = l.shift()) && o(t, 1).then(r) } function o(t, n) { var r, s, c, l; return r = "" + i + ("/" + t) + ("/" + n) + "/index.json", a[r] || (s = a[r] = e(r).then(function (t) { return JSON.parse(t) }), c = h[t], l = u.manifest[c], n < l.numSteps - 1 && s.then(function () { return o(t, n + 1) })), a[r] } var s, a, u, c, h = {}, l = []; return a = {}, u = window.TUTORIAL_DATA, c = u.step, a["" + i + ("/" + c.tutorialTitle) + ("/" + (c.index + 1)) + "/index.json"] = t.Promise.resolve(c), u.manifest.forEach(function (t, e) { var i = n(t.title); h[i] = e, l.push(i) }), r(), s = o }(e, p, r, b), m = function (t) { setTimeout(function () { throw t }) }, g = function (t, e, n, i) { var r, o; o = window.TUTORIAL_DATA, r = new t({ el: ".app-container", data: { manifest: o.manifest, currentStep: o.step } }), r.on({ navigate: function (t, o) { e(t, o).then(function (e) { r.set("currentStep", e), window.history.pushState(e, null, "" + i + ("/" + t) + ("/" + o)) }).catch(n) } }), window.history && "function" == typeof window.history.replaceState && window.history.replaceState(o.step, "", window.location.pathname), window.addEventListener("popstate", function (t) { t.state && r.set("currentStep", t.state) }), window.view = r }(d, v, m, b)
}();